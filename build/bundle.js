var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function i(t){return null==t?"":t}function u(t,n){t.appendChild(n)}function s(t,n,e){t.insertBefore(n,e||null)}function f(t){t.parentNode.removeChild(t)}function a(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function d(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function g(){return m(" ")}function p(){return m("")}function h(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function w(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function $(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let b;function v(t){b=t}function C(){if(!b)throw new Error("Function called outside component initialization");return b}function y(t){C().$$.before_update.push(t)}function k(){const t=C();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const l=function(t,n,e=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,e,!1,n),o}(n,e);o.slice().forEach((n=>{n.call(t,l)}))}}}const x=[],M=[],_=[],E=[],O=Promise.resolve();let B=!1;function R(t){_.push(t)}let P=!1;const j=new Set;function q(){if(!P){P=!0;do{for(let t=0;t<x.length;t+=1){const n=x[t];v(n),I(n.$$)}for(v(null),x.length=0;M.length;)M.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];j.has(n)||(j.add(n),n())}_.length=0}while(x.length);for(;E.length;)E.pop()();B=!1,P=!1,j.clear()}}function I(t){if(null!==t.fragment){t.update(),l(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(R)}}const N=new Set;let z;function A(){z={r:0,c:[],p:z}}function T(){z.r||l(z.c),z=z.p}function U(t,n){t&&t.i&&(N.delete(t),t.i(n))}function S(t,n,e,o){if(t&&t.o){if(N.has(t))return;N.add(t),z.c.push((()=>{N.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function L(t,n){S(t,1,1,(()=>{n.delete(t.key)}))}function F(t,n,e,o,l,r,c,i,u,s,f,a){let d=t.length,m=r.length,g=d;const p={};for(;g--;)p[t[g].key]=g;const h=[],w=new Map,$=new Map;for(g=m;g--;){const t=a(l,r,g),i=e(t);let u=c.get(i);u?o&&u.p(t,n):(u=s(i,t),u.c()),w.set(i,h[g]=u),i in p&&$.set(i,Math.abs(g-p[i]))}const b=new Set,v=new Set;function C(t){U(t,1),t.m(i,f),c.set(t.key,t),f=t.first,m--}for(;d&&m;){const n=h[m-1],e=t[d-1],o=n.key,l=e.key;n===e?(f=n.first,d--,m--):w.has(l)?!c.has(o)||b.has(o)?C(n):v.has(l)?d--:$.get(o)>$.get(l)?(v.add(o),C(n)):(b.add(l),d--):(u(e,c),d--)}for(;d--;){const n=t[d];w.has(n.key)||u(n,c)}for(;m;)C(h[m-1]);return h}function G(t,n){const e={},o={},l={$$scope:1};let r=t.length;for(;r--;){const c=t[r],i=n[r];if(i){for(const t in c)t in i||(o[t]=1);for(const t in i)l[t]||(e[t]=i[t],l[t]=1);t[r]=i}else for(const t in c)l[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}function V(t){return"object"==typeof t&&null!==t?t:{}}function W(t){t&&t.c()}function D(t,n,o,c){const{fragment:i,on_mount:u,on_destroy:s,after_update:f}=t.$$;i&&i.m(n,o),c||R((()=>{const n=u.map(e).filter(r);s?s.push(...n):l(n),t.$$.on_mount=[]})),f.forEach(R)}function H(t,n){const e=t.$$;null!==e.fragment&&(l(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function J(t,n){-1===t.$$.dirty[0]&&(x.push(t),B||(B=!0,O.then(q)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function K(n,e,r,c,i,u,s,a=[-1]){const d=b;v(n);const m=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:o(),dirty:a,skip_bound:!1,root:e.target||d.$$.root};s&&s(m.root);let g=!1;if(m.ctx=r?r(n,e.props||{},((t,e,...o)=>{const l=o.length?o[0]:e;return m.ctx&&i(m.ctx[t],m.ctx[t]=l)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](l),g&&J(n,t)),e})):[],m.update(),g=!0,l(m.before_update),m.fragment=!!c&&c(m.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);m.fragment&&m.fragment.l(t),t.forEach(f)}else m.fragment&&m.fragment.c();e.intro&&U(n.$$.fragment),D(n,e.target,e.anchor,e.customElement),q()}v(d)}class Q{$destroy(){H(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function X(t){let n,e,o,l=(t[3]||0==t[4]?"":t[4])+"";return{c(){n=d("div"),e=m(l),w(n,"class",o=i(["cell","opened",t[4]&&0!=t[4]?"":"transparent",t[3]?"mined":"",t[6]?"chartleted":""].join(" "))+" svelte-1irbdl7"),w(n,"id",t[0])},m(t,o){s(t,n,o),u(n,e)},p(t,r){24&r&&l!==(l=(t[3]||0==t[4]?"":t[4])+"")&&$(e,l),88&r&&o!==(o=i(["cell","opened",t[4]&&0!=t[4]?"":"transparent",t[3]?"mined":"",t[6]?"chartleted":""].join(" "))+" svelte-1irbdl7")&&w(n,"class",o),1&r&&w(n,"id",t[0])},d(t){t&&f(n)}}}function Y(t){let n,e,o,l;return{c(){n=d("div"),w(n,"class",e=i(["cell",t[8]?"selected":"",t[2]?"flagged":""].join(" "))+" svelte-1irbdl7"),w(n,"id",t[0])},m(e,r){s(e,n,r),o||(l=h(n,"click",t[9]),o=!0)},p(t,o){260&o&&e!==(e=i(["cell",t[8]?"selected":"",t[2]?"flagged":""].join(" "))+" svelte-1irbdl7")&&w(n,"class",e),1&o&&w(n,"id",t[0])},d(t){t&&f(n),o=!1,l()}}}function Z(t){let n;return{c(){n=d("div"),w(n,"class",i(["cell"].join(" "))+" svelte-1irbdl7"),w(n,"id",t[0])},m(t,e){s(t,n,e)},p(t,e){1&e&&w(n,"id",t[0])},d(t){t&&f(n)}}}function tt(n){let e;function o(t,n){return t[5]?Z:t[1]||t[7]&&t[3]||t[7]&&t[6]?X:Y}let l=o(n),r=l(n);return{c(){r.c(),e=p()},m(t,n){r.m(t,n),s(t,e,n)},p(t,[n]){l===(l=o(t))&&r?r.p(t,n):(r.d(1),r=l(t),r&&(r.c(),r.m(e.parentNode,e)))},i:t,o:t,d(t){r.d(t),t&&f(e)}}}function nt(t,n,e){let{id:o}=n,{row:l}=n,{column:r}=n,{opened:c}=n,{flagged:i}=n,{mined:u}=n,{neighborMineCount:s}=n,{disabled:f}=n,{chartleted:a}=n,{gameOver:d}=n,{currentCell:m}=n;const g=k();let p=m&&m.id===o;return y((()=>{e(8,p=m&&m.id===o)})),t.$$set=t=>{"id"in t&&e(0,o=t.id),"row"in t&&e(10,l=t.row),"column"in t&&e(11,r=t.column),"opened"in t&&e(1,c=t.opened),"flagged"in t&&e(2,i=t.flagged),"mined"in t&&e(3,u=t.mined),"neighborMineCount"in t&&e(4,s=t.neighborMineCount),"disabled"in t&&e(5,f=t.disabled),"chartleted"in t&&e(6,a=t.chartleted),"gameOver"in t&&e(7,d=t.gameOver),"currentCell"in t&&e(12,m=t.currentCell)},[o,c,i,u,s,f,a,d,p,function(){g("click",{id:o,row:l,column:r,opened:c,flagged:i,mined:u,neighborMineCount:s,disabled:f,chartleted:a})},l,r,m]}class et extends Q{constructor(t){super(),K(this,t,nt,tt,c,{id:0,row:10,column:11,opened:1,flagged:2,mined:3,neighborMineCount:4,disabled:5,chartleted:6,gameOver:7,currentCell:12})}}function ot(n){let e,o,r,c,i,a,p,b,v,C,y,k,x,M,_,E=lt(n[0]-n[1])+"";return{c(){e=d("div"),o=d("div"),r=m(E),c=g(),i=d("div"),a=g(),p=d("div"),b=g(),v=d("div"),C=g(),y=d("div"),k=g(),x=d("div"),w(o,"class","minecount svelte-1tcey3x"),w(i,"class","open svelte-1tcey3x"),w(p,"class","flag svelte-1tcey3x"),w(v,"class","zoom svelte-1tcey3x"),w(y,"class","restart svelte-1tcey3x"),w(x,"class","next svelte-1tcey3x"),w(e,"class","button-group svelte-1tcey3x")},m(t,l){s(t,e,l),u(e,o),u(o,r),u(e,c),u(e,i),u(e,a),u(e,p),u(e,b),u(e,v),u(e,C),u(e,y),u(e,k),u(e,x),M||(_=[h(i,"click",n[2]),h(p,"click",n[3]),h(v,"click",n[4]),h(y,"click",n[5]),h(x,"click",n[6])],M=!0)},p(t,[n]){3&n&&E!==(E=lt(t[0]-t[1])+"")&&$(r,E)},i:t,o:t,d(t){t&&f(e),M=!1,l(_)}}}function lt(t){return("000"+t).slice(-3)}function rt(t,n,e){let{mineCount:o}=n,{flagCount:l}=n;const r=k();return t.$$set=t=>{"mineCount"in t&&e(0,o=t.mineCount),"flagCount"in t&&e(1,l=t.flagCount)},[o,l,function(){r("open")},function(){r("flag")},function(){r("zoom")},function(){r("restart")},function(){r("next")}]}class ct extends Q{constructor(t){super(),K(this,t,rt,ot,c,{mineCount:0,flagCount:1})}}function it(t,n){return`${t}/${n}`}function ut({row:t,column:n,...e}){return{id:it(t,n),row:t,column:n,...e}}function st(t,n){return Math.floor(Math.random()*(n-t))+t}function ft(t){const[n,e]=t.split("/");return{row:n,column:e}}function at(t,n){let{row:e,column:o}=ft(t);e=parseInt(e),o=parseInt(o);const l=[];l.push(it(e-1,o-1)),l.push(it(e-1,o)),l.push(it(e-1,o+1)),l.push(it(e,o-1)),l.push(it(e,o+1)),l.push(it(e+1,o-1)),l.push(it(e+1,o)),l.push(it(e+1,o+1));const{rows:r,columns:c}=n;for(let t=0;t<l.length;t++){let{row:n,column:e}=ft(l[t]);(n<0||e<0||n>=r||e>=c)&&(l.splice(t,1),t--)}return l}function dt(t,n,e){const o=at(t.id,e);for(let t=0;t<o.length;t++){const{row:e,column:l}=ft(o[t]),r=n[e][l];if(void 0!==r&&r.chartleted)return!0}return!1}function mt(t){const{rows:n,columns:e,startRow:o,mineCount:l}=t;let r=[];for(let t=0;t<n;t++)for(let n=0;n<e;n++)r[t]=r[t]||[],r[t][n]=ut({row:o+t,column:n,opened:!1,flagged:!1,mined:!1,neighborMineCount:0,disabled:!1,chartleted:!1});return r}const gt=10,pt=65,ht={startRow:0,rows:28,columns:16,mineCount:32},wt={startRow:0,rows:gt,columns:16,mineCount:12},$t={startRow:gt,rows:9,columns:16,mineCount:10},bt={startRow:19,rows:9,columns:16,mineCount:10};function vt(t,n){const{row:e,column:o}=ft(n),l=t[e][o];let r=0;return void 0!==l&&(r=l.mined?1:0),r}function Ct(t,n,e){const{row:o,column:l}=ft(t.id);o<gt?(!function(t,n,{regionTopChartletPosition:e}){let{row:o,column:l}=ft(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+3},i={row:o+1,column:l-2},u={row:0,column:0};r.row<0&&(u.row=-r.row);i.row>9&&(u.row=-(i.row-9));r.column<0&&(u.column=-r.column);c.column>15&&(u.column=-(c.column-15));r.row+=u.row,r.column+=u.column,c.row+=u.row,c.column+=u.column,c.column>13&&c.row<2&&(l<=13&&o>=2?(r.row+=2-c.row,r.column+=13-c.column):l<=13&&o<2?r.column+=13-c.column:l>13&&o>=2&&(r.row+=2-c.row));yt(n,r,e,{chartletRows:3,chartletColumns:6})}(t,n,e),xt(n,e),Mt(n,e)):o<19?(!function(t,n,{regionMiddleChartletPosition:e}){let{row:o,column:l}=ft(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+2},i={row:o+2,column:l-2},u={row:0,column:0};r.row<10&&(u.row=-(r.row-10));i.row>18&&(u.row=-(i.row-18));r.column<0&&(u.column=-r.column);c.column>15&&(u.column=-(c.column-15));r.row+=u.row,r.column+=u.column,yt(n,r,e,{chartletRows:4,chartletColumns:5})}(t,n,e),kt(n,e),Mt(n,e)):o<28&&(!function(t,n,{regionBottomChartletPosition:e}){let{row:o,column:l}=ft(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-3},c={row:o-1,column:l+4},i={row:o+1,column:l-3},u={row:o+1,column:l+4},s={row:0,column:0};r.row<19&&(s.row=-(r.row-19));i.row>27&&(s.row=-(i.row-27));r.column<0&&(s.column=-r.column);c.column>15&&(s.column=-(c.column-15));r.row+=s.row,r.column+=s.column,u.row+=s.row,u.column+=s.column,u.column>11&&u.row>24&&(l<=11&&o<=24?(r.row+=24-u.row,r.column+=11-u.column):l<=11&&o>24?r.column+=11-u.column:l>11&&o<=24&&(r.row+=24-u.row));i.column<3&&i.row>21&&(l>=3&&o<=21?(r.row+=21-i.row,r.column+=3-i.column):l>=3&&o>21?r.column+=3-i.column:l<3&&o<=21&&(r.row+=21-i.row));yt(n,r,e,{chartletRows:3,chartletColumns:8})}(t,n,e),kt(n,e),xt(n,e))}function yt(t,n,e,{chartletRows:o,chartletColumns:l}){const{row:r,column:c}=n;e.top=r*pt+"px",e.left=c*pt+"px";for(let n=r;n<r+o;n++)for(let e=c;e<c+l;e++)t[n][e]=ut({...t[n][e],chartleted:!0})}function kt(t,{regionTopChartletPosition:n}){const e=st(0,8),o=st(0,9);n.top=e*pt+"px",n.left=o*pt+"px";for(let n=e;n<e+3;n++)for(let e=o;e<o+6;e++)t[n][e]=ut({...t[n][e],chartleted:!0})}function xt(t,{regionMiddleChartletPosition:n}){const e=st(10,16),o=st(0,12);n.top=e*pt+"px",n.left=o*pt+"px";for(let n=e;n<e+4;n++)for(let e=o;e<o+5;e++)t[n][e]=ut({...t[n][e],chartleted:!0})}function Mt(t,{regionBottomChartletPosition:n}){const e=st(19,26),o=st(3,5);n.top=e*pt+"px",n.left=o*pt+"px";for(let n=e;n<e+3;n++)for(let e=o;e<o+8;e++)t[n][e]=ut({...t[n][e],chartleted:!0})}const _t=["0/14","0/15","1/14","1/15"];const Et=["22/0","22/1","22/2","23/0","23/1","23/2","24/0","24/1","24/2","25/0","25/1","25/2","26/0","26/1","26/2","27/0","27/1","27/2"];const Ot=["25/12","25/13","25/14","25/15","26/12","26/13","26/14","26/15","27/12","27/13","27/14","27/15"];function Bt(t,n,{forceUpdateBoard:e,boardConfig:o,loss:l}){if(!(t.opened||t.disabled||t.flagged))if(t.mined)l();else{if(n[t.row][t.column].opened=t.opened=!0,!t.neighborMineCount){const r=at(t.id,o);for(let t=0;t<r.length;t++){const{row:c,column:i}=ft(r[t]),u=n[c][i];void 0===u||u.opened||u.disabled||Bt(u,n,{forceUpdateBoard:e,boardConfig:o,loss:l})}}e()}}function Rt(t,n,e){const o=t.slice();return o[26]=n[e],o}function Pt(t,n,e){const o=t.slice();return o[29]=n[e],o}function jt(t,n,e){const o=t.slice();return o[26]=n[e],o}function qt(t,n,e){const o=t.slice();return o[29]=n[e],o}function It(t,n,e){const o=t.slice();return o[26]=n[e],o}function Nt(t,n,e){const o=t.slice();return o[29]=n[e],o}function zt(t,e){let o,l,r;const c=[{gameOver:e[6]},{currentCell:e[2]},e[29]];let i={};for(let t=0;t<c.length;t+=1)i=n(i,c[t]);return l=new et({props:i}),l.$on("click",e[10]),{key:t,first:null,c(){o=p(),W(l.$$.fragment),this.first=o},m(t,n){s(t,o,n),D(l,t,n),r=!0},p(t,n){e=t;const o=76&n[0]?G(c,[64&n[0]&&{gameOver:e[6]},4&n[0]&&{currentCell:e[2]},8&n[0]&&V(e[29])]):{};l.$set(o)},i(t){r||(U(l.$$.fragment,t),r=!0)},o(t){S(l.$$.fragment,t),r=!1},d(t){t&&f(o),H(l,t)}}}function At(t){let n,e,o,l=[],r=new Map,c=t[26];const i=t=>t[29].id;for(let n=0;n<c.length;n+=1){let e=Nt(t,c,n),o=i(e);r.set(o,l[n]=zt(o,e))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();n=g(),e=d("br")},m(t,r){for(let n=0;n<l.length;n+=1)l[n].m(t,r);s(t,n,r),s(t,e,r),o=!0},p(t,e){1100&e[0]&&(c=t[26],A(),l=F(l,e,i,1,t,c,r,n.parentNode,L,zt,n,Nt),T())},i(t){if(!o){for(let t=0;t<c.length;t+=1)U(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)S(l[t]);o=!1},d(t){for(let n=0;n<l.length;n+=1)l[n].d(t);t&&f(n),t&&f(e)}}}function Tt(t,e){let o,l,r;const c=[{gameOver:e[6]},{currentCell:e[2]},e[29]];let i={};for(let t=0;t<c.length;t+=1)i=n(i,c[t]);return l=new et({props:i}),l.$on("click",e[11]),{key:t,first:null,c(){o=p(),W(l.$$.fragment),this.first=o},m(t,n){s(t,o,n),D(l,t,n),r=!0},p(t,n){e=t;const o=84&n[0]?G(c,[64&n[0]&&{gameOver:e[6]},4&n[0]&&{currentCell:e[2]},16&n[0]&&V(e[29])]):{};l.$set(o)},i(t){r||(U(l.$$.fragment,t),r=!0)},o(t){S(l.$$.fragment,t),r=!1},d(t){t&&f(o),H(l,t)}}}function Ut(t){let n,e,o,l=[],r=new Map,c=t[26];const i=t=>t[29].id;for(let n=0;n<c.length;n+=1){let e=qt(t,c,n),o=i(e);r.set(o,l[n]=Tt(o,e))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();n=g(),e=d("br")},m(t,r){for(let n=0;n<l.length;n+=1)l[n].m(t,r);s(t,n,r),s(t,e,r),o=!0},p(t,e){2132&e[0]&&(c=t[26],A(),l=F(l,e,i,1,t,c,r,n.parentNode,L,Tt,n,qt),T())},i(t){if(!o){for(let t=0;t<c.length;t+=1)U(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)S(l[t]);o=!1},d(t){for(let n=0;n<l.length;n+=1)l[n].d(t);t&&f(n),t&&f(e)}}}function St(t,e){let o,l,r;const c=[{gameOver:e[6]},{currentCell:e[2]},e[29]];let i={};for(let t=0;t<c.length;t+=1)i=n(i,c[t]);return l=new et({props:i}),l.$on("click",e[12]),{key:t,first:null,c(){o=p(),W(l.$$.fragment),this.first=o},m(t,n){s(t,o,n),D(l,t,n),r=!0},p(t,n){e=t;const o=100&n[0]?G(c,[64&n[0]&&{gameOver:e[6]},4&n[0]&&{currentCell:e[2]},32&n[0]&&V(e[29])]):{};l.$set(o)},i(t){r||(U(l.$$.fragment,t),r=!0)},o(t){S(l.$$.fragment,t),r=!1},d(t){t&&f(o),H(l,t)}}}function Lt(t){let n,e,o,l=[],r=new Map,c=t[26];const i=t=>t[29].id;for(let n=0;n<c.length;n+=1){let e=Pt(t,c,n),o=i(e);r.set(o,l[n]=St(o,e))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();n=g(),e=d("br")},m(t,r){for(let n=0;n<l.length;n+=1)l[n].m(t,r);s(t,n,r),s(t,e,r),o=!0},p(t,e){4196&e[0]&&(c=t[26],A(),l=F(l,e,i,1,t,c,r,n.parentNode,L,St,n,Pt),T())},i(t){if(!o){for(let t=0;t<c.length;t+=1)U(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)S(l[t]);o=!1},d(t){for(let n=0;n<l.length;n+=1)l[n].d(t);t&&f(n),t&&f(e)}}}function Ft(t){let n,e,o,l,r,c,i,m,p,h,$,b,v,C,y,k,x,M,_,E,O,B,R=t[3],P=[];for(let n=0;n<R.length;n+=1)P[n]=At(It(t,R,n));const j=t=>S(P[t],1,1,(()=>{P[t]=null}));let q=t[4],I=[];for(let n=0;n<q.length;n+=1)I[n]=Ut(jt(t,q,n));const N=t=>S(I[t],1,1,(()=>{I[t]=null}));let z=t[5],L=[];for(let n=0;n<z.length;n+=1)L[n]=Lt(Rt(t,z,n));const F=t=>S(L[t],1,1,(()=>{L[t]=null}));return O=new ct({props:{mineCount:t[0],flagCount:t[1]}}),O.$on("open",t[13]),O.$on("flag",t[14]),O.$on("zoom",Gt),O.$on("restart",t[15]),O.$on("next",Vt),{c(){n=d("div"),e=d("div"),o=d("div"),r=g(),c=d("div"),m=g(),p=d("div"),$=g(),b=d("div"),v=g(),C=d("div"),y=g(),k=d("div"),x=g();for(let t=0;t<P.length;t+=1)P[t].c();M=g();for(let t=0;t<I.length;t+=1)I[t].c();_=g();for(let t=0;t<L.length;t+=1)L[t].c();E=g(),W(O.$$.fragment),w(o,"class","chartlet top svelte-1wqd69k"),w(o,"style",l=`background-image: url(./images/chartlettop${st(1,6)}.png);top: ${t[7].top};left: ${t[7].left}`),w(c,"class","chartlet middle svelte-1wqd69k"),w(c,"style",i=`background-image: url(./images/chartletmiddle${st(1,6)}.png);top: ${t[8].top};left: ${t[8].left}`),w(p,"class","chartlet bottom svelte-1wqd69k"),w(p,"style",h=`background-image: url(./images/chartletbottom${st(1,6)}.png);top: ${t[9].top};left: ${t[9].left}`),w(b,"class","layer number22 svelte-1wqd69k"),w(C,"class","layer infos svelte-1wqd69k"),w(k,"class","layer logo svelte-1wqd69k"),w(e,"class","board svelte-1wqd69k"),w(n,"class","container svelte-1wqd69k"),w(n,"style",`background-image: url(./images/bg${st(1,6)}.png)`)},m(t,l){s(t,n,l),u(n,e),u(e,o),u(e,r),u(e,c),u(e,m),u(e,p),u(e,$),u(e,b),u(e,v),u(e,C),u(e,y),u(e,k),u(e,x);for(let t=0;t<P.length;t+=1)P[t].m(e,null);u(e,M);for(let t=0;t<I.length;t+=1)I[t].m(e,null);u(e,_);for(let t=0;t<L.length;t+=1)L[t].m(e,null);u(e,E),D(O,e,null),B=!0},p(t,n){if((!B||128&n[0]&&l!==(l=`background-image: url(./images/chartlettop${st(1,6)}.png);top: ${t[7].top};left: ${t[7].left}`))&&w(o,"style",l),(!B||256&n[0]&&i!==(i=`background-image: url(./images/chartletmiddle${st(1,6)}.png);top: ${t[8].top};left: ${t[8].left}`))&&w(c,"style",i),(!B||512&n[0]&&h!==(h=`background-image: url(./images/chartletbottom${st(1,6)}.png);top: ${t[9].top};left: ${t[9].left}`))&&w(p,"style",h),1100&n[0]){let o;for(R=t[3],o=0;o<R.length;o+=1){const l=It(t,R,o);P[o]?(P[o].p(l,n),U(P[o],1)):(P[o]=At(l),P[o].c(),U(P[o],1),P[o].m(e,M))}for(A(),o=R.length;o<P.length;o+=1)j(o);T()}if(2132&n[0]){let o;for(q=t[4],o=0;o<q.length;o+=1){const l=jt(t,q,o);I[o]?(I[o].p(l,n),U(I[o],1)):(I[o]=Ut(l),I[o].c(),U(I[o],1),I[o].m(e,_))}for(A(),o=q.length;o<I.length;o+=1)N(o);T()}if(4196&n[0]){let o;for(z=t[5],o=0;o<z.length;o+=1){const l=Rt(t,z,o);L[o]?(L[o].p(l,n),U(L[o],1)):(L[o]=Lt(l),L[o].c(),U(L[o],1),L[o].m(e,E))}for(A(),o=z.length;o<L.length;o+=1)F(o);T()}const r={};1&n[0]&&(r.mineCount=t[0]),2&n[0]&&(r.flagCount=t[1]),O.$set(r)},i(t){if(!B){for(let t=0;t<R.length;t+=1)U(P[t]);for(let t=0;t<q.length;t+=1)U(I[t]);for(let t=0;t<z.length;t+=1)U(L[t]);U(O.$$.fragment,t),B=!0}},o(t){P=P.filter(Boolean);for(let t=0;t<P.length;t+=1)S(P[t]);I=I.filter(Boolean);for(let t=0;t<I.length;t+=1)S(I[t]);L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)S(L[t]);S(O.$$.fragment,t),B=!1},d(t){t&&f(n),a(P,t),a(I,t),a(L,t),H(O)}}}function Gt(t){console.log("zoom")}function Vt(t){console.log("next")}function Wt(t,n,e){let o,l,r,c,i,u,s,f,a,d,m;function g(){return[...c,...i,...u]}function p(){e(3,c),e(4,i),e(5,u)}function h(t){f||t.disabled||t.opened||(r&&r.id===t.id?e(2,r=null):e(2,r=t))}function w(){e(6,f=!0),alert("GAME OVER!")}function $(t){e(1,l+=t?1:-1)}function b(){const t=g(),n=[];for(let e=0;e<t.length;e++)for(let o=0;o<t[e].length;o++){const l=t[e][o];l.opened||n.push(l)}let o=!0;n.forEach((t=>{t.mined||t.disabled||(o=!1)}));let l=!0;return n.forEach((t=>{(t.flagged&&!t.mined||!t.flagged&&t.mined)&&(l=!1)})),(o||l)&&(e(6,f=!0),alert("WIN!")),o||l}function v(){e(0,o=ht.mineCount),e(1,l=0),e(3,c=mt({...wt,mineCount:0})),e(4,i=mt({...$t,mineCount:0})),e(5,u=mt({...bt,mineCount:0})),s=!0,e(6,f=!1),e(2,r=null),e(7,a={top:0,left:"-780px"}),e(8,d={top:0,left:"-780px"}),e(9,m={top:0,left:"-780px"}),function(t){for(let n=0;n<_t.length;n++){const{row:e,column:o}=ft(_t[n]);t[e][o]=ut({...t[e][o],disabled:!0})}}(g()),function(t){for(let n=0;n<Et.length;n++){const{row:e,column:o}=ft(Et[n]);t[e][o]=ut({...t[e][o],disabled:!0})}}(g()),function(t){for(let n=0;n<Ot.length;n++){const{row:e,column:o}=ft(Ot[n]);t[e][o]=ut({...t[e][o],disabled:!0})}}(g()),p()}return y((()=>{console.log("app",g())})),v(),[o,l,r,c,i,u,f,a,d,m,function(t){const{detail:n}=t;h(n)},function(t){const{detail:n}=t;h(n)},function(t){const{detail:n}=t;h(n)},function(t){f||r&&(s&&(s=!1,Ct(r,g(),{regionTopChartletPosition:a,regionMiddleChartletPosition:d,regionBottomChartletPosition:m}),e(7,a),e(8,d),e(9,m),function(t,n){const{rows:e,columns:o,mineCount:l,startRow:r}=n,c=[];for(let r=0;r<l;r++){let l=st(0,e),r=st(0,o),i=it(l,r),u=t[l][r];for(;c.includes(i)||u.disabled||u.chartleted||dt(u,t,n);)l=st(0,e),r=st(0,o),i=it(l,r),u=t[l][r];c.push(i),t[l][r].mined=!0}}(g(),ht),function(t,n){const{rows:e,columns:o}=n;let l,r=0;for(let c=0;c<e;c++)for(let e=0;e<o;e++){const o=it(c,e);if(l=t[c][e],l.neighborMineCount=0,!l.mined){const e=at(o,n);r=0;for(let n=0;n<e.length;n++)r+=vt(t,e[n]);l.neighborMineCount=r}}}(g(),ht),p()),Bt(r,g(),{forceUpdateBoard:p,boardConfig:ht,loss:w}),b())},function(t){if(!f&&r){if(!r.flagged&&l>=o)return;!function(t,n,{forceUpdateBoard:e,boardConfig:o,flagged:l}){t.opened||t.disabled||(n[t.row][t.column].flagged=t.flagged=!t.flagged,console.log("cell",t,n),l(t.flagged),e())}(r,g(),{forceUpdateBoard:p,boardConfig:ht,flagged:$}),b()}},function(t){v()}]}return new class extends Q{constructor(t){super(),K(this,t,Wt,Ft,c,{},null,[-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
