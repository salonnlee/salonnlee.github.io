var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function o(){return Object.create(null)}function l(e){e.forEach(n)}function r(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let i,s;function u(e,t){return i||(i=document.createElement("a")),i.href=t,e===i.href}function a(e){return null==e?"":e}function d(e,t){e.appendChild(t)}function g(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function m(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function w(){return h(" ")}function $(){return h("")}function v(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function C(e){s=e}function x(){if(!s)throw new Error("Function called outside component initialization");return s}function k(e){x().$$.before_update.push(e)}function j(){const e=x();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const l=function(e,t,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,!1,t),o}(t,n);o.slice().forEach((t=>{t.call(e,l)}))}}}const I=[],M=[],_=[],E=[],T=Promise.resolve();let z=!1;function q(e){_.push(e)}let O=!1;const B=new Set;function L(){if(!O){O=!0;do{for(let e=0;e<I.length;e+=1){const t=I[e];C(t),H(t.$$)}for(C(null),I.length=0;M.length;)M.pop()();for(let e=0;e<_.length;e+=1){const t=_[e];B.has(t)||(B.add(t),t())}_.length=0}while(I.length);for(;E.length;)E.pop()();z=!1,O=!1,B.clear()}}function H(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(q)}}const P=new Set;let R;function N(){R={r:0,c:[],p:R}}function A(){R.r||l(R.c),R=R.p}function U(e,t){e&&e.i&&(P.delete(e),e.i(t))}function S(e,t,n,o){if(e&&e.o){if(P.has(e))return;P.add(e),R.c.push((()=>{P.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function F(e,t){S(e,1,1,(()=>{t.delete(e.key)}))}function D(e,t,n,o,l,r,c,i,s,u,a,d){let g=e.length,f=r.length,m=g;const p={};for(;m--;)p[e[m].key]=m;const h=[],w=new Map,$=new Map;for(m=f;m--;){const e=d(l,r,m),i=n(e);let s=c.get(i);s?o&&s.p(e,t):(s=u(i,e),s.c()),w.set(i,h[m]=s),i in p&&$.set(i,Math.abs(m-p[i]))}const v=new Set,b=new Set;function y(e){U(e,1),e.m(i,a),c.set(e.key,e),a=e.first,f--}for(;g&&f;){const t=h[f-1],n=e[g-1],o=t.key,l=n.key;t===n?(a=t.first,g--,f--):w.has(l)?!c.has(o)||v.has(o)?y(t):b.has(l)?g--:$.get(o)>$.get(l)?(b.add(o),y(t)):(v.add(l),g--):(s(n,c),g--)}for(;g--;){const t=e[g];w.has(t.key)||s(t,c)}for(;f;)y(h[f-1]);return h}function G(e,t){const n={},o={},l={$$scope:1};let r=e.length;for(;r--;){const c=e[r],i=t[r];if(i){for(const e in c)e in i||(o[e]=1);for(const e in i)l[e]||(n[e]=i[e],l[e]=1);e[r]=i}else for(const e in c)l[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}function J(e){return"object"==typeof e&&null!==e?e:{}}function K(e){e&&e.c()}function Q(e,t,o,c){const{fragment:i,on_mount:s,on_destroy:u,after_update:a}=e.$$;i&&i.m(t,o),c||q((()=>{const t=s.map(n).filter(r);u?u.push(...t):l(t),e.$$.on_mount=[]})),a.forEach(q)}function V(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function W(e,t){-1===e.$$.dirty[0]&&(I.push(e),z||(z=!0,T.then(L)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function X(t,n,r,c,i,u,a,d=[-1]){const g=s;C(t);const m=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(g?g.$$.context:[])),callbacks:o(),dirty:d,skip_bound:!1,root:n.target||g.$$.root};a&&a(m.root);let p=!1;if(m.ctx=r?r(t,n.props||{},((e,n,...o)=>{const l=o.length?o[0]:n;return m.ctx&&i(m.ctx[e],m.ctx[e]=l)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](l),p&&W(t,e)),n})):[],m.update(),p=!0,l(m.before_update),m.fragment=!!c&&c(m.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);m.fragment&&m.fragment.l(e),e.forEach(f)}else m.fragment&&m.fragment.c();n.intro&&U(t.$$.fragment),Q(t,n.target,n.anchor,n.customElement),L()}C(g)}class Y{$destroy(){V(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Z(e){let t,n,o,l=(e[3]||0==e[4]?"":e[4])+"";return{c(){t=p("div"),n=h(l),b(t,"class",o=a(["cell","opened",e[4]&&0!=e[4]?"":"transparent",e[3]?"mined":"",e[6]?"chartleted":""].join(" "))+" svelte-1k44rg6"),b(t,"id",e[0])},m(e,o){g(e,t,o),d(t,n)},p(e,r){24&r&&l!==(l=(e[3]||0==e[4]?"":e[4])+"")&&y(n,l),88&r&&o!==(o=a(["cell","opened",e[4]&&0!=e[4]?"":"transparent",e[3]?"mined":"",e[6]?"chartleted":""].join(" "))+" svelte-1k44rg6")&&b(t,"class",o),1&r&&b(t,"id",e[0])},d(e){e&&f(t)}}}function ee(e){let t,n,o,l;return{c(){t=p("div"),b(t,"class",n=a(["cell",e[8]?"selected":"",e[2]?"flagged":""].join(" "))+" svelte-1k44rg6"),b(t,"id",e[0])},m(n,r){g(n,t,r),o||(l=v(t,"click",e[9]),o=!0)},p(e,o){260&o&&n!==(n=a(["cell",e[8]?"selected":"",e[2]?"flagged":""].join(" "))+" svelte-1k44rg6")&&b(t,"class",n),1&o&&b(t,"id",e[0])},d(e){e&&f(t),o=!1,l()}}}function te(e){let t;return{c(){t=p("div"),b(t,"class",a(["cell"].join(" "))+" svelte-1k44rg6"),b(t,"id",e[0])},m(e,n){g(e,t,n)},p(e,n){1&n&&b(t,"id",e[0])},d(e){e&&f(t)}}}function ne(t){let n;function o(e,t){return e[5]?te:e[1]||e[7]&&e[3]||e[7]&&e[6]?Z:ee}let l=o(t),r=l(t);return{c(){r.c(),n=$()},m(e,t){r.m(e,t),g(e,n,t)},p(e,[t]){l===(l=o(e))&&r?r.p(e,t):(r.d(1),r=l(e),r&&(r.c(),r.m(n.parentNode,n)))},i:e,o:e,d(e){r.d(e),e&&f(n)}}}function oe(e,t,n){let{id:o}=t,{row:l}=t,{column:r}=t,{opened:c}=t,{flagged:i}=t,{mined:s}=t,{neighborMineCount:u}=t,{disabled:a}=t,{chartleted:d}=t,{gameOver:g}=t,{currentCell:f}=t;const m=j();let p=f&&f.id===o;return k((()=>{n(8,p=f&&f.id===o)})),e.$$set=e=>{"id"in e&&n(0,o=e.id),"row"in e&&n(10,l=e.row),"column"in e&&n(11,r=e.column),"opened"in e&&n(1,c=e.opened),"flagged"in e&&n(2,i=e.flagged),"mined"in e&&n(3,s=e.mined),"neighborMineCount"in e&&n(4,u=e.neighborMineCount),"disabled"in e&&n(5,a=e.disabled),"chartleted"in e&&n(6,d=e.chartleted),"gameOver"in e&&n(7,g=e.gameOver),"currentCell"in e&&n(12,f=e.currentCell)},[o,c,i,s,u,a,d,g,p,function(){m("click",{id:o,row:l,column:r,opened:c,flagged:i,mined:s,neighborMineCount:u,disabled:a,chartleted:d})},l,r,f]}class le extends Y{constructor(e){super(),X(this,e,oe,ne,c,{id:0,row:10,column:11,opened:1,flagged:2,mined:3,neighborMineCount:4,disabled:5,chartleted:6,gameOver:7,currentCell:12})}}function re(t){let n,o,r,c,i,s,u,a,m,$,C,x,k,j,I,M,_,E,T,z,q,O,B,L,H,P,R,N,A,U,S,F,D,G=ce(t[0]-t[1])+"";return{c(){n=p("div"),o=p("div"),r=h(G),c=w(),i=p("div"),s=p("div"),u=p("audio"),u.innerHTML='<source src="./audios/gamewin.mp3" preload="auto"/><source src="./audios/gamewin.ogg" preload="auto"/>',m=w(),$=p("div"),C=p("audio"),C.innerHTML='<source src="./audios/gameover.mp3" preload="auto"/><source src="./audios/gameover.ogg" preload="auto"/>',k=w(),j=p("div"),I=p("audio"),I.innerHTML='<source src="./audios/open.mp3" preload="auto"/><source src="./audios/open.ogg" preload="auto"/>',_=w(),E=p("div"),T=p("div"),z=p("audio"),z.innerHTML='<source src="./audios/gamewin.mp3" preload="auto"/><source src="./audios/gamewin.ogg" preload="auto"/>',O=w(),B=p("div"),L=p("audio"),L.innerHTML='<source src="./audios/flag.mp3" preload="auto"/><source src="./audios/flag.ogg" preload="auto"/>',P=w(),R=p("div"),R.innerHTML='<audio preload="auto"><source src="./audios/help.mp3" preload="auto"/><source src="./audios/help.ogg" preload="auto"/></audio>',N=w(),A=p("div"),A.innerHTML='<audio preload="auto"><source src="./audios/click.mp3" preload="auto"/><source src="./audios/click.ogg" preload="auto"/></audio>',U=w(),S=p("div"),S.innerHTML='<audio preload="auto"><source src="./audios/click.mp3" preload="auto"/><source src="./audios/click.ogg" preload="auto"/></audio>',b(o,"class","minecount svelte-4ljiyq"),b(u,"preload","auto"),b(s,"class","audio-wrap svelte-4ljiyq"),b(s,"style",a=`z-index: ${t[2]?69:-100};`),b(C,"preload","auto"),b($,"class","audio-wrap svelte-4ljiyq"),b($,"style",x=`z-index: ${t[3]&&!t[2]?69:-100};`),b(I,"preload","auto"),b(j,"class","audio-wrap svelte-4ljiyq"),b(j,"style",M=`z-index: ${t[3]||t[2]?-100:69};`),b(i,"class","open svelte-4ljiyq"),b(z,"preload","auto"),b(T,"class","audio-wrap svelte-4ljiyq"),b(T,"style",q=`z-index: ${t[2]?69:-100};`),b(L,"preload","auto"),b(B,"class","audio-wrap svelte-4ljiyq"),b(B,"style",H=`z-index: ${t[2]?-100:69};`),b(E,"class","flag svelte-4ljiyq"),b(R,"class","help svelte-4ljiyq"),b(A,"class","restart svelte-4ljiyq"),b(S,"class","next svelte-4ljiyq"),b(n,"class","button-group svelte-4ljiyq")},m(e,l){g(e,n,l),d(n,o),d(o,r),d(n,c),d(n,i),d(i,s),d(s,u),d(i,m),d(i,$),d($,C),d(i,k),d(i,j),d(j,I),d(n,_),d(n,E),d(E,T),d(T,z),d(E,O),d(E,B),d(B,L),d(n,P),d(n,R),d(n,N),d(n,A),d(n,U),d(n,S),F||(D=[v(i,"click",t[4]),v(E,"click",t[5]),v(R,"click",t[6]),v(A,"click",t[7]),v(S,"click",t[8])],F=!0)},p(e,[t]){3&t&&G!==(G=ce(e[0]-e[1])+"")&&y(r,G),4&t&&a!==(a=`z-index: ${e[2]?69:-100};`)&&b(s,"style",a),12&t&&x!==(x=`z-index: ${e[3]&&!e[2]?69:-100};`)&&b($,"style",x),12&t&&M!==(M=`z-index: ${e[3]||e[2]?-100:69};`)&&b(j,"style",M),4&t&&q!==(q=`z-index: ${e[2]?69:-100};`)&&b(T,"style",q),4&t&&H!==(H=`z-index: ${e[2]?-100:69};`)&&b(B,"style",H)},i:e,o:e,d(e){e&&f(n),F=!1,l(D)}}}function ce(e){return("000"+e).slice(-3)}function ie(e,t,n){let o,{mineCount:l}=t,{flagCount:r}=t,{currentCell:c}=t,{prewined:i}=t;k((()=>{n(3,o=c&&c.mined)}));const s=j();return e.$$set=e=>{"mineCount"in e&&n(0,l=e.mineCount),"flagCount"in e&&n(1,r=e.flagCount),"currentCell"in e&&n(9,c=e.currentCell),"prewined"in e&&n(2,i=e.prewined)},[l,r,i,o,function(){s("open")},function(){s("flag")},function(){s("help")},function(){s("restart")},function(){s("next")},c]}class se extends Y{constructor(e){super(),X(this,e,ie,re,c,{mineCount:0,flagCount:1,currentCell:9,prewined:2})}}function ue(e,t){return`${e}/${t}`}function ae({row:e,column:t,...n}){return{id:ue(e,t),row:e,column:t,...n}}function de(e,t){return Math.floor(Math.random()*(t-e))+e}function ge(e){const[t,n]=e.split("/");return{row:t,column:n}}function fe(e,t){let{row:n,column:o}=ge(e);n=parseInt(n),o=parseInt(o);const l=[];l.push(ue(n-1,o-1)),l.push(ue(n-1,o)),l.push(ue(n-1,o+1)),l.push(ue(n,o-1)),l.push(ue(n,o+1)),l.push(ue(n+1,o-1)),l.push(ue(n+1,o)),l.push(ue(n+1,o+1));const{rows:r,columns:c}=t;for(let e=0;e<l.length;e++){let{row:t,column:n}=ge(l[e]);(t<0||n<0||t>=r||n>=c)&&(l.splice(e,1),e--)}return l}function me(e,t,n){const o=fe(e.id,n);for(let e=0;e<o.length;e++){const{row:n,column:l}=ge(o[e]),r=t[n][l];if(void 0!==r&&r.chartleted)return!0}return!1}function pe(e){const{rows:t,columns:n,startRow:o,mineCount:l}=e;let r=[];for(let e=0;e<t;e++)for(let t=0;t<n;t++)r[e]=r[e]||[],r[e][t]=ae({row:o+e,column:t,opened:!1,flagged:!1,mined:!1,neighborMineCount:0,disabled:!1,chartleted:!1});return r}const he=10,we=65,$e={startRow:0,rows:28,columns:16,mineCount:32},ve={startRow:0,rows:he,columns:16,mineCount:12},be={startRow:he,rows:9,columns:16,mineCount:10},ye={startRow:19,rows:9,columns:16,mineCount:10};function Ce(e,t){const{row:n,column:o}=ge(t),l=e[n][o];let r=0;return void 0!==l&&(r=l.mined?1:0),r}function xe(e,t,n){const{row:o,column:l}=ge(e.id);o<he?(!function(e,t,{regionTopChartletPosition:n}){let{row:o,column:l}=ge(e.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+3},i={row:o+1,column:l-2},s={row:0,column:0};r.row<0&&(s.row=-r.row);i.row>9&&(s.row=-(i.row-9));r.column<0&&(s.column=-r.column);c.column>15&&(s.column=-(c.column-15));r.row+=s.row,r.column+=s.column,c.row+=s.row,c.column+=s.column,c.column>13&&c.row<2&&(l<=13&&o>=2?(r.row+=2-c.row,r.column+=13-c.column):l<=13&&o<2?r.column+=13-c.column:l>13&&o>=2&&(r.row+=2-c.row));ke(t,r,n,{chartletRows:3,chartletColumns:6})}(e,t,n),Ie(t,n),Me(t,n)):o<19?(!function(e,t,{regionMiddleChartletPosition:n}){let{row:o,column:l}=ge(e.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+2},i={row:o+2,column:l-2},s={row:0,column:0};r.row<10&&(s.row=-(r.row-10));i.row>18&&(s.row=-(i.row-18));r.column<0&&(s.column=-r.column);c.column>15&&(s.column=-(c.column-15));r.row+=s.row,r.column+=s.column,ke(t,r,n,{chartletRows:4,chartletColumns:5})}(e,t,n),je(t,n),Me(t,n)):o<28&&(!function(e,t,{regionBottomChartletPosition:n}){let{row:o,column:l}=ge(e.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-3},c={row:o-1,column:l+4},i={row:o+1,column:l-3},s={row:o+1,column:l+4},u={row:0,column:0};r.row<19&&(u.row=-(r.row-19));i.row>27&&(u.row=-(i.row-27));r.column<0&&(u.column=-r.column);c.column>15&&(u.column=-(c.column-15));r.row+=u.row,r.column+=u.column,s.row+=u.row,s.column+=u.column,s.column>11&&s.row>24&&(l<=11&&o<=24?(r.row+=24-s.row,r.column+=11-s.column):l<=11&&o>24?r.column+=11-s.column:l>11&&o<=24&&(r.row+=24-s.row));i.column<3&&i.row>21&&(l>=3&&o<=21?(r.row+=21-i.row,r.column+=3-i.column):l>=3&&o>21?r.column+=3-i.column:l<3&&o<=21&&(r.row+=21-i.row));ke(t,r,n,{chartletRows:3,chartletColumns:8})}(e,t,n),je(t,n),Ie(t,n))}function ke(e,t,n,{chartletRows:o,chartletColumns:l}){const{row:r,column:c}=t;n.top=r*we+"px",n.left=c*we+"px";for(let t=r;t<r+o;t++)for(let n=c;n<c+l;n++)e[t][n]=ae({...e[t][n],chartleted:!0})}function je(e,{regionTopChartletPosition:t}){const n=de(0,8),o=de(0,9);t.top=n*we+"px",t.left=o*we+"px";for(let t=n;t<n+3;t++)for(let n=o;n<o+6;n++)e[t][n]=ae({...e[t][n],chartleted:!0})}function Ie(e,{regionMiddleChartletPosition:t}){const n=de(10,16),o=de(0,12);t.top=n*we+"px",t.left=o*we+"px";for(let t=n;t<n+4;t++)for(let n=o;n<o+5;n++)e[t][n]=ae({...e[t][n],chartleted:!0})}function Me(e,{regionBottomChartletPosition:t}){const n=de(19,26),o=de(3,5);t.top=n*we+"px",t.left=o*we+"px";for(let t=n;t<n+3;t++)for(let n=o;n<o+8;n++)e[t][n]=ae({...e[t][n],chartleted:!0})}const _e=["0/14","0/15","1/14","1/15"];const Ee=["22/0","22/1","22/2","23/0","23/1","23/2","24/0","24/1","24/2","25/0","25/1","25/2","26/0","26/1","26/2","27/0","27/1","27/2"];const Te=["25/12","25/13","25/14","25/15","26/12","26/13","26/14","26/15","27/12","27/13","27/14","27/15"];function ze(e,t,{forceUpdateBoard:n,boardConfig:o,lose:l}){if(!(e.opened||e.disabled||e.flagged))if(e.mined)l();else{if(t[e.row][e.column].opened=e.opened=!0,!e.neighborMineCount){const r=fe(e.id,o);for(let e=0;e<r.length;e++){const{row:c,column:i}=ge(r[e]),s=t[c][i];void 0===s||s.opened||s.disabled||ze(s,t,{forceUpdateBoard:n,boardConfig:o,lose:l})}}n()}}function qe(e,t,n){const o=e.slice();return o[45]=t[n],o}function Oe(e,t,n){const o=e.slice();return o[48]=t[n],o}function Be(e,t,n){const o=e.slice();return o[45]=t[n],o}function Le(e,t,n){const o=e.slice();return o[48]=t[n],o}function He(e,t,n){const o=e.slice();return o[45]=t[n],o}function Pe(e,t,n){const o=e.slice();return o[48]=t[n],o}function Re(t){let n,o,l;return{c(){n=p("div"),b(n,"class","helped svelte-1jph99a")},m(e,r){g(e,n,r),o||(l=v(n,"click",t[25]),o=!0)},p:e,d(e){e&&f(n),o=!1,l()}}}function Ne(e){let t;return{c(){t=p("div"),b(t,"class","wined svelte-1jph99a")},m(e,n){g(e,t,n)},d(e){e&&f(t)}}}function Ae(e){let t;return{c(){t=p("div"),b(t,"class","losed svelte-1jph99a")},m(e,n){g(e,t,n)},d(e){e&&f(t)}}}function Ue(e,n){let o,l,r;const c=[{gameOver:n[8]},{currentCell:n[4]},n[48]];let i={};for(let e=0;e<c.length;e+=1)i=t(i,c[e]);return l=new le({props:i}),l.$on("click",n[19]),{key:e,first:null,c(){o=$(),K(l.$$.fragment),this.first=o},m(e,t){g(e,o,t),Q(l,e,t),r=!0},p(e,t){n=e;const o=304&t[0]?G(c,[256&t[0]&&{gameOver:n[8]},16&t[0]&&{currentCell:n[4]},32&t[0]&&J(n[48])]):{};l.$set(o)},i(e){r||(U(l.$$.fragment,e),r=!0)},o(e){S(l.$$.fragment,e),r=!1},d(e){e&&f(o),V(l,e)}}}function Se(e){let t,n,o,l=[],r=new Map,c=e[45];const i=e=>e[48].id;for(let t=0;t<c.length;t+=1){let n=Pe(e,c,t),o=i(n);r.set(o,l[t]=Ue(o,n))}return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=w(),n=p("br")},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);g(e,t,r),g(e,n,r),o=!0},p(e,n){524592&n[0]&&(c=e[45],N(),l=D(l,n,i,1,e,c,r,t.parentNode,F,Ue,t,Pe),A())},i(e){if(!o){for(let e=0;e<c.length;e+=1)U(l[e]);o=!0}},o(e){for(let e=0;e<l.length;e+=1)S(l[e]);o=!1},d(e){for(let t=0;t<l.length;t+=1)l[t].d(e);e&&f(t),e&&f(n)}}}function Fe(e,n){let o,l,r;const c=[{gameOver:n[8]},{currentCell:n[4]},n[48]];let i={};for(let e=0;e<c.length;e+=1)i=t(i,c[e]);return l=new le({props:i}),l.$on("click",n[20]),{key:e,first:null,c(){o=$(),K(l.$$.fragment),this.first=o},m(e,t){g(e,o,t),Q(l,e,t),r=!0},p(e,t){n=e;const o=336&t[0]?G(c,[256&t[0]&&{gameOver:n[8]},16&t[0]&&{currentCell:n[4]},64&t[0]&&J(n[48])]):{};l.$set(o)},i(e){r||(U(l.$$.fragment,e),r=!0)},o(e){S(l.$$.fragment,e),r=!1},d(e){e&&f(o),V(l,e)}}}function De(e){let t,n,o,l=[],r=new Map,c=e[45];const i=e=>e[48].id;for(let t=0;t<c.length;t+=1){let n=Le(e,c,t),o=i(n);r.set(o,l[t]=Fe(o,n))}return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=w(),n=p("br")},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);g(e,t,r),g(e,n,r),o=!0},p(e,n){1048912&n[0]&&(c=e[45],N(),l=D(l,n,i,1,e,c,r,t.parentNode,F,Fe,t,Le),A())},i(e){if(!o){for(let e=0;e<c.length;e+=1)U(l[e]);o=!0}},o(e){for(let e=0;e<l.length;e+=1)S(l[e]);o=!1},d(e){for(let t=0;t<l.length;t+=1)l[t].d(e);e&&f(t),e&&f(n)}}}function Ge(e,n){let o,l,r;const c=[{gameOver:n[8]},{currentCell:n[4]},n[48]];let i={};for(let e=0;e<c.length;e+=1)i=t(i,c[e]);return l=new le({props:i}),l.$on("click",n[21]),{key:e,first:null,c(){o=$(),K(l.$$.fragment),this.first=o},m(e,t){g(e,o,t),Q(l,e,t),r=!0},p(e,t){n=e;const o=400&t[0]?G(c,[256&t[0]&&{gameOver:n[8]},16&t[0]&&{currentCell:n[4]},128&t[0]&&J(n[48])]):{};l.$set(o)},i(e){r||(U(l.$$.fragment,e),r=!0)},o(e){S(l.$$.fragment,e),r=!1},d(e){e&&f(o),V(l,e)}}}function Je(e){let t,n,o,l=[],r=new Map,c=e[45];const i=e=>e[48].id;for(let t=0;t<c.length;t+=1){let n=Oe(e,c,t),o=i(n);r.set(o,l[t]=Ge(o,n))}return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=w(),n=p("br")},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);g(e,t,r),g(e,n,r),o=!0},p(e,n){2097552&n[0]&&(c=e[45],N(),l=D(l,n,i,1,e,c,r,t.parentNode,F,Ge,t,Oe),A())},i(e){if(!o){for(let e=0;e<c.length;e+=1)U(l[e]);o=!0}},o(e){for(let e=0;e<l.length;e+=1)S(l[e]);o=!1},d(e){for(let t=0;t<l.length;t+=1)l[t].d(e);e&&f(t),e&&f(n)}}}function Ke(e){let t,n,o,r,c,i,s,a,h,$,y,C,x,k,j,I,M,_,E,T,z,q,O,B,L,H,P,R,F,D,G,J,W,X,Y,Z,ee,te,ne,oe,le,re,ce=e[14]&&Re(e);function ie(e,t){return e[9]?Ae:e[10]?Ne:void 0}let ue=ie(e),ae=ue&&ue(e),ge=e[5],fe=[];for(let t=0;t<ge.length;t+=1)fe[t]=Se(He(e,ge,t));const me=e=>S(fe[e],1,1,(()=>{fe[e]=null}));let pe=e[6],he=[];for(let t=0;t<pe.length;t+=1)he[t]=De(Be(e,pe,t));const we=e=>S(he[e],1,1,(()=>{he[e]=null}));let $e=e[7],ve=[];for(let t=0;t<$e.length;t+=1)ve[t]=Je(qe(e,$e,t));const be=e=>S(ve[e],1,1,(()=>{ve[e]=null}));return ee=new se({props:{mineCount:e[0],flagCount:e[3],currentCell:e[4],prewined:e[11]}}),ee.$on("open",e[22]),ee.$on("flag",e[23]),ee.$on("help",e[24]),ee.$on("restart",e[28]),ee.$on("next",Qe),{c(){t=p("div"),n=p("div"),o=p("div"),c=w(),i=p("div"),a=w(),h=p("div"),y=w(),C=p("div"),x=w(),k=p("div"),j=w(),I=p("div"),M=w(),_=p("div"),E=p("img"),z=w(),q=p("audio"),q.innerHTML='<source src="./audios/bgm.mp3" loop="loop" preload="auto"/><source src="./audios/bgm.ogg" loop="loop" preload="auto"/>',B=w(),L=p("div"),H=p("img"),R=w(),F=p("audio"),F.innerHTML='<source src="./audios/click.mp3" preload="auto"/><source src="./audios/click.ogg" preload="auto"/>',G=w(),ce&&ce.c(),J=w(),ae&&ae.c(),W=w();for(let e=0;e<fe.length;e+=1)fe[e].c();X=w();for(let e=0;e<he.length;e+=1)he[e].c();Y=w();for(let e=0;e<ve.length;e+=1)ve[e].c();Z=w(),K(ee.$$.fragment),b(o,"class","chartlet top svelte-1jph99a"),b(o,"style",r=`background-image: url(./images/chartlettop${de(1,6)}.png);top: ${e[15].top};left: ${e[15].left}`),b(i,"class","chartlet middle svelte-1jph99a"),b(i,"style",s=`background-image: url(./images/chartletmiddle${de(1,6)}.png);top: ${e[16].top};left: ${e[16].left}`),b(h,"class","chartlet bottom svelte-1jph99a"),b(h,"style",$=`background-image: url(./images/chartletbottom${de(1,6)}.png);top: ${e[17].top};left: ${e[17].left}`),b(C,"class","layer number22 svelte-1jph99a"),b(k,"class","layer infos svelte-1jph99a"),b(I,"class","layer logo svelte-1jph99a"),b(E,"class","start svelte-1jph99a"),b(E,"alt",""),u(E.src,T="./images/start.png")||b(E,"src","./images/start.png"),b(q,"preload","auto"),q.loop="loop",b(_,"class","start svelte-1jph99a"),b(_,"style",O=`opacity: ${e[13]?0:1};z-index: ${e[13]?-100:499}`),b(H,"class","showup svelte-1jph99a"),b(H,"alt",""),u(H.src,P="./images/showup.gif")||b(H,"src","./images/showup.gif"),b(F,"preload","auto"),b(L,"class","showup svelte-1jph99a"),b(L,"style",D=`opacity: ${e[12]?0:1};z-index: ${e[12]?-100:399}`),b(n,"class","board svelte-1jph99a"),b(n,"style",te=`background-image: url(./images/bg${de(1,6)}${e[1]?"s":""}.png);`),b(t,"class","container svelte-1jph99a"),b(t,"style",ne=""+(e[2]<1?"margin: 0 auto":""))},m(l,r){g(l,t,r),d(t,n),d(n,o),d(n,c),d(n,i),d(n,a),d(n,h),d(n,y),d(n,C),d(n,x),d(n,k),d(n,j),d(n,I),d(n,M),d(n,_),d(_,E),d(_,z),d(_,q),d(n,B),d(n,L),d(L,H),d(L,R),d(L,F),e[29](F),d(n,G),ce&&ce.m(n,null),d(n,J),ae&&ae.m(n,null),d(n,W);for(let e=0;e<fe.length;e+=1)fe[e].m(n,null);d(n,X);for(let e=0;e<he.length;e+=1)he[e].m(n,null);d(n,Y);for(let e=0;e<ve.length;e+=1)ve[e].m(n,null);d(n,Z),Q(ee,n,null),oe=!0,le||(re=[v(_,"click",e[27]),v(L,"click",e[26])],le=!0)},p(e,l){if((!oe||32768&l[0]&&r!==(r=`background-image: url(./images/chartlettop${de(1,6)}.png);top: ${e[15].top};left: ${e[15].left}`))&&b(o,"style",r),(!oe||65536&l[0]&&s!==(s=`background-image: url(./images/chartletmiddle${de(1,6)}.png);top: ${e[16].top};left: ${e[16].left}`))&&b(i,"style",s),(!oe||131072&l[0]&&$!==($=`background-image: url(./images/chartletbottom${de(1,6)}.png);top: ${e[17].top};left: ${e[17].left}`))&&b(h,"style",$),(!oe||8192&l[0]&&O!==(O=`opacity: ${e[13]?0:1};z-index: ${e[13]?-100:499}`))&&b(_,"style",O),(!oe||4096&l[0]&&D!==(D=`opacity: ${e[12]?0:1};z-index: ${e[12]?-100:399}`))&&b(L,"style",D),e[14]?ce?ce.p(e,l):(ce=Re(e),ce.c(),ce.m(n,J)):ce&&(ce.d(1),ce=null),ue!==(ue=ie(e))&&(ae&&ae.d(1),ae=ue&&ue(e),ae&&(ae.c(),ae.m(n,W))),524592&l[0]){let t;for(ge=e[5],t=0;t<ge.length;t+=1){const o=He(e,ge,t);fe[t]?(fe[t].p(o,l),U(fe[t],1)):(fe[t]=Se(o),fe[t].c(),U(fe[t],1),fe[t].m(n,X))}for(N(),t=ge.length;t<fe.length;t+=1)me(t);A()}if(1048912&l[0]){let t;for(pe=e[6],t=0;t<pe.length;t+=1){const o=Be(e,pe,t);he[t]?(he[t].p(o,l),U(he[t],1)):(he[t]=De(o),he[t].c(),U(he[t],1),he[t].m(n,Y))}for(N(),t=pe.length;t<he.length;t+=1)we(t);A()}if(2097552&l[0]){let t;for($e=e[7],t=0;t<$e.length;t+=1){const o=qe(e,$e,t);ve[t]?(ve[t].p(o,l),U(ve[t],1)):(ve[t]=Je(o),ve[t].c(),U(ve[t],1),ve[t].m(n,Z))}for(N(),t=$e.length;t<ve.length;t+=1)be(t);A()}const c={};1&l[0]&&(c.mineCount=e[0]),8&l[0]&&(c.flagCount=e[3]),16&l[0]&&(c.currentCell=e[4]),2048&l[0]&&(c.prewined=e[11]),ee.$set(c),(!oe||2&l[0]&&te!==(te=`background-image: url(./images/bg${de(1,6)}${e[1]?"s":""}.png);`))&&b(n,"style",te),(!oe||4&l[0]&&ne!==(ne=""+(e[2]<1?"margin: 0 auto":"")))&&b(t,"style",ne)},i(e){if(!oe){for(let e=0;e<ge.length;e+=1)U(fe[e]);for(let e=0;e<pe.length;e+=1)U(he[e]);for(let e=0;e<$e.length;e+=1)U(ve[e]);U(ee.$$.fragment,e),oe=!0}},o(e){fe=fe.filter(Boolean);for(let e=0;e<fe.length;e+=1)S(fe[e]);he=he.filter(Boolean);for(let e=0;e<he.length;e+=1)S(he[e]);ve=ve.filter(Boolean);for(let e=0;e<ve.length;e+=1)S(ve[e]);S(ee.$$.fragment,e),oe=!1},d(n){n&&f(t),e[29](null),ce&&ce.d(),ae&&ae.d(),m(fe,n),m(he,n),m(ve,n),V(ee),le=!1,l(re)}}}function Qe(e){console.log("next")}function Ve(e,t,n){let o=1,{mineCount:l}=t,{bgs:r}=t,c=0,i=null,s=[],u=[],a=[],d=!0,g=!1,f=!1,m=!1,p=!1,h=!1,w=!1,$=!1,v={top:0,left:"-780px"},b={top:0,left:"-780px"},y={top:0,left:"-780px"},C=null;try{o=window.screen.width<1080?window.screen.width/1080:1}catch(e){}function j(){return[...s,...u,...a]}function I(){n(5,s),n(6,u),n(7,a)}function _(){try{C.play()}catch(e){}}function E(e){g||e.disabled||e.opened||(i&&i.id===e.id?n(4,i=null):(n(4,i=e),d||function(){const e=j(),t=[];for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++){const l=e[n][o];l.opened||t.push(l)}if(i){let e=t.findIndex((e=>e.id===i.id));e>-1&&t.splice(e,1)}let o=!0;t.forEach((e=>{e.mined||e.disabled||(o=!1)}));let l=!0;t.forEach((e=>{(e.flagged&&!e.mined||!e.flagged&&e.mined)&&(l=!1)})),console.log("pppp",l,o),(o||l)&&n(11,p=!0)}()))}function T(){n(8,g=!0),setTimeout((()=>{n(9,f=!0)}),3e3)}function z(e){n(3,c+=e?1:-1)}function q(){const e=j(),t=[];for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++){const l=e[n][o];l.opened||t.push(l)}let o=!0;t.forEach((e=>{e.mined||e.disabled||(o=!1)}));let l=!0;return t.forEach((e=>{(e.flagged&&!e.mined||!e.flagged&&e.mined)&&(l=!1)})),(o||l)&&(n(8,g=!0),n(10,m=!0)),o||l}function O(){n(3,c=0),n(5,s=pe({...ve,mineCount:0})),n(6,u=pe({...be,mineCount:0})),n(7,a=pe({...ye,mineCount:0})),d=!0,n(8,g=!1),n(9,f=!1),n(10,m=!1),n(11,p=!1),n(14,$=!1),n(4,i=null),n(15,v={top:0,left:"-780px"}),n(16,b={top:0,left:"-780px"}),n(17,y={top:0,left:"-780px"}),function(e){for(let t=0;t<_e.length;t++){const{row:n,column:o}=ge(_e[t]);e[n][o]=ae({...e[n][o],disabled:!0})}}(j()),function(e){for(let t=0;t<Ee.length;t++){const{row:n,column:o}=ge(Ee[t]);e[n][o]=ae({...e[n][o],disabled:!0})}}(j()),function(e){for(let t=0;t<Te.length;t++){const{row:n,column:o}=ge(Te[t]);e[n][o]=ae({...e[n][o],disabled:!0})}}(j()),I()}var B;return k((()=>{console.log("app",j())})),B=()=>{try{audiojs.events.ready((function(){audiojs.createAll()}))}catch(e){}O()},x().$$.on_mount.push(B),setTimeout((()=>{let e=new Image;e.src="./images/bg1s.png";let t=new Image;t.src="./images/bg2s.png";let n=new Image;n.src="./images/bg3s.png";let o=new Image;o.src="./images/bg4s.png";let l=new Image;l.src="./images/bg5s.png";let r=new Image;r.src="./images/chartletbottom1.png";let c=new Image;c.src="./images/chartletbottom2.png";let i=new Image;i.src="./images/chartletbottom3.png";let s=new Image;s.src="./images/chartletbottom4.png";let u=new Image;u.src="./images/chartletbottom5.png";let a=new Image;a.src="./images/chartlettop1.png";let d=new Image;d.src="./images/chartlettop2.png";let g=new Image;g.src="./images/chartlettop3.png";let f=new Image;f.src="./images/chartlettop4.png";let m=new Image;m.src="./images/chartlettop5.png";let p=new Image;p.src="./images/chartletmiddle1.png";let h=new Image;h.src="./images/chartletmiddle2.png";let w=new Image;w.src="./images/chartletmiddle3.png";let $=new Image;$.src="./images/chartletmiddle4.png";let v=new Image;v.src="./images/chartletmiddle5.png";let b=new Image;b.src="./images/helpped.png";let y=new Image;y.src="./images/wined.png";let C=new Image;C.src="./images/losed.png";let x=new Image;x.src="./images/helped.png";let k=new Image;k.src="./images/flagged.png";let j=new Image;j.src="./images/opened.png";let I=new Image;I.src="./images/nexted.png";let M=new Image;M.src="./images/restarted.png",setTimeout((()=>{b=null,y=null,C=null,x=null,k=null,j=null,I=null,M=null,e=null,t=null,n=null,o=null,l=null,r=null,c=null,i=null,s=null,u=null,a=null,d=null,g=null,f=null,m=null,p=null,h=null,w=null,$=null,v=null}),3e3)}),0),e.$$set=e=>{"mineCount"in e&&n(0,l=e.mineCount),"bgs"in e&&n(1,r=e.bgs)},[l,r,o,c,i,s,u,a,g,f,m,p,h,w,$,v,b,y,C,function(e){const{detail:t}=e;_(),E(t)},function(e){const{detail:t}=e;_(),E(t)},function(e){const{detail:t}=e;_(),E(t)},function(e){!g&&h&&w&&i&&(d&&(d=!1,xe(i,j(),{regionTopChartletPosition:v,regionMiddleChartletPosition:b,regionBottomChartletPosition:y}),n(15,v),n(16,b),n(17,y),function(e,t){const{rows:n,columns:o,mineCount:l,startRow:r}=t,c=[];for(let r=0;r<l;r++){let l=de(0,n),r=de(0,o),i=ue(l,r),s=e[l][r];for(;c.includes(i)||s.disabled||s.chartleted||me(s,e,t);)l=de(0,n),r=de(0,o),i=ue(l,r),s=e[l][r];c.push(i),e[l][r].mined=!0}}(j(),{...$e,mineCount:l}),function(e,t){const{rows:n,columns:o}=t;let l,r=0;for(let c=0;c<n;c++)for(let n=0;n<o;n++){const o=ue(c,n);if(l=e[c][n],l.neighborMineCount=0,!l.mined){const n=fe(o,t);r=0;for(let t=0;t<n.length;t++)r+=Ce(e,n[t]);l.neighborMineCount=r}}}(j(),$e),I()),ze(i,j(),{forceUpdateBoard:I,boardConfig:$e,lose:T}),q())},function(e){if(!g&&!d&&h&&w&&i){if(!i.flagged&&c>=l)return;!function(e,t,{forceUpdateBoard:n,boardConfig:o,flagged:l}){e.opened||e.disabled||(t[e.row][e.column].flagged=e.flagged=!e.flagged,console.log("cell",e,t),l(e.flagged),n())}(i,j(),{forceUpdateBoard:I,boardConfig:$e,flagged:z}),q()}},function(e){h&&w&&n(14,$=!$)},function(){h&&w&&n(14,$=!1)},function(){n(12,h=!0)},function(){n(13,w=!0)},function(e){h&&w&&O()},function(e){M[e?"unshift":"push"]((()=>{C=e,n(18,C)}))}]}class We extends Y{constructor(e){super(),X(this,e,Ve,Ke,c,{mineCount:0,bgs:1},null,[-1,-1])}}function Xe(t){let n,o,l;return o=new We({props:{mineCount:35,bgs:!0}}),{c(){n=p("div"),K(o.$$.fragment)},m(e,t){g(e,n,t),Q(o,n,null),l=!0},p:e,i(e){l||(U(o.$$.fragment,e),l=!0)},o(e){S(o.$$.fragment,e),l=!1},d(e){e&&f(n),V(o)}}}return new class extends Y{constructor(e){super(),X(this,e,null,Xe,c,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
