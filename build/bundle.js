var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(n)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,s;function u(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function a(t){return null==t?"":t}function f(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function w(){return h(" ")}function $(){return h("")}function b(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t){s=t}function y(){if(!s)throw new Error("Function called outside component initialization");return s}function x(t){y().$$.before_update.push(t)}function I(){const t=y();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const l=function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(e,n);o.slice().forEach((e=>{e.call(t,l)}))}}}const M=[],_=[],E=[],z=[],O=Promise.resolve();let B=!1;function N(t){E.push(t)}let P=!1;const R=new Set;function j(){if(!P){P=!0;do{for(let t=0;t<M.length;t+=1){const e=M[t];k(e),T(e.$$)}for(k(null),M.length=0;_.length;)_.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];R.has(e)||(R.add(e),e())}E.length=0}while(M.length);for(;z.length;)z.pop()();B=!1,P=!1,R.clear()}}function T(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const U=new Set;let A;function S(){A={r:0,c:[],p:A}}function L(){A.r||l(A.c),A=A.p}function q(t,e){t&&t.i&&(U.delete(t),t.i(e))}function F(t,e,n,o){if(t&&t.o){if(U.has(t))return;U.add(t),A.c.push((()=>{U.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function D(t,e){F(t,1,1,(()=>{e.delete(t.key)}))}function G(t,e,n,o,l,r,c,i,s,u,a,f){let m=t.length,g=r.length,d=m;const p={};for(;d--;)p[t[d].key]=d;const h=[],w=new Map,$=new Map;for(d=g;d--;){const t=f(l,r,d),i=n(t);let s=c.get(i);s?o&&s.p(t,e):(s=u(i,t),s.c()),w.set(i,h[d]=s),i in p&&$.set(i,Math.abs(d-p[i]))}const b=new Set,v=new Set;function C(t){q(t,1),t.m(i,a),c.set(t.key,t),a=t.first,g--}for(;m&&g;){const e=h[g-1],n=t[m-1],o=e.key,l=n.key;e===n?(a=e.first,m--,g--):w.has(l)?!c.has(o)||b.has(o)?C(e):v.has(l)?m--:$.get(o)>$.get(l)?(v.add(o),C(e)):(b.add(l),m--):(s(n,c),m--)}for(;m--;){const e=t[m];w.has(e.key)||s(e,c)}for(;g;)C(h[g-1]);return h}function H(t,e){const n={},o={},l={$$scope:1};let r=t.length;for(;r--;){const c=t[r],i=e[r];if(i){for(const t in c)t in i||(o[t]=1);for(const t in i)l[t]||(n[t]=i[t],l[t]=1);t[r]=i}else for(const t in c)l[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function J(t){return"object"==typeof t&&null!==t?t:{}}function K(t){t&&t.c()}function Q(t,e,o,c){const{fragment:i,on_mount:s,on_destroy:u,after_update:a}=t.$$;i&&i.m(e,o),c||N((()=>{const e=s.map(n).filter(r);u?u.push(...e):l(e),t.$$.on_mount=[]})),a.forEach(N)}function V(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function W(t,e){-1===t.$$.dirty[0]&&(M.push(t),B||(B=!0,O.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(e,n,r,c,i,u,a,f=[-1]){const m=s;k(e);const d=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(m?m.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:n.target||m.$$.root};a&&a(d.root);let p=!1;if(d.ctx=r?r(e,n.props||{},((t,n,...o)=>{const l=o.length?o[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=l)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](l),p&&W(e,t)),n})):[],d.update(),p=!0,l(d.before_update),d.fragment=!!c&&c(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(g)}else d.fragment&&d.fragment.c();n.intro&&q(e.$$.fragment),Q(e,n.target,n.anchor,n.customElement),j()}k(m)}class Y{$destroy(){V(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Z(t){let e,n,o,l=(t[3]||0==t[4]?"":t[4])+"";return{c(){e=p("div"),n=h(l),v(e,"class",o=a(["cell","opened",t[4]&&0!=t[4]?"":"transparent",t[3]?"mined":"",t[6]?"chartleted":""].join(" "))+" svelte-1k44rg6"),v(e,"id",t[0])},m(t,o){m(t,e,o),f(e,n)},p(t,r){24&r&&l!==(l=(t[3]||0==t[4]?"":t[4])+"")&&C(n,l),88&r&&o!==(o=a(["cell","opened",t[4]&&0!=t[4]?"":"transparent",t[3]?"mined":"",t[6]?"chartleted":""].join(" "))+" svelte-1k44rg6")&&v(e,"class",o),1&r&&v(e,"id",t[0])},d(t){t&&g(e)}}}function tt(t){let e,n,o,l;return{c(){e=p("div"),v(e,"class",n=a(["cell",t[8]?"selected":"",t[2]?"flagged":""].join(" "))+" svelte-1k44rg6"),v(e,"id",t[0])},m(n,r){m(n,e,r),o||(l=b(e,"click",t[9]),o=!0)},p(t,o){260&o&&n!==(n=a(["cell",t[8]?"selected":"",t[2]?"flagged":""].join(" "))+" svelte-1k44rg6")&&v(e,"class",n),1&o&&v(e,"id",t[0])},d(t){t&&g(e),o=!1,l()}}}function et(t){let e;return{c(){e=p("div"),v(e,"class",a(["cell"].join(" "))+" svelte-1k44rg6"),v(e,"id",t[0])},m(t,n){m(t,e,n)},p(t,n){1&n&&v(e,"id",t[0])},d(t){t&&g(e)}}}function nt(e){let n;function o(t,e){return t[5]?et:t[1]||t[7]&&t[3]||t[7]&&t[6]?Z:tt}let l=o(e),r=l(e);return{c(){r.c(),n=$()},m(t,e){r.m(t,e),m(t,n,e)},p(t,[e]){l===(l=o(t))&&r?r.p(t,e):(r.d(1),r=l(t),r&&(r.c(),r.m(n.parentNode,n)))},i:t,o:t,d(t){r.d(t),t&&g(n)}}}function ot(t,e,n){let{id:o}=e,{row:l}=e,{column:r}=e,{opened:c}=e,{flagged:i}=e,{mined:s}=e,{neighborMineCount:u}=e,{disabled:a}=e,{chartleted:f}=e,{gameOver:m}=e,{currentCell:g}=e;const d=I();let p=g&&g.id===o;return x((()=>{n(8,p=g&&g.id===o)})),t.$$set=t=>{"id"in t&&n(0,o=t.id),"row"in t&&n(10,l=t.row),"column"in t&&n(11,r=t.column),"opened"in t&&n(1,c=t.opened),"flagged"in t&&n(2,i=t.flagged),"mined"in t&&n(3,s=t.mined),"neighborMineCount"in t&&n(4,u=t.neighborMineCount),"disabled"in t&&n(5,a=t.disabled),"chartleted"in t&&n(6,f=t.chartleted),"gameOver"in t&&n(7,m=t.gameOver),"currentCell"in t&&n(12,g=t.currentCell)},[o,c,i,s,u,a,f,m,p,function(){d("click",{id:o,row:l,column:r,opened:c,flagged:i,mined:s,neighborMineCount:u,disabled:a,chartleted:f})},l,r,g]}class lt extends Y{constructor(t){super(),X(this,t,ot,nt,c,{id:0,row:10,column:11,opened:1,flagged:2,mined:3,neighborMineCount:4,disabled:5,chartleted:6,gameOver:7,currentCell:12})}}function rt(e){let n,o,r,c,i,s,u,a,d,$,k,y,x,I,M,_=ct(e[0]-e[1])+"";return{c(){n=p("div"),o=p("div"),r=h(_),c=w(),i=p("div"),s=w(),u=p("div"),a=w(),d=p("div"),$=w(),k=p("div"),y=w(),x=p("div"),v(o,"class","minecount svelte-mr9zwz"),v(i,"class","open svelte-mr9zwz"),v(u,"class","flag svelte-mr9zwz"),v(d,"class","help svelte-mr9zwz"),v(k,"class","restart svelte-mr9zwz"),v(x,"class","next svelte-mr9zwz"),v(n,"class","button-group svelte-mr9zwz")},m(t,l){m(t,n,l),f(n,o),f(o,r),f(n,c),f(n,i),f(n,s),f(n,u),f(n,a),f(n,d),f(n,$),f(n,k),f(n,y),f(n,x),I||(M=[b(i,"click",e[2]),b(u,"click",e[3]),b(d,"click",e[4]),b(k,"click",e[5]),b(x,"click",e[6])],I=!0)},p(t,[e]){3&e&&_!==(_=ct(t[0]-t[1])+"")&&C(r,_)},i:t,o:t,d(t){t&&g(n),I=!1,l(M)}}}function ct(t){return("000"+t).slice(-3)}function it(t,e,n){let{mineCount:o}=e,{flagCount:l}=e;const r=I();return t.$$set=t=>{"mineCount"in t&&n(0,o=t.mineCount),"flagCount"in t&&n(1,l=t.flagCount)},[o,l,function(){r("open")},function(){r("flag")},function(){r("help")},function(){r("restart")},function(){r("next")}]}class st extends Y{constructor(t){super(),X(this,t,it,rt,c,{mineCount:0,flagCount:1})}}function ut(t,e){return`${t}/${e}`}function at({row:t,column:e,...n}){return{id:ut(t,e),row:t,column:e,...n}}function ft(t,e){return Math.floor(Math.random()*(e-t))+t}function mt(t){const[e,n]=t.split("/");return{row:e,column:n}}function gt(t,e){let{row:n,column:o}=mt(t);n=parseInt(n),o=parseInt(o);const l=[];l.push(ut(n-1,o-1)),l.push(ut(n-1,o)),l.push(ut(n-1,o+1)),l.push(ut(n,o-1)),l.push(ut(n,o+1)),l.push(ut(n+1,o-1)),l.push(ut(n+1,o)),l.push(ut(n+1,o+1));const{rows:r,columns:c}=e;for(let t=0;t<l.length;t++){let{row:e,column:n}=mt(l[t]);(e<0||n<0||e>=r||n>=c)&&(l.splice(t,1),t--)}return l}function dt(t,e,n){const o=gt(t.id,n);for(let t=0;t<o.length;t++){const{row:n,column:l}=mt(o[t]),r=e[n][l];if(void 0!==r&&r.chartleted)return!0}return!1}function pt(t){const{rows:e,columns:n,startRow:o,mineCount:l}=t;let r=[];for(let t=0;t<e;t++)for(let e=0;e<n;e++)r[t]=r[t]||[],r[t][e]=at({row:o+t,column:e,opened:!1,flagged:!1,mined:!1,neighborMineCount:0,disabled:!1,chartleted:!1});return r}const ht=10,wt=65,$t={startRow:0,rows:28,columns:16,mineCount:32},bt={startRow:0,rows:ht,columns:16,mineCount:12},vt={startRow:ht,rows:9,columns:16,mineCount:10},Ct={startRow:19,rows:9,columns:16,mineCount:10};function kt(t,e){const{row:n,column:o}=mt(e),l=t[n][o];let r=0;return void 0!==l&&(r=l.mined?1:0),r}function yt(t,e,n){const{row:o,column:l}=mt(t.id);o<ht?(!function(t,e,{regionTopChartletPosition:n}){let{row:o,column:l}=mt(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+3},i={row:o+1,column:l-2},s={row:0,column:0};r.row<0&&(s.row=-r.row);i.row>9&&(s.row=-(i.row-9));r.column<0&&(s.column=-r.column);c.column>15&&(s.column=-(c.column-15));r.row+=s.row,r.column+=s.column,c.row+=s.row,c.column+=s.column,c.column>13&&c.row<2&&(l<=13&&o>=2?(r.row+=2-c.row,r.column+=13-c.column):l<=13&&o<2?r.column+=13-c.column:l>13&&o>=2&&(r.row+=2-c.row));xt(e,r,n,{chartletRows:3,chartletColumns:6})}(t,e,n),Mt(e,n),_t(e,n)):o<19?(!function(t,e,{regionMiddleChartletPosition:n}){let{row:o,column:l}=mt(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+2},i={row:o+2,column:l-2},s={row:0,column:0};r.row<10&&(s.row=-(r.row-10));i.row>18&&(s.row=-(i.row-18));r.column<0&&(s.column=-r.column);c.column>15&&(s.column=-(c.column-15));r.row+=s.row,r.column+=s.column,xt(e,r,n,{chartletRows:4,chartletColumns:5})}(t,e,n),It(e,n),_t(e,n)):o<28&&(!function(t,e,{regionBottomChartletPosition:n}){let{row:o,column:l}=mt(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-3},c={row:o-1,column:l+4},i={row:o+1,column:l-3},s={row:o+1,column:l+4},u={row:0,column:0};r.row<19&&(u.row=-(r.row-19));i.row>27&&(u.row=-(i.row-27));r.column<0&&(u.column=-r.column);c.column>15&&(u.column=-(c.column-15));r.row+=u.row,r.column+=u.column,s.row+=u.row,s.column+=u.column,s.column>11&&s.row>24&&(l<=11&&o<=24?(r.row+=24-s.row,r.column+=11-s.column):l<=11&&o>24?r.column+=11-s.column:l>11&&o<=24&&(r.row+=24-s.row));i.column<3&&i.row>21&&(l>=3&&o<=21?(r.row+=21-i.row,r.column+=3-i.column):l>=3&&o>21?r.column+=3-i.column:l<3&&o<=21&&(r.row+=21-i.row));xt(e,r,n,{chartletRows:3,chartletColumns:8})}(t,e,n),It(e,n),Mt(e,n))}function xt(t,e,n,{chartletRows:o,chartletColumns:l}){const{row:r,column:c}=e;n.top=r*wt+"px",n.left=c*wt+"px";for(let e=r;e<r+o;e++)for(let n=c;n<c+l;n++)t[e][n]=at({...t[e][n],chartleted:!0})}function It(t,{regionTopChartletPosition:e}){const n=ft(0,8),o=ft(0,9);e.top=n*wt+"px",e.left=o*wt+"px";for(let e=n;e<n+3;e++)for(let n=o;n<o+6;n++)t[e][n]=at({...t[e][n],chartleted:!0})}function Mt(t,{regionMiddleChartletPosition:e}){const n=ft(10,16),o=ft(0,12);e.top=n*wt+"px",e.left=o*wt+"px";for(let e=n;e<n+4;e++)for(let n=o;n<o+5;n++)t[e][n]=at({...t[e][n],chartleted:!0})}function _t(t,{regionBottomChartletPosition:e}){const n=ft(19,26),o=ft(3,5);e.top=n*wt+"px",e.left=o*wt+"px";for(let e=n;e<n+3;e++)for(let n=o;n<o+8;n++)t[e][n]=at({...t[e][n],chartleted:!0})}const Et=["0/14","0/15","1/14","1/15"];const zt=["22/0","22/1","22/2","23/0","23/1","23/2","24/0","24/1","24/2","25/0","25/1","25/2","26/0","26/1","26/2","27/0","27/1","27/2"];const Ot=["25/12","25/13","25/14","25/15","26/12","26/13","26/14","26/15","27/12","27/13","27/14","27/15"];function Bt(t,e,{forceUpdateBoard:n,boardConfig:o,lose:l}){if(!(t.opened||t.disabled||t.flagged))if(t.mined)l();else{if(e[t.row][t.column].opened=t.opened=!0,!t.neighborMineCount){const r=gt(t.id,o);for(let t=0;t<r.length;t++){const{row:c,column:i}=mt(r[t]),s=e[c][i];void 0===s||s.opened||s.disabled||Bt(s,e,{forceUpdateBoard:n,boardConfig:o,lose:l})}}n()}}function Nt(t,e,n){const o=t.slice();return o[37]=e[n],o}function Pt(t,e,n){const o=t.slice();return o[40]=e[n],o}function Rt(t,e,n){const o=t.slice();return o[37]=e[n],o}function jt(t,e,n){const o=t.slice();return o[40]=e[n],o}function Tt(t,e,n){const o=t.slice();return o[37]=e[n],o}function Ut(t,e,n){const o=t.slice();return o[40]=e[n],o}function At(t){let e,n,o,l,r,c,i=t[12]&&Lt(t);function s(t,e){return t[9]?Ft:t[10]?qt:void 0}let u=s(t),a=u&&u(t),f=t[5],p=[];for(let e=0;e<f.length;e+=1)p[e]=Gt(Tt(t,f,e));const h=t=>F(p[t],1,1,(()=>{p[t]=null}));let b=t[6],v=[];for(let e=0;e<b.length;e+=1)v[e]=Jt(Rt(t,b,e));const C=t=>F(v[t],1,1,(()=>{v[t]=null}));let k=t[7],y=[];for(let e=0;e<k.length;e+=1)y[e]=Qt(Nt(t,k,e));const x=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){i&&i.c(),e=w(),a&&a.c(),n=w();for(let t=0;t<p.length;t+=1)p[t].c();o=w();for(let t=0;t<v.length;t+=1)v[t].c();l=w();for(let t=0;t<y.length;t+=1)y[t].c();r=$()},m(t,s){i&&i.m(t,s),m(t,e,s),a&&a.m(t,s),m(t,n,s);for(let e=0;e<p.length;e+=1)p[e].m(t,s);m(t,o,s);for(let e=0;e<v.length;e+=1)v[e].m(t,s);m(t,l,s);for(let e=0;e<y.length;e+=1)y[e].m(t,s);m(t,r,s),c=!0},p(t,c){if(t[12]?i?i.p(t,c):(i=Lt(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),u!==(u=s(t))&&(a&&a.d(1),a=u&&u(t),a&&(a.c(),a.m(n.parentNode,n))),65840&c[0]){let e;for(f=t[5],e=0;e<f.length;e+=1){const n=Tt(t,f,e);p[e]?(p[e].p(n,c),q(p[e],1)):(p[e]=Gt(n),p[e].c(),q(p[e],1),p[e].m(o.parentNode,o))}for(S(),e=f.length;e<p.length;e+=1)h(e);L()}if(131408&c[0]){let e;for(b=t[6],e=0;e<b.length;e+=1){const n=Rt(t,b,e);v[e]?(v[e].p(n,c),q(v[e],1)):(v[e]=Jt(n),v[e].c(),q(v[e],1),v[e].m(l.parentNode,l))}for(S(),e=b.length;e<v.length;e+=1)C(e);L()}if(262544&c[0]){let e;for(k=t[7],e=0;e<k.length;e+=1){const n=Nt(t,k,e);y[e]?(y[e].p(n,c),q(y[e],1)):(y[e]=Qt(n),y[e].c(),q(y[e],1),y[e].m(r.parentNode,r))}for(S(),e=k.length;e<y.length;e+=1)x(e);L()}},i(t){if(!c){for(let t=0;t<f.length;t+=1)q(p[t]);for(let t=0;t<b.length;t+=1)q(v[t]);for(let t=0;t<k.length;t+=1)q(y[t]);c=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)F(v[t]);y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);c=!1},d(t){i&&i.d(t),t&&g(e),a&&a.d(t),t&&g(n),d(p,t),t&&g(o),d(v,t),t&&g(l),d(y,t),t&&g(r)}}}function St(e){let n,o,l,r;return{c(){var t,e;n=p("img"),v(n,"class","showup svelte-12ap1v0"),v(n,"alt",""),t=n.src,e=o="./images/showup.gif",i||(i=document.createElement("a")),i.href=e,t!==i.href&&v(n,"src","./images/showup.gif")},m(t,o){m(t,n,o),l||(r=b(n,"click",e[23]),l=!0)},p:t,i:t,o:t,d(t){t&&g(n),l=!1,r()}}}function Lt(e){let n,o,l;return{c(){n=p("div"),v(n,"class","helped svelte-12ap1v0")},m(t,r){m(t,n,r),o||(l=b(n,"click",e[22]),o=!0)},p:t,d(t){t&&g(n),o=!1,l()}}}function qt(t){let e;return{c(){e=p("div"),v(e,"class","wined svelte-12ap1v0")},m(t,n){m(t,e,n)},d(t){t&&g(e)}}}function Ft(t){let e;return{c(){e=p("div"),v(e,"class","losed svelte-12ap1v0")},m(t,n){m(t,e,n)},d(t){t&&g(e)}}}function Dt(t,n){let o,l,r;const c=[{gameOver:n[8]},{currentCell:n[4]},n[40]];let i={};for(let t=0;t<c.length;t+=1)i=e(i,c[t]);return l=new lt({props:i}),l.$on("click",n[16]),{key:t,first:null,c(){o=$(),K(l.$$.fragment),this.first=o},m(t,e){m(t,o,e),Q(l,t,e),r=!0},p(t,e){n=t;const o=304&e[0]?H(c,[256&e[0]&&{gameOver:n[8]},16&e[0]&&{currentCell:n[4]},32&e[0]&&J(n[40])]):{};l.$set(o)},i(t){r||(q(l.$$.fragment,t),r=!0)},o(t){F(l.$$.fragment,t),r=!1},d(t){t&&g(o),V(l,t)}}}function Gt(t){let e,n,o,l=[],r=new Map,c=t[37];const i=t=>t[40].id;for(let e=0;e<c.length;e+=1){let n=Ut(t,c,e),o=i(n);r.set(o,l[e]=Dt(o,n))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=w(),n=p("br")},m(t,r){for(let e=0;e<l.length;e+=1)l[e].m(t,r);m(t,e,r),m(t,n,r),o=!0},p(t,n){65840&n[0]&&(c=t[37],S(),l=G(l,n,i,1,t,c,r,e.parentNode,D,Dt,e,Ut),L())},i(t){if(!o){for(let t=0;t<c.length;t+=1)q(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)F(l[t]);o=!1},d(t){for(let e=0;e<l.length;e+=1)l[e].d(t);t&&g(e),t&&g(n)}}}function Ht(t,n){let o,l,r;const c=[{gameOver:n[8]},{currentCell:n[4]},n[40]];let i={};for(let t=0;t<c.length;t+=1)i=e(i,c[t]);return l=new lt({props:i}),l.$on("click",n[17]),{key:t,first:null,c(){o=$(),K(l.$$.fragment),this.first=o},m(t,e){m(t,o,e),Q(l,t,e),r=!0},p(t,e){n=t;const o=336&e[0]?H(c,[256&e[0]&&{gameOver:n[8]},16&e[0]&&{currentCell:n[4]},64&e[0]&&J(n[40])]):{};l.$set(o)},i(t){r||(q(l.$$.fragment,t),r=!0)},o(t){F(l.$$.fragment,t),r=!1},d(t){t&&g(o),V(l,t)}}}function Jt(t){let e,n,o,l=[],r=new Map,c=t[37];const i=t=>t[40].id;for(let e=0;e<c.length;e+=1){let n=jt(t,c,e),o=i(n);r.set(o,l[e]=Ht(o,n))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=w(),n=p("br")},m(t,r){for(let e=0;e<l.length;e+=1)l[e].m(t,r);m(t,e,r),m(t,n,r),o=!0},p(t,n){131408&n[0]&&(c=t[37],S(),l=G(l,n,i,1,t,c,r,e.parentNode,D,Ht,e,jt),L())},i(t){if(!o){for(let t=0;t<c.length;t+=1)q(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)F(l[t]);o=!1},d(t){for(let e=0;e<l.length;e+=1)l[e].d(t);t&&g(e),t&&g(n)}}}function Kt(t,n){let o,l,r;const c=[{gameOver:n[8]},{currentCell:n[4]},n[40]];let i={};for(let t=0;t<c.length;t+=1)i=e(i,c[t]);return l=new lt({props:i}),l.$on("click",n[18]),{key:t,first:null,c(){o=$(),K(l.$$.fragment),this.first=o},m(t,e){m(t,o,e),Q(l,t,e),r=!0},p(t,e){n=t;const o=400&e[0]?H(c,[256&e[0]&&{gameOver:n[8]},16&e[0]&&{currentCell:n[4]},128&e[0]&&J(n[40])]):{};l.$set(o)},i(t){r||(q(l.$$.fragment,t),r=!0)},o(t){F(l.$$.fragment,t),r=!1},d(t){t&&g(o),V(l,t)}}}function Qt(t){let e,n,o,l=[],r=new Map,c=t[37];const i=t=>t[40].id;for(let e=0;e<c.length;e+=1){let n=Pt(t,c,e),o=i(n);r.set(o,l[e]=Kt(o,n))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=w(),n=p("br")},m(t,r){for(let e=0;e<l.length;e+=1)l[e].m(t,r);m(t,e,r),m(t,n,r),o=!0},p(t,n){262544&n[0]&&(c=t[37],S(),l=G(l,n,i,1,t,c,r,e.parentNode,D,Kt,e,Pt),L())},i(t){if(!o){for(let t=0;t<c.length;t+=1)q(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)F(l[t]);o=!1},d(t){for(let e=0;e<l.length;e+=1)l[e].d(t);t&&g(e),t&&g(n)}}}function Vt(t){let e,n,o,l,r,c,i,s,u,a,d,h,$,b,C,k,y,x,I,M,_,E,z,O;const B=[St,At],N=[];function P(t,e){return t[11]?1:0}return x=P(t),I=N[x]=B[x](t),_=new st({props:{mineCount:t[0],flagCount:t[3]}}),_.$on("open",t[19]),_.$on("flag",t[20]),_.$on("help",t[21]),_.$on("restart",t[24]),_.$on("next",Wt),{c(){e=p("div"),n=p("div"),o=p("div"),r=w(),c=p("div"),s=w(),u=p("div"),d=w(),h=p("div"),$=w(),b=p("div"),C=w(),k=p("div"),y=w(),I.c(),M=w(),K(_.$$.fragment),v(o,"class","chartlet top svelte-12ap1v0"),v(o,"style",l=`background-image: url(./images/chartlettop${ft(1,6)}.png);top: ${t[13].top};left: ${t[13].left}`),v(c,"class","chartlet middle svelte-12ap1v0"),v(c,"style",i=`background-image: url(./images/chartletmiddle${ft(1,6)}.png);top: ${t[14].top};left: ${t[14].left}`),v(u,"class","chartlet bottom svelte-12ap1v0"),v(u,"style",a=`background-image: url(./images/chartletbottom${ft(1,6)}.png);top: ${t[15].top};left: ${t[15].left}`),v(h,"class","layer number22 svelte-12ap1v0"),v(b,"class","layer infos svelte-12ap1v0"),v(k,"class","layer logo svelte-12ap1v0"),v(n,"class","board svelte-12ap1v0"),v(n,"style",E=`background-image: url(./images/bg${ft(1,6)}${t[1]?"s":""}.png);`),v(e,"class","container svelte-12ap1v0"),v(e,"style",z=""+(t[2]<1?"margin: 0 auto":""))},m(t,l){m(t,e,l),f(e,n),f(n,o),f(n,r),f(n,c),f(n,s),f(n,u),f(n,d),f(n,h),f(n,$),f(n,b),f(n,C),f(n,k),f(n,y),N[x].m(n,null),f(n,M),Q(_,n,null),O=!0},p(t,r){(!O||8192&r[0]&&l!==(l=`background-image: url(./images/chartlettop${ft(1,6)}.png);top: ${t[13].top};left: ${t[13].left}`))&&v(o,"style",l),(!O||16384&r[0]&&i!==(i=`background-image: url(./images/chartletmiddle${ft(1,6)}.png);top: ${t[14].top};left: ${t[14].left}`))&&v(c,"style",i),(!O||32768&r[0]&&a!==(a=`background-image: url(./images/chartletbottom${ft(1,6)}.png);top: ${t[15].top};left: ${t[15].left}`))&&v(u,"style",a);let s=x;x=P(t),x===s?N[x].p(t,r):(S(),F(N[s],1,1,(()=>{N[s]=null})),L(),I=N[x],I?I.p(t,r):(I=N[x]=B[x](t),I.c()),q(I,1),I.m(n,M));const f={};1&r[0]&&(f.mineCount=t[0]),8&r[0]&&(f.flagCount=t[3]),_.$set(f),(!O||2&r[0]&&E!==(E=`background-image: url(./images/bg${ft(1,6)}${t[1]?"s":""}.png);`))&&v(n,"style",E),(!O||4&r[0]&&z!==(z=""+(t[2]<1?"margin: 0 auto":"")))&&v(e,"style",z)},i(t){O||(q(I),q(_.$$.fragment,t),O=!0)},o(t){F(I),F(_.$$.fragment,t),O=!1},d(t){t&&g(e),N[x].d(),V(_)}}}function Wt(t){console.log("next")}function Xt(t,n,o){let l=1,{mineCount:r}=n,{bgs:c}=n,i=0,s=null,a=[],f=[],m=[],g=!0,d=!1,p=!1,h=!1,w=!1,$=!1,b={top:0,left:"-780px"},v={top:0,left:"-780px"},C={top:0,left:"-780px"};try{l=window.screen.width<1080?window.screen.width/1080:1}catch(t){}function k(){return[...a,...f,...m]}function I(){o(5,a),o(6,f),o(7,m)}function M(t){d||t.disabled||t.opened||(s&&s.id===t.id?o(4,s=null):o(4,s=t))}function _(){o(8,d=!0),setTimeout((()=>{o(9,p=!0)}),3e3)}function E(t){o(3,i+=t?1:-1)}function z(){const t=k(),e=[];for(let n=0;n<t.length;n++)for(let o=0;o<t[n].length;o++){const l=t[n][o];l.opened||e.push(l)}let n=!0;e.forEach((t=>{t.mined||t.disabled||(n=!1)}));let l=!0;return e.forEach((t=>{(t.flagged&&!t.mined||!t.flagged&&t.mined)&&(l=!1)})),(n||l)&&(o(8,d=!0),o(10,h=!0)),n||l}function O(){o(3,i=0),o(5,a=pt({...bt,mineCount:0})),o(6,f=pt({...vt,mineCount:0})),o(7,m=pt({...Ct,mineCount:0})),g=!0,o(8,d=!1),o(9,p=!1),o(10,h=!1),o(12,$=!1),o(4,s=null),o(13,b={top:0,left:"-780px"}),o(14,v={top:0,left:"-780px"}),o(15,C={top:0,left:"-780px"}),function(t){for(let e=0;e<Et.length;e++){const{row:n,column:o}=mt(Et[e]);t[n][o]=at({...t[n][o],disabled:!0})}}(k()),function(t){for(let e=0;e<zt.length;e++){const{row:n,column:o}=mt(zt[e]);t[n][o]=at({...t[n][o],disabled:!0})}}(k()),function(t){for(let e=0;e<Ot.length;e++){const{row:n,column:o}=mt(Ot[e]);t[n][o]=at({...t[n][o],disabled:!0})}}(k()),I()}var B;return x((()=>{console.log("app",k())})),B=()=>{console.log("onmount!!",n),O()},y().$$.on_mount.push(B),setTimeout((()=>{let t=new Image;t.src="./images/bg1s.png";let e=new Image;e.src="./images/bg2s.png";let n=new Image;n.src="./images/bg3s.png";let o=new Image;o.src="./images/bg4s.png";let l=new Image;l.src="./images/bg5s.png";let r=new Image;r.src="./images/chartletbottom1.png";let c=new Image;c.src="./images/chartletbottom2.png";let i=new Image;i.src="./images/chartletbottom3.png";let s=new Image;s.src="./images/chartletbottom4.png";let u=new Image;u.src="./images/chartletbottom5.png";let a=new Image;a.src="./images/chartlettop1.png";let f=new Image;f.src="./images/chartlettop2.png";let m=new Image;m.src="./images/chartlettop3.png";let g=new Image;g.src="./images/chartlettop4.png";let d=new Image;d.src="./images/chartlettop5.png";let p=new Image;p.src="./images/chartletmiddle1.png";let h=new Image;h.src="./images/chartletmiddle2.png";let w=new Image;w.src="./images/chartletmiddle3.png";let $=new Image;$.src="./images/chartletmiddle4.png";let b=new Image;b.src="./images/chartletmiddle5.png";let v=new Image;v.src="./images/helpped.png";let C=new Image;C.src="./images/wined.png";let k=new Image;k.src="./images/losed.png";let y=new Image;y.src="./images/helped.png";let x=new Image;x.src="./images/flagged.png";let I=new Image;I.src="./images/opened.png";let M=new Image;M.src="./images/nexted.png";let _=new Image;_.src="./images/restarted.png",setTimeout((()=>{v=null,C=null,k=null,y=null,x=null,I=null,M=null,_=null,t=null,e=null,n=null,o=null,l=null,r=null,c=null,i=null,s=null,u=null,a=null,f=null,m=null,g=null,d=null,p=null,h=null,w=null,$=null,b=null}),3e3)}),0),t.$$set=t=>{o(36,n=e(e({},n),u(t))),"mineCount"in t&&o(0,r=t.mineCount),"bgs"in t&&o(1,c=t.bgs)},n=u(n),[r,c,l,i,s,a,f,m,d,p,h,w,$,b,v,C,function(t){const{detail:e}=t;M(e)},function(t){const{detail:e}=t;M(e)},function(t){const{detail:e}=t;M(e)},function(t){!d&&w&&s&&(g&&(g=!1,yt(s,k(),{regionTopChartletPosition:b,regionMiddleChartletPosition:v,regionBottomChartletPosition:C}),o(13,b),o(14,v),o(15,C),function(t,e){const{rows:n,columns:o,mineCount:l,startRow:r}=e,c=[];for(let r=0;r<l;r++){let l=ft(0,n),r=ft(0,o),i=ut(l,r),s=t[l][r];for(;c.includes(i)||s.disabled||s.chartleted||dt(s,t,e);)l=ft(0,n),r=ft(0,o),i=ut(l,r),s=t[l][r];c.push(i),t[l][r].mined=!0}}(k(),{...$t,mineCount:r}),function(t,e){const{rows:n,columns:o}=e;let l,r=0;for(let c=0;c<n;c++)for(let n=0;n<o;n++){const o=ut(c,n);if(l=t[c][n],l.neighborMineCount=0,!l.mined){const n=gt(o,e);r=0;for(let e=0;e<n.length;e++)r+=kt(t,n[e]);l.neighborMineCount=r}}}(k(),$t),I()),Bt(s,k(),{forceUpdateBoard:I,boardConfig:$t,lose:_}),z())},function(t){if(!d&&!g&&w&&s){if(!s.flagged&&i>=r)return;!function(t,e,{forceUpdateBoard:n,boardConfig:o,flagged:l}){t.opened||t.disabled||(e[t.row][t.column].flagged=t.flagged=!t.flagged,console.log("cell",t,e),l(t.flagged),n())}(s,k(),{forceUpdateBoard:I,boardConfig:$t,flagged:E}),z()}},function(t){w&&o(12,$=!$)},function(){w&&o(12,$=!1)},function(){o(11,w=!0)},function(t){w&&O()}]}class Yt extends Y{constructor(t){super(),X(this,t,Xt,Vt,c,{mineCount:0,bgs:1},null,[-1,-1])}}function Zt(e){let n,o,l;return o=new Yt({props:{mineCount:35,bgs:!0}}),{c(){n=p("div"),K(o.$$.fragment)},m(t,e){m(t,n,e),Q(o,n,null),l=!0},p:t,i(t){l||(q(o.$$.fragment,t),l=!0)},o(t){F(o.$$.fragment,t),l=!1},d(t){t&&g(n),V(o)}}}return new class extends Y{constructor(t){super(),X(this,t,null,Zt,c,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
