var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function i(t){const n={};for(const e in t)"$"!==e[0]&&(n[e]=t[e]);return n}function u(t){return null==t?"":t}function s(t,n){t.appendChild(n)}function a(t,n,e){t.insertBefore(n,e||null)}function f(t){t.parentNode.removeChild(t)}function m(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function g(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function h(){return d("")}function w(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function b(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let v;function C(t){v=t}function y(){if(!v)throw new Error("Function called outside component initialization");return v}function k(t){y().$$.before_update.push(t)}function x(){const t=y();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const l=function(t,n,e=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,e,!1,n),o}(n,e);o.slice().forEach((n=>{n.call(t,l)}))}}}const I=[],z=[],M=[],_=[],E=Promise.resolve();let O=!1;function B(t){M.push(t)}let P=!1;const R=new Set;function j(){if(!P){P=!0;do{for(let t=0;t<I.length;t+=1){const n=I[t];C(n),N(n.$$)}for(C(null),I.length=0;z.length;)z.pop()();for(let t=0;t<M.length;t+=1){const n=M[t];R.has(n)||(R.add(n),n())}M.length=0}while(I.length);for(;_.length;)_.pop()();O=!1,P=!1,R.clear()}}function N(t){if(null!==t.fragment){t.update(),l(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(B)}}const T=new Set;let U;function A(){U={r:0,c:[],p:U}}function S(){U.r||l(U.c),U=U.p}function L(t,n){t&&t.i&&(T.delete(t),t.i(n))}function q(t,n,e,o){if(t&&t.o){if(T.has(t))return;T.add(t),U.c.push((()=>{T.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function F(t,n){q(t,1,1,(()=>{n.delete(t.key)}))}function D(t,n,e,o,l,r,c,i,u,s,a,f){let m=t.length,g=r.length,d=m;const p={};for(;d--;)p[t[d].key]=d;const h=[],w=new Map,$=new Map;for(d=g;d--;){const t=f(l,r,d),i=e(t);let u=c.get(i);u?o&&u.p(t,n):(u=s(i,t),u.c()),w.set(i,h[d]=u),i in p&&$.set(i,Math.abs(d-p[i]))}const b=new Set,v=new Set;function C(t){L(t,1),t.m(i,a),c.set(t.key,t),a=t.first,g--}for(;m&&g;){const n=h[g-1],e=t[m-1],o=n.key,l=e.key;n===e?(a=n.first,m--,g--):w.has(l)?!c.has(o)||b.has(o)?C(n):v.has(l)?m--:$.get(o)>$.get(l)?(v.add(o),C(n)):(b.add(l),m--):(u(e,c),m--)}for(;m--;){const n=t[m];w.has(n.key)||u(n,c)}for(;g;)C(h[g-1]);return h}function G(t,n){const e={},o={},l={$$scope:1};let r=t.length;for(;r--;){const c=t[r],i=n[r];if(i){for(const t in c)t in i||(o[t]=1);for(const t in i)l[t]||(e[t]=i[t],l[t]=1);t[r]=i}else for(const t in c)l[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}function H(t){return"object"==typeof t&&null!==t?t:{}}function J(t){t&&t.c()}function K(t,n,o,c){const{fragment:i,on_mount:u,on_destroy:s,after_update:a}=t.$$;i&&i.m(n,o),c||B((()=>{const n=u.map(e).filter(r);s?s.push(...n):l(n),t.$$.on_mount=[]})),a.forEach(B)}function Q(t,n){const e=t.$$;null!==e.fragment&&(l(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function V(t,n){-1===t.$$.dirty[0]&&(I.push(t),O||(O=!0,E.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function W(n,e,r,c,i,u,s,a=[-1]){const m=v;C(n);const g=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:o(),dirty:a,skip_bound:!1,root:e.target||m.$$.root};s&&s(g.root);let d=!1;if(g.ctx=r?r(n,e.props||{},((t,e,...o)=>{const l=o.length?o[0]:e;return g.ctx&&i(g.ctx[t],g.ctx[t]=l)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](l),d&&V(n,t)),e})):[],g.update(),d=!0,l(g.before_update),g.fragment=!!c&&c(g.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);g.fragment&&g.fragment.l(t),t.forEach(f)}else g.fragment&&g.fragment.c();e.intro&&L(n.$$.fragment),K(n,e.target,e.anchor,e.customElement),j()}C(m)}class X{$destroy(){Q(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Y(t){let n,e,o,l=(t[3]||0==t[4]?"":t[4])+"";return{c(){n=g("div"),e=d(l),$(n,"class",o=u(["cell","opened",t[4]&&0!=t[4]?"":"transparent",t[3]?"mined":"",t[6]?"chartleted":""].join(" "))+" svelte-6k2wz2"),$(n,"id",t[0])},m(t,o){a(t,n,o),s(n,e)},p(t,r){24&r&&l!==(l=(t[3]||0==t[4]?"":t[4])+"")&&b(e,l),88&r&&o!==(o=u(["cell","opened",t[4]&&0!=t[4]?"":"transparent",t[3]?"mined":"",t[6]?"chartleted":""].join(" "))+" svelte-6k2wz2")&&$(n,"class",o),1&r&&$(n,"id",t[0])},d(t){t&&f(n)}}}function Z(t){let n,e,o,l;return{c(){n=g("div"),$(n,"class",e=u(["cell",t[8]?"selected":"",t[2]?"flagged":""].join(" "))+" svelte-6k2wz2"),$(n,"id",t[0])},m(e,r){a(e,n,r),o||(l=w(n,"click",t[9]),o=!0)},p(t,o){260&o&&e!==(e=u(["cell",t[8]?"selected":"",t[2]?"flagged":""].join(" "))+" svelte-6k2wz2")&&$(n,"class",e),1&o&&$(n,"id",t[0])},d(t){t&&f(n),o=!1,l()}}}function tt(t){let n;return{c(){n=g("div"),$(n,"class",u(["cell"].join(" "))+" svelte-6k2wz2"),$(n,"id",t[0])},m(t,e){a(t,n,e)},p(t,e){1&e&&$(n,"id",t[0])},d(t){t&&f(n)}}}function nt(n){let e;function o(t,n){return t[5]?tt:t[1]||t[7]&&t[3]||t[7]&&t[6]?Y:Z}let l=o(n),r=l(n);return{c(){r.c(),e=h()},m(t,n){r.m(t,n),a(t,e,n)},p(t,[n]){l===(l=o(t))&&r?r.p(t,n):(r.d(1),r=l(t),r&&(r.c(),r.m(e.parentNode,e)))},i:t,o:t,d(t){r.d(t),t&&f(e)}}}function et(t,n,e){let{id:o}=n,{row:l}=n,{column:r}=n,{opened:c}=n,{flagged:i}=n,{mined:u}=n,{neighborMineCount:s}=n,{disabled:a}=n,{chartleted:f}=n,{gameOver:m}=n,{currentCell:g}=n;const d=x();let p=g&&g.id===o;return k((()=>{e(8,p=g&&g.id===o)})),t.$$set=t=>{"id"in t&&e(0,o=t.id),"row"in t&&e(10,l=t.row),"column"in t&&e(11,r=t.column),"opened"in t&&e(1,c=t.opened),"flagged"in t&&e(2,i=t.flagged),"mined"in t&&e(3,u=t.mined),"neighborMineCount"in t&&e(4,s=t.neighborMineCount),"disabled"in t&&e(5,a=t.disabled),"chartleted"in t&&e(6,f=t.chartleted),"gameOver"in t&&e(7,m=t.gameOver),"currentCell"in t&&e(12,g=t.currentCell)},[o,c,i,u,s,a,f,m,p,function(){d("click",{id:o,row:l,column:r,opened:c,flagged:i,mined:u,neighborMineCount:s,disabled:a,chartleted:f})},l,r,g]}class ot extends X{constructor(t){super(),W(this,t,et,nt,c,{id:0,row:10,column:11,opened:1,flagged:2,mined:3,neighborMineCount:4,disabled:5,chartleted:6,gameOver:7,currentCell:12})}}function lt(n){let e,o,r,c,i,u,m,h,v,C,y,k,x,I,z,M=rt(n[0]-n[1])+"";return{c(){e=g("div"),o=g("div"),r=d(M),c=p(),i=g("div"),u=p(),m=g("div"),h=p(),v=g("div"),C=p(),y=g("div"),k=p(),x=g("div"),$(o,"class","minecount svelte-mr9zwz"),$(i,"class","open svelte-mr9zwz"),$(m,"class","flag svelte-mr9zwz"),$(v,"class","help svelte-mr9zwz"),$(y,"class","restart svelte-mr9zwz"),$(x,"class","next svelte-mr9zwz"),$(e,"class","button-group svelte-mr9zwz")},m(t,l){a(t,e,l),s(e,o),s(o,r),s(e,c),s(e,i),s(e,u),s(e,m),s(e,h),s(e,v),s(e,C),s(e,y),s(e,k),s(e,x),I||(z=[w(i,"click",n[2]),w(m,"click",n[3]),w(v,"click",n[4]),w(y,"click",n[5]),w(x,"click",n[6])],I=!0)},p(t,[n]){3&n&&M!==(M=rt(t[0]-t[1])+"")&&b(r,M)},i:t,o:t,d(t){t&&f(e),I=!1,l(z)}}}function rt(t){return("000"+t).slice(-3)}function ct(t,n,e){let{mineCount:o}=n,{flagCount:l}=n;const r=x();return t.$$set=t=>{"mineCount"in t&&e(0,o=t.mineCount),"flagCount"in t&&e(1,l=t.flagCount)},[o,l,function(){r("open")},function(){r("flag")},function(){r("help")},function(){r("restart")},function(){r("next")}]}class it extends X{constructor(t){super(),W(this,t,ct,lt,c,{mineCount:0,flagCount:1})}}function ut(t,n){return`${t}/${n}`}function st({row:t,column:n,...e}){return{id:ut(t,n),row:t,column:n,...e}}function at(t,n){return Math.floor(Math.random()*(n-t))+t}function ft(t){const[n,e]=t.split("/");return{row:n,column:e}}function mt(t,n){let{row:e,column:o}=ft(t);e=parseInt(e),o=parseInt(o);const l=[];l.push(ut(e-1,o-1)),l.push(ut(e-1,o)),l.push(ut(e-1,o+1)),l.push(ut(e,o-1)),l.push(ut(e,o+1)),l.push(ut(e+1,o-1)),l.push(ut(e+1,o)),l.push(ut(e+1,o+1));const{rows:r,columns:c}=n;for(let t=0;t<l.length;t++){let{row:n,column:e}=ft(l[t]);(n<0||e<0||n>=r||e>=c)&&(l.splice(t,1),t--)}return l}function gt(t,n,e){const o=mt(t.id,e);for(let t=0;t<o.length;t++){const{row:e,column:l}=ft(o[t]),r=n[e][l];if(void 0!==r&&r.chartleted)return!0}return!1}function dt(t){const{rows:n,columns:e,startRow:o,mineCount:l}=t;let r=[];for(let t=0;t<n;t++)for(let n=0;n<e;n++)r[t]=r[t]||[],r[t][n]=st({row:o+t,column:n,opened:!1,flagged:!1,mined:!1,neighborMineCount:0,disabled:!1,chartleted:!1});return r}const pt=10,ht=65,wt={startRow:0,rows:28,columns:16,mineCount:32},$t={startRow:0,rows:pt,columns:16,mineCount:12},bt={startRow:pt,rows:9,columns:16,mineCount:10},vt={startRow:19,rows:9,columns:16,mineCount:10};function Ct(t,n){const{row:e,column:o}=ft(n),l=t[e][o];let r=0;return void 0!==l&&(r=l.mined?1:0),r}function yt(t,n,e){const{row:o,column:l}=ft(t.id);o<pt?(!function(t,n,{regionTopChartletPosition:e}){let{row:o,column:l}=ft(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+3},i={row:o+1,column:l-2},u={row:0,column:0};r.row<0&&(u.row=-r.row);i.row>9&&(u.row=-(i.row-9));r.column<0&&(u.column=-r.column);c.column>15&&(u.column=-(c.column-15));r.row+=u.row,r.column+=u.column,c.row+=u.row,c.column+=u.column,c.column>13&&c.row<2&&(l<=13&&o>=2?(r.row+=2-c.row,r.column+=13-c.column):l<=13&&o<2?r.column+=13-c.column:l>13&&o>=2&&(r.row+=2-c.row));kt(n,r,e,{chartletRows:3,chartletColumns:6})}(t,n,e),It(n,e),zt(n,e)):o<19?(!function(t,n,{regionMiddleChartletPosition:e}){let{row:o,column:l}=ft(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+2},i={row:o+2,column:l-2},u={row:0,column:0};r.row<10&&(u.row=-(r.row-10));i.row>18&&(u.row=-(i.row-18));r.column<0&&(u.column=-r.column);c.column>15&&(u.column=-(c.column-15));r.row+=u.row,r.column+=u.column,kt(n,r,e,{chartletRows:4,chartletColumns:5})}(t,n,e),xt(n,e),zt(n,e)):o<28&&(!function(t,n,{regionBottomChartletPosition:e}){let{row:o,column:l}=ft(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-3},c={row:o-1,column:l+4},i={row:o+1,column:l-3},u={row:o+1,column:l+4},s={row:0,column:0};r.row<19&&(s.row=-(r.row-19));i.row>27&&(s.row=-(i.row-27));r.column<0&&(s.column=-r.column);c.column>15&&(s.column=-(c.column-15));r.row+=s.row,r.column+=s.column,u.row+=s.row,u.column+=s.column,u.column>11&&u.row>24&&(l<=11&&o<=24?(r.row+=24-u.row,r.column+=11-u.column):l<=11&&o>24?r.column+=11-u.column:l>11&&o<=24&&(r.row+=24-u.row));i.column<3&&i.row>21&&(l>=3&&o<=21?(r.row+=21-i.row,r.column+=3-i.column):l>=3&&o>21?r.column+=3-i.column:l<3&&o<=21&&(r.row+=21-i.row));kt(n,r,e,{chartletRows:3,chartletColumns:8})}(t,n,e),xt(n,e),It(n,e))}function kt(t,n,e,{chartletRows:o,chartletColumns:l}){const{row:r,column:c}=n;e.top=r*ht+"px",e.left=c*ht+"px";for(let n=r;n<r+o;n++)for(let e=c;e<c+l;e++)t[n][e]=st({...t[n][e],chartleted:!0})}function xt(t,{regionTopChartletPosition:n}){const e=at(0,8),o=at(0,9);n.top=e*ht+"px",n.left=o*ht+"px";for(let n=e;n<e+3;n++)for(let e=o;e<o+6;e++)t[n][e]=st({...t[n][e],chartleted:!0})}function It(t,{regionMiddleChartletPosition:n}){const e=at(10,16),o=at(0,12);n.top=e*ht+"px",n.left=o*ht+"px";for(let n=e;n<e+4;n++)for(let e=o;e<o+5;e++)t[n][e]=st({...t[n][e],chartleted:!0})}function zt(t,{regionBottomChartletPosition:n}){const e=at(19,26),o=at(3,5);n.top=e*ht+"px",n.left=o*ht+"px";for(let n=e;n<e+3;n++)for(let e=o;e<o+8;e++)t[n][e]=st({...t[n][e],chartleted:!0})}const Mt=["0/14","0/15","1/14","1/15"];const _t=["22/0","22/1","22/2","23/0","23/1","23/2","24/0","24/1","24/2","25/0","25/1","25/2","26/0","26/1","26/2","27/0","27/1","27/2"];const Et=["25/12","25/13","25/14","25/15","26/12","26/13","26/14","26/15","27/12","27/13","27/14","27/15"];function Ot(t,n,{forceUpdateBoard:e,boardConfig:o,lose:l}){if(!(t.opened||t.disabled||t.flagged))if(t.mined)l();else{if(n[t.row][t.column].opened=t.opened=!0,!t.neighborMineCount){const r=mt(t.id,o);for(let t=0;t<r.length;t++){const{row:c,column:i}=ft(r[t]),u=n[c][i];void 0===u||u.opened||u.disabled||Ot(u,n,{forceUpdateBoard:e,boardConfig:o,lose:l})}}e()}}function Bt(t,n,e){const o=t.slice();return o[34]=n[e],o}function Pt(t,n,e){const o=t.slice();return o[37]=n[e],o}function Rt(t,n,e){const o=t.slice();return o[34]=n[e],o}function jt(t,n,e){const o=t.slice();return o[37]=n[e],o}function Nt(t,n,e){const o=t.slice();return o[34]=n[e],o}function Tt(t,n,e){const o=t.slice();return o[37]=n[e],o}function Ut(n){let e,o,l;return{c(){e=g("div"),$(e,"class","helped svelte-hr2iiz")},m(t,r){a(t,e,r),o||(l=w(e,"click",n[21]),o=!0)},p:t,d(t){t&&f(e),o=!1,l()}}}function At(t){let n;return{c(){n=g("div"),$(n,"class","wined svelte-hr2iiz")},m(t,e){a(t,n,e)},d(t){t&&f(n)}}}function St(t){let n;return{c(){n=g("div"),$(n,"class","losed svelte-hr2iiz")},m(t,e){a(t,n,e)},d(t){t&&f(n)}}}function Lt(t,e){let o,l,r;const c=[{gameOver:e[8]},{currentCell:e[4]},e[37]];let i={};for(let t=0;t<c.length;t+=1)i=n(i,c[t]);return l=new ot({props:i}),l.$on("click",e[15]),{key:t,first:null,c(){o=h(),J(l.$$.fragment),this.first=o},m(t,n){a(t,o,n),K(l,t,n),r=!0},p(t,n){e=t;const o=304&n[0]?G(c,[256&n[0]&&{gameOver:e[8]},16&n[0]&&{currentCell:e[4]},32&n[0]&&H(e[37])]):{};l.$set(o)},i(t){r||(L(l.$$.fragment,t),r=!0)},o(t){q(l.$$.fragment,t),r=!1},d(t){t&&f(o),Q(l,t)}}}function qt(t){let n,e,o,l=[],r=new Map,c=t[34];const i=t=>t[37].id;for(let n=0;n<c.length;n+=1){let e=Tt(t,c,n),o=i(e);r.set(o,l[n]=Lt(o,e))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();n=p(),e=g("br")},m(t,r){for(let n=0;n<l.length;n+=1)l[n].m(t,r);a(t,n,r),a(t,e,r),o=!0},p(t,e){33072&e[0]&&(c=t[34],A(),l=D(l,e,i,1,t,c,r,n.parentNode,F,Lt,n,Tt),S())},i(t){if(!o){for(let t=0;t<c.length;t+=1)L(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)q(l[t]);o=!1},d(t){for(let n=0;n<l.length;n+=1)l[n].d(t);t&&f(n),t&&f(e)}}}function Ft(t,e){let o,l,r;const c=[{gameOver:e[8]},{currentCell:e[4]},e[37]];let i={};for(let t=0;t<c.length;t+=1)i=n(i,c[t]);return l=new ot({props:i}),l.$on("click",e[16]),{key:t,first:null,c(){o=h(),J(l.$$.fragment),this.first=o},m(t,n){a(t,o,n),K(l,t,n),r=!0},p(t,n){e=t;const o=336&n[0]?G(c,[256&n[0]&&{gameOver:e[8]},16&n[0]&&{currentCell:e[4]},64&n[0]&&H(e[37])]):{};l.$set(o)},i(t){r||(L(l.$$.fragment,t),r=!0)},o(t){q(l.$$.fragment,t),r=!1},d(t){t&&f(o),Q(l,t)}}}function Dt(t){let n,e,o,l=[],r=new Map,c=t[34];const i=t=>t[37].id;for(let n=0;n<c.length;n+=1){let e=jt(t,c,n),o=i(e);r.set(o,l[n]=Ft(o,e))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();n=p(),e=g("br")},m(t,r){for(let n=0;n<l.length;n+=1)l[n].m(t,r);a(t,n,r),a(t,e,r),o=!0},p(t,e){65872&e[0]&&(c=t[34],A(),l=D(l,e,i,1,t,c,r,n.parentNode,F,Ft,n,jt),S())},i(t){if(!o){for(let t=0;t<c.length;t+=1)L(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)q(l[t]);o=!1},d(t){for(let n=0;n<l.length;n+=1)l[n].d(t);t&&f(n),t&&f(e)}}}function Gt(t,e){let o,l,r;const c=[{gameOver:e[8]},{currentCell:e[4]},e[37]];let i={};for(let t=0;t<c.length;t+=1)i=n(i,c[t]);return l=new ot({props:i}),l.$on("click",e[17]),{key:t,first:null,c(){o=h(),J(l.$$.fragment),this.first=o},m(t,n){a(t,o,n),K(l,t,n),r=!0},p(t,n){e=t;const o=400&n[0]?G(c,[256&n[0]&&{gameOver:e[8]},16&n[0]&&{currentCell:e[4]},128&n[0]&&H(e[37])]):{};l.$set(o)},i(t){r||(L(l.$$.fragment,t),r=!0)},o(t){q(l.$$.fragment,t),r=!1},d(t){t&&f(o),Q(l,t)}}}function Ht(t){let n,e,o,l=[],r=new Map,c=t[34];const i=t=>t[37].id;for(let n=0;n<c.length;n+=1){let e=Pt(t,c,n),o=i(e);r.set(o,l[n]=Gt(o,e))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();n=p(),e=g("br")},m(t,r){for(let n=0;n<l.length;n+=1)l[n].m(t,r);a(t,n,r),a(t,e,r),o=!0},p(t,e){131472&e[0]&&(c=t[34],A(),l=D(l,e,i,1,t,c,r,n.parentNode,F,Gt,n,Pt),S())},i(t){if(!o){for(let t=0;t<c.length;t+=1)L(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)q(l[t]);o=!1},d(t){for(let n=0;n<l.length;n+=1)l[n].d(t);t&&f(n),t&&f(e)}}}function Jt(t){let n,e,o,l,r,c,i,u,d,h,w,b,v,C,y,k,x,I,z,M,_,E,O,B,P,R,j=t[11]&&Ut(t);function N(t,n){return t[9]?St:t[10]?At:void 0}let T=N(t),U=T&&T(t),F=t[5],D=[];for(let n=0;n<F.length;n+=1)D[n]=qt(Nt(t,F,n));const G=t=>q(D[t],1,1,(()=>{D[t]=null}));let H=t[6],V=[];for(let n=0;n<H.length;n+=1)V[n]=Dt(Rt(t,H,n));const W=t=>q(V[t],1,1,(()=>{V[t]=null}));let X=t[7],Y=[];for(let n=0;n<X.length;n+=1)Y[n]=Ht(Bt(t,X,n));const Z=t=>q(Y[t],1,1,(()=>{Y[t]=null}));return O=new it({props:{mineCount:t[0],flagCount:t[3]}}),O.$on("open",t[18]),O.$on("flag",t[19]),O.$on("help",t[20]),O.$on("restart",t[22]),O.$on("next",Kt),{c(){n=g("div"),e=g("div"),o=g("div"),r=p(),c=g("div"),u=p(),d=g("div"),w=p(),b=g("div"),v=p(),C=g("div"),y=p(),k=g("div"),x=p(),j&&j.c(),I=p(),U&&U.c(),z=p();for(let t=0;t<D.length;t+=1)D[t].c();M=p();for(let t=0;t<V.length;t+=1)V[t].c();_=p();for(let t=0;t<Y.length;t+=1)Y[t].c();E=p(),J(O.$$.fragment),$(o,"class","chartlet top svelte-hr2iiz"),$(o,"style",l=`background-image: url(./images/chartlettop${at(1,6)}.png);top: ${t[12].top};left: ${t[12].left}`),$(c,"class","chartlet middle svelte-hr2iiz"),$(c,"style",i=`background-image: url(./images/chartletmiddle${at(1,6)}.png);top: ${t[13].top};left: ${t[13].left}`),$(d,"class","chartlet bottom svelte-hr2iiz"),$(d,"style",h=`background-image: url(./images/chartletbottom${at(1,6)}.png);top: ${t[14].top};left: ${t[14].left}`),$(b,"class","layer number22 svelte-hr2iiz"),$(C,"class","layer infos svelte-hr2iiz"),$(k,"class","layer logo svelte-hr2iiz"),$(e,"class","board svelte-hr2iiz"),$(e,"style",B=`background-image: url(./images/bg${at(1,6)}${t[1]?"s":""}.png);`),$(n,"class","container svelte-hr2iiz"),$(n,"style",P=""+(t[2]<1?"margin: 0 auto":""))},m(t,l){a(t,n,l),s(n,e),s(e,o),s(e,r),s(e,c),s(e,u),s(e,d),s(e,w),s(e,b),s(e,v),s(e,C),s(e,y),s(e,k),s(e,x),j&&j.m(e,null),s(e,I),U&&U.m(e,null),s(e,z);for(let t=0;t<D.length;t+=1)D[t].m(e,null);s(e,M);for(let t=0;t<V.length;t+=1)V[t].m(e,null);s(e,_);for(let t=0;t<Y.length;t+=1)Y[t].m(e,null);s(e,E),K(O,e,null),R=!0},p(t,r){if((!R||4096&r[0]&&l!==(l=`background-image: url(./images/chartlettop${at(1,6)}.png);top: ${t[12].top};left: ${t[12].left}`))&&$(o,"style",l),(!R||8192&r[0]&&i!==(i=`background-image: url(./images/chartletmiddle${at(1,6)}.png);top: ${t[13].top};left: ${t[13].left}`))&&$(c,"style",i),(!R||16384&r[0]&&h!==(h=`background-image: url(./images/chartletbottom${at(1,6)}.png);top: ${t[14].top};left: ${t[14].left}`))&&$(d,"style",h),t[11]?j?j.p(t,r):(j=Ut(t),j.c(),j.m(e,I)):j&&(j.d(1),j=null),T!==(T=N(t))&&(U&&U.d(1),U=T&&T(t),U&&(U.c(),U.m(e,z))),33072&r[0]){let n;for(F=t[5],n=0;n<F.length;n+=1){const o=Nt(t,F,n);D[n]?(D[n].p(o,r),L(D[n],1)):(D[n]=qt(o),D[n].c(),L(D[n],1),D[n].m(e,M))}for(A(),n=F.length;n<D.length;n+=1)G(n);S()}if(65872&r[0]){let n;for(H=t[6],n=0;n<H.length;n+=1){const o=Rt(t,H,n);V[n]?(V[n].p(o,r),L(V[n],1)):(V[n]=Dt(o),V[n].c(),L(V[n],1),V[n].m(e,_))}for(A(),n=H.length;n<V.length;n+=1)W(n);S()}if(131472&r[0]){let n;for(X=t[7],n=0;n<X.length;n+=1){const o=Bt(t,X,n);Y[n]?(Y[n].p(o,r),L(Y[n],1)):(Y[n]=Ht(o),Y[n].c(),L(Y[n],1),Y[n].m(e,E))}for(A(),n=X.length;n<Y.length;n+=1)Z(n);S()}const u={};1&r[0]&&(u.mineCount=t[0]),8&r[0]&&(u.flagCount=t[3]),O.$set(u),(!R||2&r[0]&&B!==(B=`background-image: url(./images/bg${at(1,6)}${t[1]?"s":""}.png);`))&&$(e,"style",B),(!R||4&r[0]&&P!==(P=""+(t[2]<1?"margin: 0 auto":"")))&&$(n,"style",P)},i(t){if(!R){for(let t=0;t<F.length;t+=1)L(D[t]);for(let t=0;t<H.length;t+=1)L(V[t]);for(let t=0;t<X.length;t+=1)L(Y[t]);L(O.$$.fragment,t),R=!0}},o(t){D=D.filter(Boolean);for(let t=0;t<D.length;t+=1)q(D[t]);V=V.filter(Boolean);for(let t=0;t<V.length;t+=1)q(V[t]);Y=Y.filter(Boolean);for(let t=0;t<Y.length;t+=1)q(Y[t]);q(O.$$.fragment,t),R=!1},d(t){t&&f(n),j&&j.d(),U&&U.d(),m(D,t),m(V,t),m(Y,t),Q(O)}}}function Kt(t){console.log("next")}function Qt(t,e,o){let l=1,{mineCount:r}=e,{bgs:c}=e,u=0,s=null,a=[],f=[],m=[],g=!0,d=!1,p=!1,h=!1,w=!1,$={top:0,left:"-780px"},b={top:0,left:"-780px"},v={top:0,left:"-780px"};try{l=window.screen.width<1080?window.screen.width/1080:1}catch(t){}function C(){return[...a,...f,...m]}function x(){o(5,a),o(6,f),o(7,m)}function I(t){d||t.disabled||t.opened||(s&&s.id===t.id?o(4,s=null):o(4,s=t))}function z(){o(8,d=!0),o(9,p=!0)}function M(t){o(3,u+=t?1:-1)}function _(){const t=C(),n=[];for(let e=0;e<t.length;e++)for(let o=0;o<t[e].length;o++){const l=t[e][o];l.opened||n.push(l)}let e=!0;n.forEach((t=>{t.mined||t.disabled||(e=!1)}));let l=!0;return n.forEach((t=>{(t.flagged&&!t.mined||!t.flagged&&t.mined)&&(l=!1)})),(e||l)&&(o(8,d=!0),o(10,h=!0)),e||l}function E(){o(3,u=0),o(5,a=dt({...$t,mineCount:0})),o(6,f=dt({...bt,mineCount:0})),o(7,m=dt({...vt,mineCount:0})),g=!0,o(8,d=!1),o(9,p=!1),o(10,h=!1),o(11,w=!1),o(4,s=null),o(12,$={top:0,left:"-780px"}),o(13,b={top:0,left:"-780px"}),o(14,v={top:0,left:"-780px"}),function(t){for(let n=0;n<Mt.length;n++){const{row:e,column:o}=ft(Mt[n]);t[e][o]=st({...t[e][o],disabled:!0})}}(C()),function(t){for(let n=0;n<_t.length;n++){const{row:e,column:o}=ft(_t[n]);t[e][o]=st({...t[e][o],disabled:!0})}}(C()),function(t){for(let n=0;n<Et.length;n++){const{row:e,column:o}=ft(Et[n]);t[e][o]=st({...t[e][o],disabled:!0})}}(C()),x()}var O;return k((()=>{console.log("app",C())})),O=()=>{console.log("onmount!!",e),E()},y().$$.on_mount.push(O),setTimeout((()=>{let t=new Image;t.src="./images/bg1.png";let n=new Image;n.src="./images/bg2.png";let e=new Image;e.src="./images/bg3.png";let o=new Image;o.src="./images/bg4.png";let l=new Image;l.src="./images/bg5.png";let r=new Image;r.src="./images/bg1s.png";let c=new Image;c.src="./images/bg2s.png";let i=new Image;i.src="./images/bg3s.png";let u=new Image;u.src="./images/bg4s.png";let s=new Image;s.src="./images/bg5s.png";let a=new Image;a.src="./images/chartletbottom1.png";let f=new Image;f.src="./images/chartletbottom2.png";let m=new Image;m.src="./images/chartletbottom3.png";let g=new Image;g.src="./images/chartletbottom4.png";let d=new Image;d.src="./images/chartletbottom5.png";let p=new Image;p.src="./images/chartlettop1.png";let h=new Image;h.src="./images/chartlettop2.png";let w=new Image;w.src="./images/chartlettop3.png";let $=new Image;$.src="./images/chartlettop4.png";let b=new Image;b.src="./images/chartlettop5.png";let v=new Image;v.src="./images/chartletmiddle1.png";let C=new Image;C.src="./images/chartletmiddle2.png";let y=new Image;y.src="./images/chartletmiddle3.png";let k=new Image;k.src="./images/chartletmiddle4.png";let x=new Image;x.src="./images/chartletmiddle5.png",setTimeout((()=>{t=null,n=null,e=null,o=null,l=null,r=null,c=null,i=null,u=null,s=null,a=null,f=null,m=null,g=null,d=null,p=null,h=null,w=null,$=null,b=null,v=null,C=null,y=null,k=null,x=null}),3e3)}),0),t.$$set=t=>{o(33,e=n(n({},e),i(t))),"mineCount"in t&&o(0,r=t.mineCount),"bgs"in t&&o(1,c=t.bgs)},e=i(e),[r,c,l,u,s,a,f,m,d,p,h,w,$,b,v,function(t){const{detail:n}=t;I(n)},function(t){const{detail:n}=t;I(n)},function(t){const{detail:n}=t;I(n)},function(t){d||s&&(g&&(g=!1,yt(s,C(),{regionTopChartletPosition:$,regionMiddleChartletPosition:b,regionBottomChartletPosition:v}),o(12,$),o(13,b),o(14,v),function(t,n){const{rows:e,columns:o,mineCount:l,startRow:r}=n,c=[];for(let r=0;r<l;r++){let l=at(0,e),r=at(0,o),i=ut(l,r),u=t[l][r];for(;c.includes(i)||u.disabled||u.chartleted||gt(u,t,n);)l=at(0,e),r=at(0,o),i=ut(l,r),u=t[l][r];c.push(i),t[l][r].mined=!0}}(C(),{...wt,mineCount:r}),function(t,n){const{rows:e,columns:o}=n;let l,r=0;for(let c=0;c<e;c++)for(let e=0;e<o;e++){const o=ut(c,e);if(l=t[c][e],l.neighborMineCount=0,!l.mined){const e=mt(o,n);r=0;for(let n=0;n<e.length;n++)r+=Ct(t,e[n]);l.neighborMineCount=r}}}(C(),wt),x()),Ot(s,C(),{forceUpdateBoard:x,boardConfig:wt,lose:z}),_())},function(t){if(!d&&!g&&s){if(!s.flagged&&u>=r)return;!function(t,n,{forceUpdateBoard:e,boardConfig:o,flagged:l}){t.opened||t.disabled||(n[t.row][t.column].flagged=t.flagged=!t.flagged,console.log("cell",t,n),l(t.flagged),e())}(s,C(),{forceUpdateBoard:x,boardConfig:wt,flagged:M}),_()}},function(t){o(11,w=!w)},function(){o(11,w=!1)},function(t){E()}]}class Vt extends X{constructor(t){super(),W(this,t,Qt,Jt,c,{mineCount:0,bgs:1},null,[-1,-1])}}function Wt(n){let e,o,l,r,c,i,u,m,d;return o=new Vt({props:{mineCount:35,bgs:!0}}),r=new Vt({props:{mineCount:40,bgs:!0}}),i=new Vt({props:{mineCount:45}}),m=new Vt({props:{mineCount:50}}),{c(){e=g("div"),J(o.$$.fragment),l=p(),J(r.$$.fragment),c=p(),J(i.$$.fragment),u=p(),J(m.$$.fragment)},m(t,n){a(t,e,n),K(o,e,null),s(e,l),K(r,e,null),s(e,c),K(i,e,null),s(e,u),K(m,e,null),d=!0},p:t,i(t){d||(L(o.$$.fragment,t),L(r.$$.fragment,t),L(i.$$.fragment,t),L(m.$$.fragment,t),d=!0)},o(t){q(o.$$.fragment,t),q(r.$$.fragment,t),q(i.$$.fragment,t),q(m.$$.fragment,t),d=!1},d(t){t&&f(e),Q(o),Q(r),Q(i),Q(m)}}}return new class extends X{constructor(t){super(),W(this,t,null,Wt,c,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
