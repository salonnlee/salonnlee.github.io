var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function i(t){return null==t?"":t}function u(t,n){t.appendChild(n)}function s(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function f(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function d(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function g(){return m(" ")}function p(){return m("")}function h(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function w(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function $(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let b;function v(t){b=t}function C(){if(!b)throw new Error("Function called outside component initialization");return b}function y(t){C().$$.before_update.push(t)}function x(){const t=C();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const l=function(t,n,e=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,e,!1,n),o}(n,e);o.slice().forEach((n=>{n.call(t,l)}))}}}const k=[],I=[],M=[],_=[],j=Promise.resolve();let E=!1;function O(t){M.push(t)}let B=!1;const R=new Set;function P(){if(!B){B=!0;do{for(let t=0;t<k.length;t+=1){const n=k[t];v(n),q(n.$$)}for(v(null),k.length=0;I.length;)I.pop()();for(let t=0;t<M.length;t+=1){const n=M[t];R.has(n)||(R.add(n),n())}M.length=0}while(k.length);for(;_.length;)_.pop()();E=!1,B=!1,R.clear()}}function q(t){if(null!==t.fragment){t.update(),l(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(O)}}const N=new Set;let T;function z(){T={r:0,c:[],p:T}}function A(){T.r||l(T.c),T=T.p}function U(t,n){t&&t.i&&(N.delete(t),t.i(n))}function S(t,n,e,o){if(t&&t.o){if(N.has(t))return;N.add(t),T.c.push((()=>{N.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function L(t,n){S(t,1,1,(()=>{n.delete(t.key)}))}function F(t,n,e,o,l,r,c,i,u,s,a,f){let d=t.length,m=r.length,g=d;const p={};for(;g--;)p[t[g].key]=g;const h=[],w=new Map,$=new Map;for(g=m;g--;){const t=f(l,r,g),i=e(t);let u=c.get(i);u?o&&u.p(t,n):(u=s(i,t),u.c()),w.set(i,h[g]=u),i in p&&$.set(i,Math.abs(g-p[i]))}const b=new Set,v=new Set;function C(t){U(t,1),t.m(i,a),c.set(t.key,t),a=t.first,m--}for(;d&&m;){const n=h[m-1],e=t[d-1],o=n.key,l=e.key;n===e?(a=n.first,d--,m--):w.has(l)?!c.has(o)||b.has(o)?C(n):v.has(l)?d--:$.get(o)>$.get(l)?(v.add(o),C(n)):(b.add(l),d--):(u(e,c),d--)}for(;d--;){const n=t[d];w.has(n.key)||u(n,c)}for(;m;)C(h[m-1]);return h}function G(t,n){const e={},o={},l={$$scope:1};let r=t.length;for(;r--;){const c=t[r],i=n[r];if(i){for(const t in c)t in i||(o[t]=1);for(const t in i)l[t]||(e[t]=i[t],l[t]=1);t[r]=i}else for(const t in c)l[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}function V(t){return"object"==typeof t&&null!==t?t:{}}function W(t){t&&t.c()}function D(t,n,o,c){const{fragment:i,on_mount:u,on_destroy:s,after_update:a}=t.$$;i&&i.m(n,o),c||O((()=>{const n=u.map(e).filter(r);s?s.push(...n):l(n),t.$$.on_mount=[]})),a.forEach(O)}function H(t,n){const e=t.$$;null!==e.fragment&&(l(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function J(t,n){-1===t.$$.dirty[0]&&(k.push(t),E||(E=!0,j.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function K(n,e,r,c,i,u,s,f=[-1]){const d=b;v(n);const m=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:e.target||d.$$.root};s&&s(m.root);let g=!1;if(m.ctx=r?r(n,e.props||{},((t,e,...o)=>{const l=o.length?o[0]:e;return m.ctx&&i(m.ctx[t],m.ctx[t]=l)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](l),g&&J(n,t)),e})):[],m.update(),g=!0,l(m.before_update),m.fragment=!!c&&c(m.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);m.fragment&&m.fragment.l(t),t.forEach(a)}else m.fragment&&m.fragment.c();e.intro&&U(n.$$.fragment),D(n,e.target,e.anchor,e.customElement),P()}v(d)}class Q{$destroy(){H(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function X(t){let n,e,o,l=(t[3]||0==t[4]?"":t[4])+"";return{c(){n=d("div"),e=m(l),w(n,"class",o=i(["cell","opened",t[4]&&0!=t[4]?"":"transparent",t[3]?"mined":"",t[6]?"chartleted":""].join(" "))+" svelte-1irbdl7"),w(n,"id",t[0])},m(t,o){s(t,n,o),u(n,e)},p(t,r){24&r&&l!==(l=(t[3]||0==t[4]?"":t[4])+"")&&$(e,l),88&r&&o!==(o=i(["cell","opened",t[4]&&0!=t[4]?"":"transparent",t[3]?"mined":"",t[6]?"chartleted":""].join(" "))+" svelte-1irbdl7")&&w(n,"class",o),1&r&&w(n,"id",t[0])},d(t){t&&a(n)}}}function Y(t){let n,e,o,l;return{c(){n=d("div"),w(n,"class",e=i(["cell",t[8]?"selected":"",t[2]?"flagged":""].join(" "))+" svelte-1irbdl7"),w(n,"id",t[0])},m(e,r){s(e,n,r),o||(l=h(n,"click",t[9]),o=!0)},p(t,o){260&o&&e!==(e=i(["cell",t[8]?"selected":"",t[2]?"flagged":""].join(" "))+" svelte-1irbdl7")&&w(n,"class",e),1&o&&w(n,"id",t[0])},d(t){t&&a(n),o=!1,l()}}}function Z(t){let n;return{c(){n=d("div"),w(n,"class",i(["cell"].join(" "))+" svelte-1irbdl7"),w(n,"id",t[0])},m(t,e){s(t,n,e)},p(t,e){1&e&&w(n,"id",t[0])},d(t){t&&a(n)}}}function tt(n){let e;function o(t,n){return t[5]?Z:t[1]||t[7]&&t[3]||t[7]&&t[6]?X:Y}let l=o(n),r=l(n);return{c(){r.c(),e=p()},m(t,n){r.m(t,n),s(t,e,n)},p(t,[n]){l===(l=o(t))&&r?r.p(t,n):(r.d(1),r=l(t),r&&(r.c(),r.m(e.parentNode,e)))},i:t,o:t,d(t){r.d(t),t&&a(e)}}}function nt(t,n,e){let{id:o}=n,{row:l}=n,{column:r}=n,{opened:c}=n,{flagged:i}=n,{mined:u}=n,{neighborMineCount:s}=n,{disabled:a}=n,{chartleted:f}=n,{gameOver:d}=n,{currentCell:m}=n;const g=x();let p=m&&m.id===o;return y((()=>{e(8,p=m&&m.id===o)})),t.$$set=t=>{"id"in t&&e(0,o=t.id),"row"in t&&e(10,l=t.row),"column"in t&&e(11,r=t.column),"opened"in t&&e(1,c=t.opened),"flagged"in t&&e(2,i=t.flagged),"mined"in t&&e(3,u=t.mined),"neighborMineCount"in t&&e(4,s=t.neighborMineCount),"disabled"in t&&e(5,a=t.disabled),"chartleted"in t&&e(6,f=t.chartleted),"gameOver"in t&&e(7,d=t.gameOver),"currentCell"in t&&e(12,m=t.currentCell)},[o,c,i,u,s,a,f,d,p,function(){g("click",{id:o,row:l,column:r,opened:c,flagged:i,mined:u,neighborMineCount:s,disabled:a,chartleted:f})},l,r,m]}class et extends Q{constructor(t){super(),K(this,t,nt,tt,c,{id:0,row:10,column:11,opened:1,flagged:2,mined:3,neighborMineCount:4,disabled:5,chartleted:6,gameOver:7,currentCell:12})}}function ot(n){let e,o,r,c,i,f,p,b,v,C,y,x,k,I,M,_=lt(n[0]-n[1])+"";return{c(){e=d("div"),o=d("div"),r=m(_),c=g(),i=d("div"),f=g(),p=d("div"),b=g(),v=d("div"),C=g(),y=d("div"),x=g(),k=d("div"),w(o,"class","minecount svelte-1tcey3x"),w(i,"class","open svelte-1tcey3x"),w(p,"class","flag svelte-1tcey3x"),w(v,"class","zoom svelte-1tcey3x"),w(y,"class","restart svelte-1tcey3x"),w(k,"class","next svelte-1tcey3x"),w(e,"class","button-group svelte-1tcey3x")},m(t,l){s(t,e,l),u(e,o),u(o,r),u(e,c),u(e,i),u(e,f),u(e,p),u(e,b),u(e,v),u(e,C),u(e,y),u(e,x),u(e,k),I||(M=[h(i,"click",n[2]),h(p,"click",n[3]),h(v,"click",n[4]),h(y,"click",n[5]),h(k,"click",n[6])],I=!0)},p(t,[n]){3&n&&_!==(_=lt(t[0]-t[1])+"")&&$(r,_)},i:t,o:t,d(t){t&&a(e),I=!1,l(M)}}}function lt(t){return("000"+t).slice(-3)}function rt(t,n,e){let{mineCount:o}=n,{flagCount:l}=n;const r=x();return t.$$set=t=>{"mineCount"in t&&e(0,o=t.mineCount),"flagCount"in t&&e(1,l=t.flagCount)},[o,l,function(){r("open")},function(){r("flag")},function(){r("zoom")},function(){r("restart")},function(){r("next")}]}class ct extends Q{constructor(t){super(),K(this,t,rt,ot,c,{mineCount:0,flagCount:1})}}function it(t,n){return`${t}/${n}`}function ut({row:t,column:n,...e}){return{id:it(t,n),row:t,column:n,...e}}function st(t,n){return Math.floor(Math.random()*(n-t))+t}function at(t){const[n,e]=t.split("/");return{row:n,column:e}}function ft(t,n){let{row:e,column:o}=at(t);e=parseInt(e),o=parseInt(o);const l=[];l.push(it(e-1,o-1)),l.push(it(e-1,o)),l.push(it(e-1,o+1)),l.push(it(e,o-1)),l.push(it(e,o+1)),l.push(it(e+1,o-1)),l.push(it(e+1,o)),l.push(it(e+1,o+1));const{rows:r,columns:c}=n;for(let t=0;t<l.length;t++){let{row:n,column:e}=at(l[t]);(n<0||e<0||n>=r||e>=c)&&(l.splice(t,1),t--)}return l}function dt(t,n,e){const o=ft(t.id,e);for(let t=0;t<o.length;t++){const{row:e,column:l}=at(o[t]),r=n[e][l];if(void 0!==r&&r.chartleted)return!0}return!1}function mt(t){const{rows:n,columns:e,startRow:o,mineCount:l}=t;let r=[];for(let t=0;t<n;t++)for(let n=0;n<e;n++)r[t]=r[t]||[],r[t][n]=ut({row:o+t,column:n,opened:!1,flagged:!1,mined:!1,neighborMineCount:0,disabled:!1,chartleted:!1});return r}const gt=10,pt=65,ht={startRow:0,rows:28,columns:16,mineCount:32},wt={startRow:0,rows:gt,columns:16,mineCount:12},$t={startRow:gt,rows:9,columns:16,mineCount:10},bt={startRow:19,rows:9,columns:16,mineCount:10};function vt(t,n){const{row:e,column:o}=at(n),l=t[e][o];let r=0;return void 0!==l&&(r=l.mined?1:0),r}function Ct(t,n,e){const{row:o,column:l}=at(t.id);o<gt?(!function(t,n,{regionTopChartletPosition:e}){let{row:o,column:l}=at(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+3},i={row:o+1,column:l-2},u={row:0,column:0};r.row<0&&(u.row=-r.row);i.row>9&&(u.row=-(i.row-9));r.column<0&&(u.column=-r.column);c.column>15&&(u.column=-(c.column-15));r.row+=u.row,r.column+=u.column,c.row+=u.row,c.column+=u.column,c.column>13&&c.row<2&&(l<=13&&o>=2?(r.row+=2-c.row,r.column+=13-c.column):l<=13&&o<2?r.column+=13-c.column:l>13&&o>=2&&(r.row+=2-c.row));yt(n,r,e,{chartletRows:3,chartletColumns:6})}(t,n,e),kt(n,e),It(n,e)):o<19?(!function(t,n,{regionMiddleChartletPosition:e}){let{row:o,column:l}=at(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+2},i={row:o+2,column:l-2},u={row:0,column:0};r.row<10&&(u.row=-(r.row-10));i.row>18&&(u.row=-(i.row-18));r.column<0&&(u.column=-r.column);c.column>15&&(u.column=-(c.column-15));r.row+=u.row,r.column+=u.column,yt(n,r,e,{chartletRows:4,chartletColumns:5})}(t,n,e),xt(n,e),It(n,e)):o<28&&(!function(t,n,{regionBottomChartletPosition:e}){let{row:o,column:l}=at(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-3},c={row:o-1,column:l+4},i={row:o+1,column:l-3},u={row:o+1,column:l+4},s={row:0,column:0};r.row<19&&(s.row=-(r.row-19));i.row>27&&(s.row=-(i.row-27));r.column<0&&(s.column=-r.column);c.column>15&&(s.column=-(c.column-15));r.row+=s.row,r.column+=s.column,u.row+=s.row,u.column+=s.column,u.column>11&&u.row>24&&(l<=11&&o<=24?(r.row+=24-u.row,r.column+=11-u.column):l<=11&&o>24?r.column+=11-u.column:l>11&&o<=24&&(r.row+=24-u.row));i.column<3&&i.row>21&&(l>=3&&o<=21?(r.row+=21-i.row,r.column+=3-i.column):l>=3&&o>21?r.column+=3-i.column:l<3&&o<=21&&(r.row+=21-i.row));yt(n,r,e,{chartletRows:3,chartletColumns:8})}(t,n,e),xt(n,e),kt(n,e))}function yt(t,n,e,{chartletRows:o,chartletColumns:l}){const{row:r,column:c}=n;e.top=r*pt+"px",e.left=c*pt+"px";for(let n=r;n<r+o;n++)for(let e=c;e<c+l;e++)t[n][e]=ut({...t[n][e],chartleted:!0})}function xt(t,{regionTopChartletPosition:n}){const e=st(0,8),o=st(0,9);n.top=e*pt+"px",n.left=o*pt+"px";for(let n=e;n<e+3;n++)for(let e=o;e<o+6;e++)t[n][e]=ut({...t[n][e],chartleted:!0})}function kt(t,{regionMiddleChartletPosition:n}){const e=st(10,16),o=st(0,12);n.top=e*pt+"px",n.left=o*pt+"px";for(let n=e;n<e+4;n++)for(let e=o;e<o+5;e++)t[n][e]=ut({...t[n][e],chartleted:!0})}function It(t,{regionBottomChartletPosition:n}){const e=st(19,26),o=st(3,5);n.top=e*pt+"px",n.left=o*pt+"px";for(let n=e;n<e+3;n++)for(let e=o;e<o+8;e++)t[n][e]=ut({...t[n][e],chartleted:!0})}const Mt=["0/14","0/15","1/14","1/15"];const _t=["22/0","22/1","22/2","23/0","23/1","23/2","24/0","24/1","24/2","25/0","25/1","25/2","26/0","26/1","26/2","27/0","27/1","27/2"];const jt=["25/12","25/13","25/14","25/15","26/12","26/13","26/14","26/15","27/12","27/13","27/14","27/15"];function Et(t,n,{forceUpdateBoard:e,boardConfig:o,loss:l}){if(!(t.opened||t.disabled||t.flagged))if(t.mined)l();else{if(n[t.row][t.column].opened=t.opened=!0,!t.neighborMineCount){const r=ft(t.id,o);for(let t=0;t<r.length;t++){const{row:c,column:i}=at(r[t]),u=n[c][i];void 0===u||u.opened||u.disabled||Et(u,n,{forceUpdateBoard:e,boardConfig:o,loss:l})}}e()}}function Ot(t,n,e){const o=t.slice();return o[27]=n[e],o}function Bt(t,n,e){const o=t.slice();return o[30]=n[e],o}function Rt(t,n,e){const o=t.slice();return o[27]=n[e],o}function Pt(t,n,e){const o=t.slice();return o[30]=n[e],o}function qt(t,n,e){const o=t.slice();return o[27]=n[e],o}function Nt(t,n,e){const o=t.slice();return o[30]=n[e],o}function Tt(t,e){let o,l,r;const c=[{gameOver:e[6]},{currentCell:e[2]},e[30]];let i={};for(let t=0;t<c.length;t+=1)i=n(i,c[t]);return l=new et({props:i}),l.$on("click",e[10]),{key:t,first:null,c(){o=p(),W(l.$$.fragment),this.first=o},m(t,n){s(t,o,n),D(l,t,n),r=!0},p(t,n){e=t;const o=76&n[0]?G(c,[64&n[0]&&{gameOver:e[6]},4&n[0]&&{currentCell:e[2]},8&n[0]&&V(e[30])]):{};l.$set(o)},i(t){r||(U(l.$$.fragment,t),r=!0)},o(t){S(l.$$.fragment,t),r=!1},d(t){t&&a(o),H(l,t)}}}function zt(t){let n,e,o,l=[],r=new Map,c=t[27];const i=t=>t[30].id;for(let n=0;n<c.length;n+=1){let e=Nt(t,c,n),o=i(e);r.set(o,l[n]=Tt(o,e))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();n=g(),e=d("br")},m(t,r){for(let n=0;n<l.length;n+=1)l[n].m(t,r);s(t,n,r),s(t,e,r),o=!0},p(t,e){1100&e[0]&&(c=t[27],z(),l=F(l,e,i,1,t,c,r,n.parentNode,L,Tt,n,Nt),A())},i(t){if(!o){for(let t=0;t<c.length;t+=1)U(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)S(l[t]);o=!1},d(t){for(let n=0;n<l.length;n+=1)l[n].d(t);t&&a(n),t&&a(e)}}}function At(t,e){let o,l,r;const c=[{gameOver:e[6]},{currentCell:e[2]},e[30]];let i={};for(let t=0;t<c.length;t+=1)i=n(i,c[t]);return l=new et({props:i}),l.$on("click",e[11]),{key:t,first:null,c(){o=p(),W(l.$$.fragment),this.first=o},m(t,n){s(t,o,n),D(l,t,n),r=!0},p(t,n){e=t;const o=84&n[0]?G(c,[64&n[0]&&{gameOver:e[6]},4&n[0]&&{currentCell:e[2]},16&n[0]&&V(e[30])]):{};l.$set(o)},i(t){r||(U(l.$$.fragment,t),r=!0)},o(t){S(l.$$.fragment,t),r=!1},d(t){t&&a(o),H(l,t)}}}function Ut(t){let n,e,o,l=[],r=new Map,c=t[27];const i=t=>t[30].id;for(let n=0;n<c.length;n+=1){let e=Pt(t,c,n),o=i(e);r.set(o,l[n]=At(o,e))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();n=g(),e=d("br")},m(t,r){for(let n=0;n<l.length;n+=1)l[n].m(t,r);s(t,n,r),s(t,e,r),o=!0},p(t,e){2132&e[0]&&(c=t[27],z(),l=F(l,e,i,1,t,c,r,n.parentNode,L,At,n,Pt),A())},i(t){if(!o){for(let t=0;t<c.length;t+=1)U(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)S(l[t]);o=!1},d(t){for(let n=0;n<l.length;n+=1)l[n].d(t);t&&a(n),t&&a(e)}}}function St(t,e){let o,l,r;const c=[{gameOver:e[6]},{currentCell:e[2]},e[30]];let i={};for(let t=0;t<c.length;t+=1)i=n(i,c[t]);return l=new et({props:i}),l.$on("click",e[12]),{key:t,first:null,c(){o=p(),W(l.$$.fragment),this.first=o},m(t,n){s(t,o,n),D(l,t,n),r=!0},p(t,n){e=t;const o=100&n[0]?G(c,[64&n[0]&&{gameOver:e[6]},4&n[0]&&{currentCell:e[2]},32&n[0]&&V(e[30])]):{};l.$set(o)},i(t){r||(U(l.$$.fragment,t),r=!0)},o(t){S(l.$$.fragment,t),r=!1},d(t){t&&a(o),H(l,t)}}}function Lt(t){let n,e,o,l=[],r=new Map,c=t[27];const i=t=>t[30].id;for(let n=0;n<c.length;n+=1){let e=Bt(t,c,n),o=i(e);r.set(o,l[n]=St(o,e))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();n=g(),e=d("br")},m(t,r){for(let n=0;n<l.length;n+=1)l[n].m(t,r);s(t,n,r),s(t,e,r),o=!0},p(t,e){4196&e[0]&&(c=t[27],z(),l=F(l,e,i,1,t,c,r,n.parentNode,L,St,n,Bt),A())},i(t){if(!o){for(let t=0;t<c.length;t+=1)U(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)S(l[t]);o=!1},d(t){for(let n=0;n<l.length;n+=1)l[n].d(t);t&&a(n),t&&a(e)}}}function Ft(t){let n,e,o,l,r,c,i,m,p,h,$,b,v,C,y,x,k,I,M,_,j,E,O=t[3],B=[];for(let n=0;n<O.length;n+=1)B[n]=zt(qt(t,O,n));const R=t=>S(B[t],1,1,(()=>{B[t]=null}));let P=t[4],q=[];for(let n=0;n<P.length;n+=1)q[n]=Ut(Rt(t,P,n));const N=t=>S(q[t],1,1,(()=>{q[t]=null}));let T=t[5],L=[];for(let n=0;n<T.length;n+=1)L[n]=Lt(Ot(t,T,n));const F=t=>S(L[t],1,1,(()=>{L[t]=null}));return j=new ct({props:{mineCount:t[0],flagCount:t[1]}}),j.$on("open",t[13]),j.$on("flag",t[14]),j.$on("zoom",Gt),j.$on("restart",t[15]),j.$on("next",Vt),{c(){n=d("div"),e=d("div"),o=d("div"),r=g(),c=d("div"),m=g(),p=d("div"),$=g(),b=d("div"),v=g(),C=d("div"),y=g(),x=d("div"),k=g();for(let t=0;t<B.length;t+=1)B[t].c();I=g();for(let t=0;t<q.length;t+=1)q[t].c();M=g();for(let t=0;t<L.length;t+=1)L[t].c();_=g(),W(j.$$.fragment),w(o,"class","chartlet top svelte-1qj2cn4"),w(o,"style",l=`background-image: url(./images/chartlettop${st(1,6)}.png);top: ${t[7].top};left: ${t[7].left}`),w(c,"class","chartlet middle svelte-1qj2cn4"),w(c,"style",i=`background-image: url(./images/chartletmiddle${st(1,6)}.png);top: ${t[8].top};left: ${t[8].left}`),w(p,"class","chartlet bottom svelte-1qj2cn4"),w(p,"style",h=`background-image: url(./images/chartletbottom${st(1,6)}.png);top: ${t[9].top};left: ${t[9].left}`),w(b,"class","layer number22 svelte-1qj2cn4"),w(C,"class","layer infos svelte-1qj2cn4"),w(x,"class","layer logo svelte-1qj2cn4"),w(e,"class","board svelte-1qj2cn4"),w(n,"class","container svelte-1qj2cn4"),w(n,"style",`background-image: url(./images/bg${st(1,6)}.png);`)},m(t,l){s(t,n,l),u(n,e),u(e,o),u(e,r),u(e,c),u(e,m),u(e,p),u(e,$),u(e,b),u(e,v),u(e,C),u(e,y),u(e,x),u(e,k);for(let t=0;t<B.length;t+=1)B[t].m(e,null);u(e,I);for(let t=0;t<q.length;t+=1)q[t].m(e,null);u(e,M);for(let t=0;t<L.length;t+=1)L[t].m(e,null);u(e,_),D(j,e,null),E=!0},p(t,n){if((!E||128&n[0]&&l!==(l=`background-image: url(./images/chartlettop${st(1,6)}.png);top: ${t[7].top};left: ${t[7].left}`))&&w(o,"style",l),(!E||256&n[0]&&i!==(i=`background-image: url(./images/chartletmiddle${st(1,6)}.png);top: ${t[8].top};left: ${t[8].left}`))&&w(c,"style",i),(!E||512&n[0]&&h!==(h=`background-image: url(./images/chartletbottom${st(1,6)}.png);top: ${t[9].top};left: ${t[9].left}`))&&w(p,"style",h),1100&n[0]){let o;for(O=t[3],o=0;o<O.length;o+=1){const l=qt(t,O,o);B[o]?(B[o].p(l,n),U(B[o],1)):(B[o]=zt(l),B[o].c(),U(B[o],1),B[o].m(e,I))}for(z(),o=O.length;o<B.length;o+=1)R(o);A()}if(2132&n[0]){let o;for(P=t[4],o=0;o<P.length;o+=1){const l=Rt(t,P,o);q[o]?(q[o].p(l,n),U(q[o],1)):(q[o]=Ut(l),q[o].c(),U(q[o],1),q[o].m(e,M))}for(z(),o=P.length;o<q.length;o+=1)N(o);A()}if(4196&n[0]){let o;for(T=t[5],o=0;o<T.length;o+=1){const l=Ot(t,T,o);L[o]?(L[o].p(l,n),U(L[o],1)):(L[o]=Lt(l),L[o].c(),U(L[o],1),L[o].m(e,_))}for(z(),o=T.length;o<L.length;o+=1)F(o);A()}const r={};1&n[0]&&(r.mineCount=t[0]),2&n[0]&&(r.flagCount=t[1]),j.$set(r)},i(t){if(!E){for(let t=0;t<O.length;t+=1)U(B[t]);for(let t=0;t<P.length;t+=1)U(q[t]);for(let t=0;t<T.length;t+=1)U(L[t]);U(j.$$.fragment,t),E=!0}},o(t){B=B.filter(Boolean);for(let t=0;t<B.length;t+=1)S(B[t]);q=q.filter(Boolean);for(let t=0;t<q.length;t+=1)S(q[t]);L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)S(L[t]);S(j.$$.fragment,t),E=!1},d(t){t&&a(n),f(B,t),f(q,t),f(L,t),H(j)}}}function Gt(t){console.log("zoom")}function Vt(t){console.log("next")}function Wt(t,n,e){let o,l,r,c,i,u,s,a,f,d,m,g=1;try{g=window.screen.width<1080?window.screen.width/1080:1}catch(t){}function p(){return[...c,...i,...u]}function h(){e(3,c),e(4,i),e(5,u)}function w(t){a||t.disabled||t.opened||(r&&r.id===t.id?e(2,r=null):e(2,r=t))}function $(){e(6,a=!0),alert("GAME OVER!")}function b(t){e(1,l+=t?1:-1)}function v(){const t=p(),n=[];for(let e=0;e<t.length;e++)for(let o=0;o<t[e].length;o++){const l=t[e][o];l.opened||n.push(l)}let o=!0;n.forEach((t=>{t.mined||t.disabled||(o=!1)}));let l=!0;return n.forEach((t=>{(t.flagged&&!t.mined||!t.flagged&&t.mined)&&(l=!1)})),(o||l)&&(e(6,a=!0),alert("WIN!")),o||l}function C(){e(0,o=ht.mineCount),e(1,l=0),e(3,c=mt({...wt,mineCount:0})),e(4,i=mt({...$t,mineCount:0})),e(5,u=mt({...bt,mineCount:0})),s=!0,e(6,a=!1),e(2,r=null),e(7,f={top:0,left:"-780px"}),e(8,d={top:0,left:"-780px"}),e(9,m={top:0,left:"-780px"}),function(t){for(let n=0;n<Mt.length;n++){const{row:e,column:o}=at(Mt[n]);t[e][o]=ut({...t[e][o],disabled:!0})}}(p()),function(t){for(let n=0;n<_t.length;n++){const{row:e,column:o}=at(_t[n]);t[e][o]=ut({...t[e][o],disabled:!0})}}(p()),function(t){for(let n=0;n<jt.length;n++){const{row:e,column:o}=at(jt[n]);t[e][o]=ut({...t[e][o],disabled:!0})}}(p()),h()}return y((()=>{console.log("app",p())})),C(),setTimeout((()=>{let t=new Image;t.src="./images/bg1.png";let n=new Image;n.src="./images/bg2.png";let e=new Image;e.src="./images/bg3.png";let o=new Image;o.src="./images/bg4.png";let l=new Image;l.src="./images/bg5.png";let r=new Image;r.src="./images/chartletbottom1.png";let c=new Image;c.src="./images/chartletbottom2.png";let i=new Image;i.src="./images/chartletbottom3.png";let u=new Image;u.src="./images/chartletbottom4.png";let s=new Image;s.src="./images/chartletbottom5.png";let a=new Image;a.src="./images/chartlettop1.png";let f=new Image;f.src="./images/chartlettop2.png";let d=new Image;d.src="./images/chartlettop3.png";let m=new Image;m.src="./images/chartlettop4.png";let g=new Image;g.src="./images/chartlettop5.png";let p=new Image;p.src="./images/chartletmiddle1.png";let h=new Image;h.src="./images/chartletmiddle2.png";let w=new Image;w.src="./images/chartletmiddle3.png";let $=new Image;$.src="./images/chartletmiddle4.png";let b=new Image;b.src="./images/chartletmiddle5.png",setTimeout((()=>{t=null,n=null,e=null,o=null,l=null,r=null,c=null,i=null,u=null,s=null,a=null,f=null,d=null,m=null,g=null,p=null,h=null,w=null,$=null,b=null}),3e3)}),0),[o,l,r,c,i,u,a,f,d,m,function(t){const{detail:n}=t;w(n)},function(t){const{detail:n}=t;w(n)},function(t){const{detail:n}=t;w(n)},function(t){a||r&&(s&&(s=!1,Ct(r,p(),{regionTopChartletPosition:f,regionMiddleChartletPosition:d,regionBottomChartletPosition:m}),e(7,f),e(8,d),e(9,m),function(t,n){const{rows:e,columns:o,mineCount:l,startRow:r}=n,c=[];for(let r=0;r<l;r++){let l=st(0,e),r=st(0,o),i=it(l,r),u=t[l][r];for(;c.includes(i)||u.disabled||u.chartleted||dt(u,t,n);)l=st(0,e),r=st(0,o),i=it(l,r),u=t[l][r];c.push(i),t[l][r].mined=!0}}(p(),ht),function(t,n){const{rows:e,columns:o}=n;let l,r=0;for(let c=0;c<e;c++)for(let e=0;e<o;e++){const o=it(c,e);if(l=t[c][e],l.neighborMineCount=0,!l.mined){const e=ft(o,n);r=0;for(let n=0;n<e.length;n++)r+=vt(t,e[n]);l.neighborMineCount=r}}}(p(),ht),h()),Et(r,p(),{forceUpdateBoard:h,boardConfig:ht,loss:$}),v())},function(t){if(!a&&r){if(!r.flagged&&l>=o)return;!function(t,n,{forceUpdateBoard:e,boardConfig:o,flagged:l}){t.opened||t.disabled||(n[t.row][t.column].flagged=t.flagged=!t.flagged,console.log("cell",t,n),l(t.flagged),e())}(r,p(),{forceUpdateBoard:h,boardConfig:ht,flagged:b}),v()}},function(t){C()}]}return new class extends Q{constructor(t){super(),K(this,t,Wt,Ft,c,{},null,[-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
