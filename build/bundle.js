var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function i(t){const n={};for(const e in t)"$"!==e[0]&&(n[e]=t[e]);return n}function u(t){return null==t?"":t}function s(t,n){t.appendChild(n)}function a(t,n,e){t.insertBefore(n,e||null)}function f(t){t.parentNode.removeChild(t)}function m(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function g(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function h(){return d("")}function w(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function b(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let C;function v(t){C=t}function y(){if(!C)throw new Error("Function called outside component initialization");return C}function x(t){y().$$.before_update.push(t)}function k(){const t=y();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const l=function(t,n,e=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,e,!1,n),o}(n,e);o.slice().forEach((n=>{n.call(t,l)}))}}}const I=[],M=[],_=[],j=[],E=Promise.resolve();let O=!1;function B(t){_.push(t)}let R=!1;const P=new Set;function q(){if(!R){R=!0;do{for(let t=0;t<I.length;t+=1){const n=I[t];v(n),N(n.$$)}for(v(null),I.length=0;M.length;)M.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];P.has(n)||(P.add(n),n())}_.length=0}while(I.length);for(;j.length;)j.pop()();O=!1,R=!1,P.clear()}}function N(t){if(null!==t.fragment){t.update(),l(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(B)}}const T=new Set;let A;function U(){A={r:0,c:[],p:A}}function S(){A.r||l(A.c),A=A.p}function z(t,n){t&&t.i&&(T.delete(t),t.i(n))}function L(t,n,e,o){if(t&&t.o){if(T.has(t))return;T.add(t),A.c.push((()=>{T.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function F(t,n){L(t,1,1,(()=>{n.delete(t.key)}))}function G(t,n,e,o,l,r,c,i,u,s,a,f){let m=t.length,g=r.length,d=m;const p={};for(;d--;)p[t[d].key]=d;const h=[],w=new Map,$=new Map;for(d=g;d--;){const t=f(l,r,d),i=e(t);let u=c.get(i);u?o&&u.p(t,n):(u=s(i,t),u.c()),w.set(i,h[d]=u),i in p&&$.set(i,Math.abs(d-p[i]))}const b=new Set,C=new Set;function v(t){z(t,1),t.m(i,a),c.set(t.key,t),a=t.first,g--}for(;m&&g;){const n=h[g-1],e=t[m-1],o=n.key,l=e.key;n===e?(a=n.first,m--,g--):w.has(l)?!c.has(o)||b.has(o)?v(n):C.has(l)?m--:$.get(o)>$.get(l)?(C.add(o),v(n)):(b.add(l),m--):(u(e,c),m--)}for(;m--;){const n=t[m];w.has(n.key)||u(n,c)}for(;g;)v(h[g-1]);return h}function V(t,n){const e={},o={},l={$$scope:1};let r=t.length;for(;r--;){const c=t[r],i=n[r];if(i){for(const t in c)t in i||(o[t]=1);for(const t in i)l[t]||(e[t]=i[t],l[t]=1);t[r]=i}else for(const t in c)l[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}function W(t){return"object"==typeof t&&null!==t?t:{}}function D(t){t&&t.c()}function H(t,n,o,c){const{fragment:i,on_mount:u,on_destroy:s,after_update:a}=t.$$;i&&i.m(n,o),c||B((()=>{const n=u.map(e).filter(r);s?s.push(...n):l(n),t.$$.on_mount=[]})),a.forEach(B)}function J(t,n){const e=t.$$;null!==e.fragment&&(l(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function K(t,n){-1===t.$$.dirty[0]&&(I.push(t),O||(O=!0,E.then(q)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function Q(n,e,r,c,i,u,s,a=[-1]){const m=C;v(n);const g=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:o(),dirty:a,skip_bound:!1,root:e.target||m.$$.root};s&&s(g.root);let d=!1;if(g.ctx=r?r(n,e.props||{},((t,e,...o)=>{const l=o.length?o[0]:e;return g.ctx&&i(g.ctx[t],g.ctx[t]=l)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](l),d&&K(n,t)),e})):[],g.update(),d=!0,l(g.before_update),g.fragment=!!c&&c(g.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);g.fragment&&g.fragment.l(t),t.forEach(f)}else g.fragment&&g.fragment.c();e.intro&&z(n.$$.fragment),H(n,e.target,e.anchor,e.customElement),q()}v(m)}class X{$destroy(){J(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Y(t){let n,e,o,l=(t[3]||0==t[4]?"":t[4])+"";return{c(){n=g("div"),e=d(l),$(n,"class",o=u(["cell","opened",t[4]&&0!=t[4]?"":"transparent",t[3]?"mined":"",t[6]?"chartleted":""].join(" "))+" svelte-1irbdl7"),$(n,"id",t[0])},m(t,o){a(t,n,o),s(n,e)},p(t,r){24&r&&l!==(l=(t[3]||0==t[4]?"":t[4])+"")&&b(e,l),88&r&&o!==(o=u(["cell","opened",t[4]&&0!=t[4]?"":"transparent",t[3]?"mined":"",t[6]?"chartleted":""].join(" "))+" svelte-1irbdl7")&&$(n,"class",o),1&r&&$(n,"id",t[0])},d(t){t&&f(n)}}}function Z(t){let n,e,o,l;return{c(){n=g("div"),$(n,"class",e=u(["cell",t[8]?"selected":"",t[2]?"flagged":""].join(" "))+" svelte-1irbdl7"),$(n,"id",t[0])},m(e,r){a(e,n,r),o||(l=w(n,"click",t[9]),o=!0)},p(t,o){260&o&&e!==(e=u(["cell",t[8]?"selected":"",t[2]?"flagged":""].join(" "))+" svelte-1irbdl7")&&$(n,"class",e),1&o&&$(n,"id",t[0])},d(t){t&&f(n),o=!1,l()}}}function tt(t){let n;return{c(){n=g("div"),$(n,"class",u(["cell"].join(" "))+" svelte-1irbdl7"),$(n,"id",t[0])},m(t,e){a(t,n,e)},p(t,e){1&e&&$(n,"id",t[0])},d(t){t&&f(n)}}}function nt(n){let e;function o(t,n){return t[5]?tt:t[1]||t[7]&&t[3]||t[7]&&t[6]?Y:Z}let l=o(n),r=l(n);return{c(){r.c(),e=h()},m(t,n){r.m(t,n),a(t,e,n)},p(t,[n]){l===(l=o(t))&&r?r.p(t,n):(r.d(1),r=l(t),r&&(r.c(),r.m(e.parentNode,e)))},i:t,o:t,d(t){r.d(t),t&&f(e)}}}function et(t,n,e){let{id:o}=n,{row:l}=n,{column:r}=n,{opened:c}=n,{flagged:i}=n,{mined:u}=n,{neighborMineCount:s}=n,{disabled:a}=n,{chartleted:f}=n,{gameOver:m}=n,{currentCell:g}=n;const d=k();let p=g&&g.id===o;return x((()=>{e(8,p=g&&g.id===o)})),t.$$set=t=>{"id"in t&&e(0,o=t.id),"row"in t&&e(10,l=t.row),"column"in t&&e(11,r=t.column),"opened"in t&&e(1,c=t.opened),"flagged"in t&&e(2,i=t.flagged),"mined"in t&&e(3,u=t.mined),"neighborMineCount"in t&&e(4,s=t.neighborMineCount),"disabled"in t&&e(5,a=t.disabled),"chartleted"in t&&e(6,f=t.chartleted),"gameOver"in t&&e(7,m=t.gameOver),"currentCell"in t&&e(12,g=t.currentCell)},[o,c,i,u,s,a,f,m,p,function(){d("click",{id:o,row:l,column:r,opened:c,flagged:i,mined:u,neighborMineCount:s,disabled:a,chartleted:f})},l,r,g]}class ot extends X{constructor(t){super(),Q(this,t,et,nt,c,{id:0,row:10,column:11,opened:1,flagged:2,mined:3,neighborMineCount:4,disabled:5,chartleted:6,gameOver:7,currentCell:12})}}function lt(n){let e,o,r,c,i,u,m,h,C,v,y,x,k,I=rt(n[0]-n[1])+"";return{c(){e=g("div"),o=g("div"),r=d(I),c=p(),i=g("div"),u=p(),m=g("div"),h=p(),C=g("div"),v=p(),y=g("div"),$(o,"class","minecount svelte-1tcey3x"),$(i,"class","open svelte-1tcey3x"),$(m,"class","flag svelte-1tcey3x"),$(C,"class","restart svelte-1tcey3x"),$(y,"class","next svelte-1tcey3x"),$(e,"class","button-group svelte-1tcey3x")},m(t,l){a(t,e,l),s(e,o),s(o,r),s(e,c),s(e,i),s(e,u),s(e,m),s(e,h),s(e,C),s(e,v),s(e,y),x||(k=[w(i,"click",n[2]),w(m,"click",n[3]),w(C,"click",n[4]),w(y,"click",n[5])],x=!0)},p(t,[n]){3&n&&I!==(I=rt(t[0]-t[1])+"")&&b(r,I)},i:t,o:t,d(t){t&&f(e),x=!1,l(k)}}}function rt(t){return("000"+t).slice(-3)}function ct(t,n,e){let{mineCount:o}=n,{flagCount:l}=n;const r=k();return t.$$set=t=>{"mineCount"in t&&e(0,o=t.mineCount),"flagCount"in t&&e(1,l=t.flagCount)},[o,l,function(){r("open")},function(){r("flag")},function(){r("restart")},function(){r("next")}]}class it extends X{constructor(t){super(),Q(this,t,ct,lt,c,{mineCount:0,flagCount:1})}}function ut(t,n){return`${t}/${n}`}function st({row:t,column:n,...e}){return{id:ut(t,n),row:t,column:n,...e}}function at(t,n){return Math.floor(Math.random()*(n-t))+t}function ft(t){const[n,e]=t.split("/");return{row:n,column:e}}function mt(t,n){let{row:e,column:o}=ft(t);e=parseInt(e),o=parseInt(o);const l=[];l.push(ut(e-1,o-1)),l.push(ut(e-1,o)),l.push(ut(e-1,o+1)),l.push(ut(e,o-1)),l.push(ut(e,o+1)),l.push(ut(e+1,o-1)),l.push(ut(e+1,o)),l.push(ut(e+1,o+1));const{rows:r,columns:c}=n;for(let t=0;t<l.length;t++){let{row:n,column:e}=ft(l[t]);(n<0||e<0||n>=r||e>=c)&&(l.splice(t,1),t--)}return l}function gt(t,n,e){const o=mt(t.id,e);for(let t=0;t<o.length;t++){const{row:e,column:l}=ft(o[t]),r=n[e][l];if(void 0!==r&&r.chartleted)return!0}return!1}function dt(t){const{rows:n,columns:e,startRow:o,mineCount:l}=t;let r=[];for(let t=0;t<n;t++)for(let n=0;n<e;n++)r[t]=r[t]||[],r[t][n]=st({row:o+t,column:n,opened:!1,flagged:!1,mined:!1,neighborMineCount:0,disabled:!1,chartleted:!1});return r}const pt=10,ht=65,wt={startRow:0,rows:28,columns:16,mineCount:32},$t={startRow:0,rows:pt,columns:16,mineCount:12},bt={startRow:pt,rows:9,columns:16,mineCount:10},Ct={startRow:19,rows:9,columns:16,mineCount:10};function vt(t,n){const{row:e,column:o}=ft(n),l=t[e][o];let r=0;return void 0!==l&&(r=l.mined?1:0),r}function yt(t,n,e){const{row:o,column:l}=ft(t.id);o<pt?(!function(t,n,{regionTopChartletPosition:e}){let{row:o,column:l}=ft(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+3},i={row:o+1,column:l-2},u={row:0,column:0};r.row<0&&(u.row=-r.row);i.row>9&&(u.row=-(i.row-9));r.column<0&&(u.column=-r.column);c.column>15&&(u.column=-(c.column-15));r.row+=u.row,r.column+=u.column,c.row+=u.row,c.column+=u.column,c.column>13&&c.row<2&&(l<=13&&o>=2?(r.row+=2-c.row,r.column+=13-c.column):l<=13&&o<2?r.column+=13-c.column:l>13&&o>=2&&(r.row+=2-c.row));xt(n,r,e,{chartletRows:3,chartletColumns:6})}(t,n,e),It(n,e),Mt(n,e)):o<19?(!function(t,n,{regionMiddleChartletPosition:e}){let{row:o,column:l}=ft(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+2},i={row:o+2,column:l-2},u={row:0,column:0};r.row<10&&(u.row=-(r.row-10));i.row>18&&(u.row=-(i.row-18));r.column<0&&(u.column=-r.column);c.column>15&&(u.column=-(c.column-15));r.row+=u.row,r.column+=u.column,xt(n,r,e,{chartletRows:4,chartletColumns:5})}(t,n,e),kt(n,e),Mt(n,e)):o<28&&(!function(t,n,{regionBottomChartletPosition:e}){let{row:o,column:l}=ft(t.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-3},c={row:o-1,column:l+4},i={row:o+1,column:l-3},u={row:o+1,column:l+4},s={row:0,column:0};r.row<19&&(s.row=-(r.row-19));i.row>27&&(s.row=-(i.row-27));r.column<0&&(s.column=-r.column);c.column>15&&(s.column=-(c.column-15));r.row+=s.row,r.column+=s.column,u.row+=s.row,u.column+=s.column,u.column>11&&u.row>24&&(l<=11&&o<=24?(r.row+=24-u.row,r.column+=11-u.column):l<=11&&o>24?r.column+=11-u.column:l>11&&o<=24&&(r.row+=24-u.row));i.column<3&&i.row>21&&(l>=3&&o<=21?(r.row+=21-i.row,r.column+=3-i.column):l>=3&&o>21?r.column+=3-i.column:l<3&&o<=21&&(r.row+=21-i.row));xt(n,r,e,{chartletRows:3,chartletColumns:8})}(t,n,e),kt(n,e),It(n,e))}function xt(t,n,e,{chartletRows:o,chartletColumns:l}){const{row:r,column:c}=n;e.top=r*ht+"px",e.left=c*ht+"px";for(let n=r;n<r+o;n++)for(let e=c;e<c+l;e++)t[n][e]=st({...t[n][e],chartleted:!0})}function kt(t,{regionTopChartletPosition:n}){const e=at(0,8),o=at(0,9);n.top=e*ht+"px",n.left=o*ht+"px";for(let n=e;n<e+3;n++)for(let e=o;e<o+6;e++)t[n][e]=st({...t[n][e],chartleted:!0})}function It(t,{regionMiddleChartletPosition:n}){const e=at(10,16),o=at(0,12);n.top=e*ht+"px",n.left=o*ht+"px";for(let n=e;n<e+4;n++)for(let e=o;e<o+5;e++)t[n][e]=st({...t[n][e],chartleted:!0})}function Mt(t,{regionBottomChartletPosition:n}){const e=at(19,26),o=at(3,5);n.top=e*ht+"px",n.left=o*ht+"px";for(let n=e;n<e+3;n++)for(let e=o;e<o+8;e++)t[n][e]=st({...t[n][e],chartleted:!0})}const _t=["0/14","0/15","1/14","1/15"];const jt=["22/0","22/1","22/2","23/0","23/1","23/2","24/0","24/1","24/2","25/0","25/1","25/2","26/0","26/1","26/2","27/0","27/1","27/2"];const Et=["25/12","25/13","25/14","25/15","26/12","26/13","26/14","26/15","27/12","27/13","27/14","27/15"];function Ot(t,n,{forceUpdateBoard:e,boardConfig:o,loss:l}){if(!(t.opened||t.disabled||t.flagged))if(t.mined)l();else{if(n[t.row][t.column].opened=t.opened=!0,!t.neighborMineCount){const r=mt(t.id,o);for(let t=0;t<r.length;t++){const{row:c,column:i}=ft(r[t]),u=n[c][i];void 0===u||u.opened||u.disabled||Ot(u,n,{forceUpdateBoard:e,boardConfig:o,loss:l})}}e()}}function Bt(t,n,e){const o=t.slice();return o[28]=n[e],o}function Rt(t,n,e){const o=t.slice();return o[31]=n[e],o}function Pt(t,n,e){const o=t.slice();return o[28]=n[e],o}function qt(t,n,e){const o=t.slice();return o[31]=n[e],o}function Nt(t,n,e){const o=t.slice();return o[28]=n[e],o}function Tt(t,n,e){const o=t.slice();return o[31]=n[e],o}function At(t,e){let o,l,r;const c=[{gameOver:e[7]},{currentCell:e[3]},e[31]];let i={};for(let t=0;t<c.length;t+=1)i=n(i,c[t]);return l=new ot({props:i}),l.$on("click",e[11]),{key:t,first:null,c(){o=h(),D(l.$$.fragment),this.first=o},m(t,n){a(t,o,n),H(l,t,n),r=!0},p(t,n){e=t;const o=152&n[0]?V(c,[128&n[0]&&{gameOver:e[7]},8&n[0]&&{currentCell:e[3]},16&n[0]&&W(e[31])]):{};l.$set(o)},i(t){r||(z(l.$$.fragment,t),r=!0)},o(t){L(l.$$.fragment,t),r=!1},d(t){t&&f(o),J(l,t)}}}function Ut(t){let n,e,o,l=[],r=new Map,c=t[28];const i=t=>t[31].id;for(let n=0;n<c.length;n+=1){let e=Tt(t,c,n),o=i(e);r.set(o,l[n]=At(o,e))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();n=p(),e=g("br")},m(t,r){for(let n=0;n<l.length;n+=1)l[n].m(t,r);a(t,n,r),a(t,e,r),o=!0},p(t,e){2200&e[0]&&(c=t[28],U(),l=G(l,e,i,1,t,c,r,n.parentNode,F,At,n,Tt),S())},i(t){if(!o){for(let t=0;t<c.length;t+=1)z(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)L(l[t]);o=!1},d(t){for(let n=0;n<l.length;n+=1)l[n].d(t);t&&f(n),t&&f(e)}}}function St(t,e){let o,l,r;const c=[{gameOver:e[7]},{currentCell:e[3]},e[31]];let i={};for(let t=0;t<c.length;t+=1)i=n(i,c[t]);return l=new ot({props:i}),l.$on("click",e[12]),{key:t,first:null,c(){o=h(),D(l.$$.fragment),this.first=o},m(t,n){a(t,o,n),H(l,t,n),r=!0},p(t,n){e=t;const o=168&n[0]?V(c,[128&n[0]&&{gameOver:e[7]},8&n[0]&&{currentCell:e[3]},32&n[0]&&W(e[31])]):{};l.$set(o)},i(t){r||(z(l.$$.fragment,t),r=!0)},o(t){L(l.$$.fragment,t),r=!1},d(t){t&&f(o),J(l,t)}}}function zt(t){let n,e,o,l=[],r=new Map,c=t[28];const i=t=>t[31].id;for(let n=0;n<c.length;n+=1){let e=qt(t,c,n),o=i(e);r.set(o,l[n]=St(o,e))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();n=p(),e=g("br")},m(t,r){for(let n=0;n<l.length;n+=1)l[n].m(t,r);a(t,n,r),a(t,e,r),o=!0},p(t,e){4264&e[0]&&(c=t[28],U(),l=G(l,e,i,1,t,c,r,n.parentNode,F,St,n,qt),S())},i(t){if(!o){for(let t=0;t<c.length;t+=1)z(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)L(l[t]);o=!1},d(t){for(let n=0;n<l.length;n+=1)l[n].d(t);t&&f(n),t&&f(e)}}}function Lt(t,e){let o,l,r;const c=[{gameOver:e[7]},{currentCell:e[3]},e[31]];let i={};for(let t=0;t<c.length;t+=1)i=n(i,c[t]);return l=new ot({props:i}),l.$on("click",e[13]),{key:t,first:null,c(){o=h(),D(l.$$.fragment),this.first=o},m(t,n){a(t,o,n),H(l,t,n),r=!0},p(t,n){e=t;const o=200&n[0]?V(c,[128&n[0]&&{gameOver:e[7]},8&n[0]&&{currentCell:e[3]},64&n[0]&&W(e[31])]):{};l.$set(o)},i(t){r||(z(l.$$.fragment,t),r=!0)},o(t){L(l.$$.fragment,t),r=!1},d(t){t&&f(o),J(l,t)}}}function Ft(t){let n,e,o,l=[],r=new Map,c=t[28];const i=t=>t[31].id;for(let n=0;n<c.length;n+=1){let e=Rt(t,c,n),o=i(e);r.set(o,l[n]=Lt(o,e))}return{c(){for(let t=0;t<l.length;t+=1)l[t].c();n=p(),e=g("br")},m(t,r){for(let n=0;n<l.length;n+=1)l[n].m(t,r);a(t,n,r),a(t,e,r),o=!0},p(t,e){8392&e[0]&&(c=t[28],U(),l=G(l,e,i,1,t,c,r,n.parentNode,F,Lt,n,Rt),S())},i(t){if(!o){for(let t=0;t<c.length;t+=1)z(l[t]);o=!0}},o(t){for(let t=0;t<l.length;t+=1)L(l[t]);o=!1},d(t){for(let n=0;n<l.length;n+=1)l[n].d(t);t&&f(n),t&&f(e)}}}function Gt(t){let n,e,o,l,r,c,i,u,d,h,w,b,C,v,y,x,k,I,M,_,j,E,O,B=t[4],R=[];for(let n=0;n<B.length;n+=1)R[n]=Ut(Nt(t,B,n));const P=t=>L(R[t],1,1,(()=>{R[t]=null}));let q=t[5],N=[];for(let n=0;n<q.length;n+=1)N[n]=zt(Pt(t,q,n));const T=t=>L(N[t],1,1,(()=>{N[t]=null}));let A=t[6],F=[];for(let n=0;n<A.length;n+=1)F[n]=Ft(Bt(t,A,n));const G=t=>L(F[t],1,1,(()=>{F[t]=null}));return j=new it({props:{mineCount:t[0],flagCount:t[2]}}),j.$on("open",t[14]),j.$on("flag",t[15]),j.$on("zoom",Vt),j.$on("restart",t[16]),j.$on("next",Wt),{c(){n=g("div"),e=g("div"),o=g("div"),r=p(),c=g("div"),u=p(),d=g("div"),w=p(),b=g("div"),C=p(),v=g("div"),y=p(),x=g("div"),k=p();for(let t=0;t<R.length;t+=1)R[t].c();I=p();for(let t=0;t<N.length;t+=1)N[t].c();M=p();for(let t=0;t<F.length;t+=1)F[t].c();_=p(),D(j.$$.fragment),$(o,"class","chartlet top svelte-1qj2cn4"),$(o,"style",l=`background-image: url(./images/chartlettop${at(1,6)}.png);top: ${t[8].top};left: ${t[8].left}`),$(c,"class","chartlet middle svelte-1qj2cn4"),$(c,"style",i=`background-image: url(./images/chartletmiddle${at(1,6)}.png);top: ${t[9].top};left: ${t[9].left}`),$(d,"class","chartlet bottom svelte-1qj2cn4"),$(d,"style",h=`background-image: url(./images/chartletbottom${at(1,6)}.png);top: ${t[10].top};left: ${t[10].left}`),$(b,"class","layer number22 svelte-1qj2cn4"),$(v,"class","layer infos svelte-1qj2cn4"),$(x,"class","layer logo svelte-1qj2cn4"),$(e,"class","board svelte-1qj2cn4"),$(n,"class","container svelte-1qj2cn4"),$(n,"style",E=`background-image: url(./images/bg${at(1,6)}.png);${t[1]<1?"margin: 0 auto":""}`)},m(t,l){a(t,n,l),s(n,e),s(e,o),s(e,r),s(e,c),s(e,u),s(e,d),s(e,w),s(e,b),s(e,C),s(e,v),s(e,y),s(e,x),s(e,k);for(let t=0;t<R.length;t+=1)R[t].m(e,null);s(e,I);for(let t=0;t<N.length;t+=1)N[t].m(e,null);s(e,M);for(let t=0;t<F.length;t+=1)F[t].m(e,null);s(e,_),H(j,e,null),O=!0},p(t,r){if((!O||256&r[0]&&l!==(l=`background-image: url(./images/chartlettop${at(1,6)}.png);top: ${t[8].top};left: ${t[8].left}`))&&$(o,"style",l),(!O||512&r[0]&&i!==(i=`background-image: url(./images/chartletmiddle${at(1,6)}.png);top: ${t[9].top};left: ${t[9].left}`))&&$(c,"style",i),(!O||1024&r[0]&&h!==(h=`background-image: url(./images/chartletbottom${at(1,6)}.png);top: ${t[10].top};left: ${t[10].left}`))&&$(d,"style",h),2200&r[0]){let n;for(B=t[4],n=0;n<B.length;n+=1){const o=Nt(t,B,n);R[n]?(R[n].p(o,r),z(R[n],1)):(R[n]=Ut(o),R[n].c(),z(R[n],1),R[n].m(e,I))}for(U(),n=B.length;n<R.length;n+=1)P(n);S()}if(4264&r[0]){let n;for(q=t[5],n=0;n<q.length;n+=1){const o=Pt(t,q,n);N[n]?(N[n].p(o,r),z(N[n],1)):(N[n]=zt(o),N[n].c(),z(N[n],1),N[n].m(e,M))}for(U(),n=q.length;n<N.length;n+=1)T(n);S()}if(8392&r[0]){let n;for(A=t[6],n=0;n<A.length;n+=1){const o=Bt(t,A,n);F[n]?(F[n].p(o,r),z(F[n],1)):(F[n]=Ft(o),F[n].c(),z(F[n],1),F[n].m(e,_))}for(U(),n=A.length;n<F.length;n+=1)G(n);S()}const u={};1&r[0]&&(u.mineCount=t[0]),4&r[0]&&(u.flagCount=t[2]),j.$set(u),(!O||2&r[0]&&E!==(E=`background-image: url(./images/bg${at(1,6)}.png);${t[1]<1?"margin: 0 auto":""}`))&&$(n,"style",E)},i(t){if(!O){for(let t=0;t<B.length;t+=1)z(R[t]);for(let t=0;t<q.length;t+=1)z(N[t]);for(let t=0;t<A.length;t+=1)z(F[t]);z(j.$$.fragment,t),O=!0}},o(t){R=R.filter(Boolean);for(let t=0;t<R.length;t+=1)L(R[t]);N=N.filter(Boolean);for(let t=0;t<N.length;t+=1)L(N[t]);F=F.filter(Boolean);for(let t=0;t<F.length;t+=1)L(F[t]);L(j.$$.fragment,t),O=!1},d(t){t&&f(n),m(R,t),m(N,t),m(F,t),J(j)}}}function Vt(t){console.log("zoom")}function Wt(t){console.log("next")}function Dt(t,e,o){let l=1,{mineCount:r}=e,c=0,u=null,s=[],a=[],f=[],m=!0,g=!1,d={top:0,left:"-780px"},p={top:0,left:"-780px"},h={top:0,left:"-780px"};try{l=window.screen.width<1080?window.screen.width/1080:1}catch(t){}function w(){return[...s,...a,...f]}function $(){o(4,s),o(5,a),o(6,f)}function b(t){g||t.disabled||t.opened||(u&&u.id===t.id?o(3,u=null):o(3,u=t))}function C(){o(7,g=!0),alert("GAME OVER!")}function v(t){o(2,c+=t?1:-1)}function k(){const t=w(),n=[];for(let e=0;e<t.length;e++)for(let o=0;o<t[e].length;o++){const l=t[e][o];l.opened||n.push(l)}let e=!0;n.forEach((t=>{t.mined||t.disabled||(e=!1)}));let l=!0;return n.forEach((t=>{(t.flagged&&!t.mined||!t.flagged&&t.mined)&&(l=!1)})),(e||l)&&(o(7,g=!0),alert("WIN!")),e||l}function I(){o(2,c=0),o(4,s=dt({...$t,mineCount:0})),o(5,a=dt({...bt,mineCount:0})),o(6,f=dt({...Ct,mineCount:0})),m=!0,o(7,g=!1),o(3,u=null),o(8,d={top:0,left:"-780px"}),o(9,p={top:0,left:"-780px"}),o(10,h={top:0,left:"-780px"}),function(t){for(let n=0;n<_t.length;n++){const{row:e,column:o}=ft(_t[n]);t[e][o]=st({...t[e][o],disabled:!0})}}(w()),function(t){for(let n=0;n<jt.length;n++){const{row:e,column:o}=ft(jt[n]);t[e][o]=st({...t[e][o],disabled:!0})}}(w()),function(t){for(let n=0;n<Et.length;n++){const{row:e,column:o}=ft(Et[n]);t[e][o]=st({...t[e][o],disabled:!0})}}(w()),$()}var M;return x((()=>{console.log("app",w())})),M=()=>{console.log("onmount!!",e),I()},y().$$.on_mount.push(M),setTimeout((()=>{let t=new Image;t.src="./images/bg1.png";let n=new Image;n.src="./images/bg2.png";let e=new Image;e.src="./images/bg3.png";let o=new Image;o.src="./images/bg4.png";let l=new Image;l.src="./images/bg5.png";let r=new Image;r.src="./images/chartletbottom1.png";let c=new Image;c.src="./images/chartletbottom2.png";let i=new Image;i.src="./images/chartletbottom3.png";let u=new Image;u.src="./images/chartletbottom4.png";let s=new Image;s.src="./images/chartletbottom5.png";let a=new Image;a.src="./images/chartlettop1.png";let f=new Image;f.src="./images/chartlettop2.png";let m=new Image;m.src="./images/chartlettop3.png";let g=new Image;g.src="./images/chartlettop4.png";let d=new Image;d.src="./images/chartlettop5.png";let p=new Image;p.src="./images/chartletmiddle1.png";let h=new Image;h.src="./images/chartletmiddle2.png";let w=new Image;w.src="./images/chartletmiddle3.png";let $=new Image;$.src="./images/chartletmiddle4.png";let b=new Image;b.src="./images/chartletmiddle5.png",setTimeout((()=>{t=null,n=null,e=null,o=null,l=null,r=null,c=null,i=null,u=null,s=null,a=null,f=null,m=null,g=null,d=null,p=null,h=null,w=null,$=null,b=null}),3e3)}),0),t.$$set=t=>{o(27,e=n(n({},e),i(t))),"mineCount"in t&&o(0,r=t.mineCount)},e=i(e),[r,l,c,u,s,a,f,g,d,p,h,function(t){const{detail:n}=t;b(n)},function(t){const{detail:n}=t;b(n)},function(t){const{detail:n}=t;b(n)},function(t){g||u&&(m&&(m=!1,yt(u,w(),{regionTopChartletPosition:d,regionMiddleChartletPosition:p,regionBottomChartletPosition:h}),o(8,d),o(9,p),o(10,h),function(t,n){const{rows:e,columns:o,mineCount:l,startRow:r}=n,c=[];for(let r=0;r<l;r++){let l=at(0,e),r=at(0,o),i=ut(l,r),u=t[l][r];for(;c.includes(i)||u.disabled||u.chartleted||gt(u,t,n);)l=at(0,e),r=at(0,o),i=ut(l,r),u=t[l][r];c.push(i),t[l][r].mined=!0}}(w(),{...wt,mineCount:r}),function(t,n){const{rows:e,columns:o}=n;let l,r=0;for(let c=0;c<e;c++)for(let e=0;e<o;e++){const o=ut(c,e);if(l=t[c][e],l.neighborMineCount=0,!l.mined){const e=mt(o,n);r=0;for(let n=0;n<e.length;n++)r+=vt(t,e[n]);l.neighborMineCount=r}}}(w(),wt),$()),Ot(u,w(),{forceUpdateBoard:$,boardConfig:wt,loss:C}),k())},function(t){if(!g&&u){if(!u.flagged&&c>=r)return;!function(t,n,{forceUpdateBoard:e,boardConfig:o,flagged:l}){t.opened||t.disabled||(n[t.row][t.column].flagged=t.flagged=!t.flagged,console.log("cell",t,n),l(t.flagged),e())}(u,w(),{forceUpdateBoard:$,boardConfig:wt,flagged:v}),k()}},function(t){I()}]}class Ht extends X{constructor(t){super(),Q(this,t,Dt,Gt,c,{mineCount:0},null,[-1,-1])}}function Jt(n){let e,o,l,r,c,i,u,m,d;return o=new Ht({props:{mineCount:35}}),r=new Ht({props:{mineCount:40}}),i=new Ht({props:{mineCount:45}}),m=new Ht({props:{mineCount:50}}),{c(){e=g("div"),D(o.$$.fragment),l=p(),D(r.$$.fragment),c=p(),D(i.$$.fragment),u=p(),D(m.$$.fragment)},m(t,n){a(t,e,n),H(o,e,null),s(e,l),H(r,e,null),s(e,c),H(i,e,null),s(e,u),H(m,e,null),d=!0},p:t,i(t){d||(z(o.$$.fragment,t),z(r.$$.fragment,t),z(i.$$.fragment,t),z(m.$$.fragment,t),d=!0)},o(t){L(o.$$.fragment,t),L(r.$$.fragment,t),L(i.$$.fragment,t),L(m.$$.fragment,t),d=!1},d(t){t&&f(e),J(o),J(r),J(i),J(m)}}}return new class extends X{constructor(t){super(),Q(this,t,null,Jt,c,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
