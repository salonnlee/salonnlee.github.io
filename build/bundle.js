var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function o(){return Object.create(null)}function l(e){e.forEach(n)}function r(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let i,s;function u(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function a(e){return null==e?"":e}function f(e,t){e.appendChild(t)}function g(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function w(){return h(" ")}function $(){return h("")}function b(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function C(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function k(e){s=e}function y(){if(!s)throw new Error("Function called outside component initialization");return s}function I(e){y().$$.before_update.push(e)}function x(){const e=y();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const l=function(e,t,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,!1,t),o}(t,n);o.slice().forEach((t=>{t.call(e,l)}))}}}const M=[],_=[],E=[],z=[],O=Promise.resolve();let B=!1;function N(e){E.push(e)}let P=!1;const R=new Set;function j(){if(!P){P=!0;do{for(let e=0;e<M.length;e+=1){const t=M[e];k(t),T(t.$$)}for(k(null),M.length=0;_.length;)_.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];R.has(t)||(R.add(t),t())}E.length=0}while(M.length);for(;z.length;)z.pop()();B=!1,P=!1,R.clear()}}function T(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(N)}}const U=new Set;let A;function S(){A={r:0,c:[],p:A}}function L(){A.r||l(A.c),A=A.p}function q(e,t){e&&e.i&&(U.delete(e),e.i(t))}function F(e,t,n,o){if(e&&e.o){if(U.has(e))return;U.add(e),A.c.push((()=>{U.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function D(e,t){F(e,1,1,(()=>{t.delete(e.key)}))}function G(e,t,n,o,l,r,c,i,s,u,a,f){let g=e.length,m=r.length,d=g;const p={};for(;d--;)p[e[d].key]=d;const h=[],w=new Map,$=new Map;for(d=m;d--;){const e=f(l,r,d),i=n(e);let s=c.get(i);s?o&&s.p(e,t):(s=u(i,e),s.c()),w.set(i,h[d]=s),i in p&&$.set(i,Math.abs(d-p[i]))}const b=new Set,v=new Set;function C(e){q(e,1),e.m(i,a),c.set(e.key,e),a=e.first,m--}for(;g&&m;){const t=h[m-1],n=e[g-1],o=t.key,l=n.key;t===n?(a=t.first,g--,m--):w.has(l)?!c.has(o)||b.has(o)?C(t):v.has(l)?g--:$.get(o)>$.get(l)?(v.add(o),C(t)):(b.add(l),g--):(s(n,c),g--)}for(;g--;){const t=e[g];w.has(t.key)||s(t,c)}for(;m;)C(h[m-1]);return h}function H(e,t){const n={},o={},l={$$scope:1};let r=e.length;for(;r--;){const c=e[r],i=t[r];if(i){for(const e in c)e in i||(o[e]=1);for(const e in i)l[e]||(n[e]=i[e],l[e]=1);e[r]=i}else for(const e in c)l[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}function J(e){return"object"==typeof e&&null!==e?e:{}}function K(e){e&&e.c()}function Q(e,t,o,c){const{fragment:i,on_mount:s,on_destroy:u,after_update:a}=e.$$;i&&i.m(t,o),c||N((()=>{const t=s.map(n).filter(r);u?u.push(...t):l(t),e.$$.on_mount=[]})),a.forEach(N)}function V(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function W(e,t){-1===e.$$.dirty[0]&&(M.push(e),B||(B=!0,O.then(j)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function X(t,n,r,c,i,u,a,f=[-1]){const g=s;k(t);const d=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(g?g.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:n.target||g.$$.root};a&&a(d.root);let p=!1;if(d.ctx=r?r(t,n.props||{},((e,n,...o)=>{const l=o.length?o[0]:n;return d.ctx&&i(d.ctx[e],d.ctx[e]=l)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](l),p&&W(t,e)),n})):[],d.update(),p=!0,l(d.before_update),d.fragment=!!c&&c(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(m)}else d.fragment&&d.fragment.c();n.intro&&q(t.$$.fragment),Q(t,n.target,n.anchor,n.customElement),j()}k(g)}class Y{$destroy(){V(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Z(e){let t,n,o,l=(e[3]||0==e[4]?"":e[4])+"";return{c(){t=p("div"),n=h(l),v(t,"class",o=a(["cell","opened",e[4]&&0!=e[4]?"":"transparent",e[3]?"mined":"",e[6]?"chartleted":""].join(" "))+" svelte-1k44rg6"),v(t,"id",e[0])},m(e,o){g(e,t,o),f(t,n)},p(e,r){24&r&&l!==(l=(e[3]||0==e[4]?"":e[4])+"")&&C(n,l),88&r&&o!==(o=a(["cell","opened",e[4]&&0!=e[4]?"":"transparent",e[3]?"mined":"",e[6]?"chartleted":""].join(" "))+" svelte-1k44rg6")&&v(t,"class",o),1&r&&v(t,"id",e[0])},d(e){e&&m(t)}}}function ee(e){let t,n,o,l;return{c(){t=p("div"),v(t,"class",n=a(["cell",e[8]?"selected":"",e[2]?"flagged":""].join(" "))+" svelte-1k44rg6"),v(t,"id",e[0])},m(n,r){g(n,t,r),o||(l=b(t,"click",e[9]),o=!0)},p(e,o){260&o&&n!==(n=a(["cell",e[8]?"selected":"",e[2]?"flagged":""].join(" "))+" svelte-1k44rg6")&&v(t,"class",n),1&o&&v(t,"id",e[0])},d(e){e&&m(t),o=!1,l()}}}function te(e){let t;return{c(){t=p("div"),v(t,"class",a(["cell"].join(" "))+" svelte-1k44rg6"),v(t,"id",e[0])},m(e,n){g(e,t,n)},p(e,n){1&n&&v(t,"id",e[0])},d(e){e&&m(t)}}}function ne(t){let n;function o(e,t){return e[5]?te:e[1]||e[7]&&e[3]||e[7]&&e[6]?Z:ee}let l=o(t),r=l(t);return{c(){r.c(),n=$()},m(e,t){r.m(e,t),g(e,n,t)},p(e,[t]){l===(l=o(e))&&r?r.p(e,t):(r.d(1),r=l(e),r&&(r.c(),r.m(n.parentNode,n)))},i:e,o:e,d(e){r.d(e),e&&m(n)}}}function oe(e,t,n){let{id:o}=t,{row:l}=t,{column:r}=t,{opened:c}=t,{flagged:i}=t,{mined:s}=t,{neighborMineCount:u}=t,{disabled:a}=t,{chartleted:f}=t,{gameOver:g}=t,{currentCell:m}=t;const d=x();let p=m&&m.id===o;return I((()=>{n(8,p=m&&m.id===o)})),e.$$set=e=>{"id"in e&&n(0,o=e.id),"row"in e&&n(10,l=e.row),"column"in e&&n(11,r=e.column),"opened"in e&&n(1,c=e.opened),"flagged"in e&&n(2,i=e.flagged),"mined"in e&&n(3,s=e.mined),"neighborMineCount"in e&&n(4,u=e.neighborMineCount),"disabled"in e&&n(5,a=e.disabled),"chartleted"in e&&n(6,f=e.chartleted),"gameOver"in e&&n(7,g=e.gameOver),"currentCell"in e&&n(12,m=e.currentCell)},[o,c,i,s,u,a,f,g,p,function(){d("click",{id:o,row:l,column:r,opened:c,flagged:i,mined:s,neighborMineCount:u,disabled:a,chartleted:f})},l,r,m]}class le extends Y{constructor(e){super(),X(this,e,oe,ne,c,{id:0,row:10,column:11,opened:1,flagged:2,mined:3,neighborMineCount:4,disabled:5,chartleted:6,gameOver:7,currentCell:12})}}function re(t){let n,o,r,c,i,s,u,a,d,$,k,y,I,x,M,_=ce(t[0]-t[1])+"";return{c(){n=p("div"),o=p("div"),r=h(_),c=w(),i=p("div"),s=w(),u=p("div"),a=w(),d=p("div"),$=w(),k=p("div"),y=w(),I=p("div"),v(o,"class","minecount svelte-mr9zwz"),v(i,"class","open svelte-mr9zwz"),v(u,"class","flag svelte-mr9zwz"),v(d,"class","help svelte-mr9zwz"),v(k,"class","restart svelte-mr9zwz"),v(I,"class","next svelte-mr9zwz"),v(n,"class","button-group svelte-mr9zwz")},m(e,l){g(e,n,l),f(n,o),f(o,r),f(n,c),f(n,i),f(n,s),f(n,u),f(n,a),f(n,d),f(n,$),f(n,k),f(n,y),f(n,I),x||(M=[b(i,"click",t[2]),b(u,"click",t[3]),b(d,"click",t[4]),b(k,"click",t[5]),b(I,"click",t[6])],x=!0)},p(e,[t]){3&t&&_!==(_=ce(e[0]-e[1])+"")&&C(r,_)},i:e,o:e,d(e){e&&m(n),x=!1,l(M)}}}function ce(e){return("000"+e).slice(-3)}function ie(e,t,n){let{mineCount:o}=t,{flagCount:l}=t;const r=x();return e.$$set=e=>{"mineCount"in e&&n(0,o=e.mineCount),"flagCount"in e&&n(1,l=e.flagCount)},[o,l,function(){r("open")},function(){r("flag")},function(){r("help")},function(){r("restart")},function(){r("next")}]}class se extends Y{constructor(e){super(),X(this,e,ie,re,c,{mineCount:0,flagCount:1})}}function ue(e,t){return`${e}/${t}`}function ae({row:e,column:t,...n}){return{id:ue(e,t),row:e,column:t,...n}}function fe(e,t){return Math.floor(Math.random()*(t-e))+e}function ge(e){const[t,n]=e.split("/");return{row:t,column:n}}function me(e,t){let{row:n,column:o}=ge(e);n=parseInt(n),o=parseInt(o);const l=[];l.push(ue(n-1,o-1)),l.push(ue(n-1,o)),l.push(ue(n-1,o+1)),l.push(ue(n,o-1)),l.push(ue(n,o+1)),l.push(ue(n+1,o-1)),l.push(ue(n+1,o)),l.push(ue(n+1,o+1));const{rows:r,columns:c}=t;for(let e=0;e<l.length;e++){let{row:t,column:n}=ge(l[e]);(t<0||n<0||t>=r||n>=c)&&(l.splice(e,1),e--)}return l}function de(e,t,n){const o=me(e.id,n);for(let e=0;e<o.length;e++){const{row:n,column:l}=ge(o[e]),r=t[n][l];if(void 0!==r&&r.chartleted)return!0}return!1}function pe(e){const{rows:t,columns:n,startRow:o,mineCount:l}=e;let r=[];for(let e=0;e<t;e++)for(let t=0;t<n;t++)r[e]=r[e]||[],r[e][t]=ae({row:o+e,column:t,opened:!1,flagged:!1,mined:!1,neighborMineCount:0,disabled:!1,chartleted:!1});return r}const he=10,we=65,$e={startRow:0,rows:28,columns:16,mineCount:32},be={startRow:0,rows:he,columns:16,mineCount:12},ve={startRow:he,rows:9,columns:16,mineCount:10},Ce={startRow:19,rows:9,columns:16,mineCount:10};function ke(e,t){const{row:n,column:o}=ge(t),l=e[n][o];let r=0;return void 0!==l&&(r=l.mined?1:0),r}function ye(e,t,n){const{row:o,column:l}=ge(e.id);o<he?(!function(e,t,{regionTopChartletPosition:n}){let{row:o,column:l}=ge(e.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+3},i={row:o+1,column:l-2},s={row:0,column:0};r.row<0&&(s.row=-r.row);i.row>9&&(s.row=-(i.row-9));r.column<0&&(s.column=-r.column);c.column>15&&(s.column=-(c.column-15));r.row+=s.row,r.column+=s.column,c.row+=s.row,c.column+=s.column,c.column>13&&c.row<2&&(l<=13&&o>=2?(r.row+=2-c.row,r.column+=13-c.column):l<=13&&o<2?r.column+=13-c.column:l>13&&o>=2&&(r.row+=2-c.row));Ie(t,r,n,{chartletRows:3,chartletColumns:6})}(e,t,n),Me(t,n),_e(t,n)):o<19?(!function(e,t,{regionMiddleChartletPosition:n}){let{row:o,column:l}=ge(e.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-2},c={row:o-1,column:l+2},i={row:o+2,column:l-2},s={row:0,column:0};r.row<10&&(s.row=-(r.row-10));i.row>18&&(s.row=-(i.row-18));r.column<0&&(s.column=-r.column);c.column>15&&(s.column=-(c.column-15));r.row+=s.row,r.column+=s.column,Ie(t,r,n,{chartletRows:4,chartletColumns:5})}(e,t,n),xe(t,n),_e(t,n)):o<28&&(!function(e,t,{regionBottomChartletPosition:n}){let{row:o,column:l}=ge(e.id);o=parseInt(o),l=parseInt(l);const r={row:o-1,column:l-3},c={row:o-1,column:l+4},i={row:o+1,column:l-3},s={row:o+1,column:l+4},u={row:0,column:0};r.row<19&&(u.row=-(r.row-19));i.row>27&&(u.row=-(i.row-27));r.column<0&&(u.column=-r.column);c.column>15&&(u.column=-(c.column-15));r.row+=u.row,r.column+=u.column,s.row+=u.row,s.column+=u.column,s.column>11&&s.row>24&&(l<=11&&o<=24?(r.row+=24-s.row,r.column+=11-s.column):l<=11&&o>24?r.column+=11-s.column:l>11&&o<=24&&(r.row+=24-s.row));i.column<3&&i.row>21&&(l>=3&&o<=21?(r.row+=21-i.row,r.column+=3-i.column):l>=3&&o>21?r.column+=3-i.column:l<3&&o<=21&&(r.row+=21-i.row));Ie(t,r,n,{chartletRows:3,chartletColumns:8})}(e,t,n),xe(t,n),Me(t,n))}function Ie(e,t,n,{chartletRows:o,chartletColumns:l}){const{row:r,column:c}=t;n.top=r*we+"px",n.left=c*we+"px";for(let t=r;t<r+o;t++)for(let n=c;n<c+l;n++)e[t][n]=ae({...e[t][n],chartleted:!0})}function xe(e,{regionTopChartletPosition:t}){const n=fe(0,8),o=fe(0,9);t.top=n*we+"px",t.left=o*we+"px";for(let t=n;t<n+3;t++)for(let n=o;n<o+6;n++)e[t][n]=ae({...e[t][n],chartleted:!0})}function Me(e,{regionMiddleChartletPosition:t}){const n=fe(10,16),o=fe(0,12);t.top=n*we+"px",t.left=o*we+"px";for(let t=n;t<n+4;t++)for(let n=o;n<o+5;n++)e[t][n]=ae({...e[t][n],chartleted:!0})}function _e(e,{regionBottomChartletPosition:t}){const n=fe(19,26),o=fe(3,5);t.top=n*we+"px",t.left=o*we+"px";for(let t=n;t<n+3;t++)for(let n=o;n<o+8;n++)e[t][n]=ae({...e[t][n],chartleted:!0})}const Ee=["0/14","0/15","1/14","1/15"];const ze=["22/0","22/1","22/2","23/0","23/1","23/2","24/0","24/1","24/2","25/0","25/1","25/2","26/0","26/1","26/2","27/0","27/1","27/2"];const Oe=["25/12","25/13","25/14","25/15","26/12","26/13","26/14","26/15","27/12","27/13","27/14","27/15"];function Be(e,t,{forceUpdateBoard:n,boardConfig:o,lose:l}){if(!(e.opened||e.disabled||e.flagged))if(e.mined)l();else{if(t[e.row][e.column].opened=e.opened=!0,!e.neighborMineCount){const r=me(e.id,o);for(let e=0;e<r.length;e++){const{row:c,column:i}=ge(r[e]),s=t[c][i];void 0===s||s.opened||s.disabled||Be(s,t,{forceUpdateBoard:n,boardConfig:o,lose:l})}}n()}}function Ne(e,t,n){const o=e.slice();return o[37]=t[n],o}function Pe(e,t,n){const o=e.slice();return o[40]=t[n],o}function Re(e,t,n){const o=e.slice();return o[37]=t[n],o}function je(e,t,n){const o=e.slice();return o[40]=t[n],o}function Te(e,t,n){const o=e.slice();return o[37]=t[n],o}function Ue(e,t,n){const o=e.slice();return o[40]=t[n],o}function Ae(e){let t,n,o,l,r,c,i=e[12]&&Le(e);function s(e,t){return e[9]?Fe:e[10]?qe:void 0}let u=s(e),a=u&&u(e),f=e[5],p=[];for(let t=0;t<f.length;t+=1)p[t]=Ge(Te(e,f,t));const h=e=>F(p[e],1,1,(()=>{p[e]=null}));let b=e[6],v=[];for(let t=0;t<b.length;t+=1)v[t]=Je(Re(e,b,t));const C=e=>F(v[e],1,1,(()=>{v[e]=null}));let k=e[7],y=[];for(let t=0;t<k.length;t+=1)y[t]=Qe(Ne(e,k,t));const I=e=>F(y[e],1,1,(()=>{y[e]=null}));return{c(){i&&i.c(),t=w(),a&&a.c(),n=w();for(let e=0;e<p.length;e+=1)p[e].c();o=w();for(let e=0;e<v.length;e+=1)v[e].c();l=w();for(let e=0;e<y.length;e+=1)y[e].c();r=$()},m(e,s){i&&i.m(e,s),g(e,t,s),a&&a.m(e,s),g(e,n,s);for(let t=0;t<p.length;t+=1)p[t].m(e,s);g(e,o,s);for(let t=0;t<v.length;t+=1)v[t].m(e,s);g(e,l,s);for(let t=0;t<y.length;t+=1)y[t].m(e,s);g(e,r,s),c=!0},p(e,c){if(e[12]?i?i.p(e,c):(i=Le(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),u!==(u=s(e))&&(a&&a.d(1),a=u&&u(e),a&&(a.c(),a.m(n.parentNode,n))),65840&c[0]){let t;for(f=e[5],t=0;t<f.length;t+=1){const n=Te(e,f,t);p[t]?(p[t].p(n,c),q(p[t],1)):(p[t]=Ge(n),p[t].c(),q(p[t],1),p[t].m(o.parentNode,o))}for(S(),t=f.length;t<p.length;t+=1)h(t);L()}if(131408&c[0]){let t;for(b=e[6],t=0;t<b.length;t+=1){const n=Re(e,b,t);v[t]?(v[t].p(n,c),q(v[t],1)):(v[t]=Je(n),v[t].c(),q(v[t],1),v[t].m(l.parentNode,l))}for(S(),t=b.length;t<v.length;t+=1)C(t);L()}if(262544&c[0]){let t;for(k=e[7],t=0;t<k.length;t+=1){const n=Ne(e,k,t);y[t]?(y[t].p(n,c),q(y[t],1)):(y[t]=Qe(n),y[t].c(),q(y[t],1),y[t].m(r.parentNode,r))}for(S(),t=k.length;t<y.length;t+=1)I(t);L()}},i(e){if(!c){for(let e=0;e<f.length;e+=1)q(p[e]);for(let e=0;e<b.length;e+=1)q(v[e]);for(let e=0;e<k.length;e+=1)q(y[e]);c=!0}},o(e){p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)F(p[e]);v=v.filter(Boolean);for(let e=0;e<v.length;e+=1)F(v[e]);y=y.filter(Boolean);for(let e=0;e<y.length;e+=1)F(y[e]);c=!1},d(e){i&&i.d(e),e&&m(t),a&&a.d(e),e&&m(n),d(p,e),e&&m(o),d(v,e),e&&m(l),d(y,e),e&&m(r)}}}function Se(t){let n,o,l,r;return{c(){var e,t;n=p("img"),v(n,"class","showup svelte-12ap1v0"),v(n,"alt",""),e=n.src,t=o="./images/showup.gif",i||(i=document.createElement("a")),i.href=t,e!==i.href&&v(n,"src","./images/showup.gif")},m(e,o){g(e,n,o),l||(r=b(n,"click",t[23]),l=!0)},p:e,i:e,o:e,d(e){e&&m(n),l=!1,r()}}}function Le(t){let n,o,l;return{c(){n=p("div"),v(n,"class","helped svelte-12ap1v0")},m(e,r){g(e,n,r),o||(l=b(n,"click",t[22]),o=!0)},p:e,d(e){e&&m(n),o=!1,l()}}}function qe(e){let t;return{c(){t=p("div"),v(t,"class","wined svelte-12ap1v0")},m(e,n){g(e,t,n)},d(e){e&&m(t)}}}function Fe(e){let t;return{c(){t=p("div"),v(t,"class","losed svelte-12ap1v0")},m(e,n){g(e,t,n)},d(e){e&&m(t)}}}function De(e,n){let o,l,r;const c=[{gameOver:n[8]},{currentCell:n[4]},n[40]];let i={};for(let e=0;e<c.length;e+=1)i=t(i,c[e]);return l=new le({props:i}),l.$on("click",n[16]),{key:e,first:null,c(){o=$(),K(l.$$.fragment),this.first=o},m(e,t){g(e,o,t),Q(l,e,t),r=!0},p(e,t){n=e;const o=304&t[0]?H(c,[256&t[0]&&{gameOver:n[8]},16&t[0]&&{currentCell:n[4]},32&t[0]&&J(n[40])]):{};l.$set(o)},i(e){r||(q(l.$$.fragment,e),r=!0)},o(e){F(l.$$.fragment,e),r=!1},d(e){e&&m(o),V(l,e)}}}function Ge(e){let t,n,o,l=[],r=new Map,c=e[37];const i=e=>e[40].id;for(let t=0;t<c.length;t+=1){let n=Ue(e,c,t),o=i(n);r.set(o,l[t]=De(o,n))}return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=w(),n=p("br")},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);g(e,t,r),g(e,n,r),o=!0},p(e,n){65840&n[0]&&(c=e[37],S(),l=G(l,n,i,1,e,c,r,t.parentNode,D,De,t,Ue),L())},i(e){if(!o){for(let e=0;e<c.length;e+=1)q(l[e]);o=!0}},o(e){for(let e=0;e<l.length;e+=1)F(l[e]);o=!1},d(e){for(let t=0;t<l.length;t+=1)l[t].d(e);e&&m(t),e&&m(n)}}}function He(e,n){let o,l,r;const c=[{gameOver:n[8]},{currentCell:n[4]},n[40]];let i={};for(let e=0;e<c.length;e+=1)i=t(i,c[e]);return l=new le({props:i}),l.$on("click",n[17]),{key:e,first:null,c(){o=$(),K(l.$$.fragment),this.first=o},m(e,t){g(e,o,t),Q(l,e,t),r=!0},p(e,t){n=e;const o=336&t[0]?H(c,[256&t[0]&&{gameOver:n[8]},16&t[0]&&{currentCell:n[4]},64&t[0]&&J(n[40])]):{};l.$set(o)},i(e){r||(q(l.$$.fragment,e),r=!0)},o(e){F(l.$$.fragment,e),r=!1},d(e){e&&m(o),V(l,e)}}}function Je(e){let t,n,o,l=[],r=new Map,c=e[37];const i=e=>e[40].id;for(let t=0;t<c.length;t+=1){let n=je(e,c,t),o=i(n);r.set(o,l[t]=He(o,n))}return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=w(),n=p("br")},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);g(e,t,r),g(e,n,r),o=!0},p(e,n){131408&n[0]&&(c=e[37],S(),l=G(l,n,i,1,e,c,r,t.parentNode,D,He,t,je),L())},i(e){if(!o){for(let e=0;e<c.length;e+=1)q(l[e]);o=!0}},o(e){for(let e=0;e<l.length;e+=1)F(l[e]);o=!1},d(e){for(let t=0;t<l.length;t+=1)l[t].d(e);e&&m(t),e&&m(n)}}}function Ke(e,n){let o,l,r;const c=[{gameOver:n[8]},{currentCell:n[4]},n[40]];let i={};for(let e=0;e<c.length;e+=1)i=t(i,c[e]);return l=new le({props:i}),l.$on("click",n[18]),{key:e,first:null,c(){o=$(),K(l.$$.fragment),this.first=o},m(e,t){g(e,o,t),Q(l,e,t),r=!0},p(e,t){n=e;const o=400&t[0]?H(c,[256&t[0]&&{gameOver:n[8]},16&t[0]&&{currentCell:n[4]},128&t[0]&&J(n[40])]):{};l.$set(o)},i(e){r||(q(l.$$.fragment,e),r=!0)},o(e){F(l.$$.fragment,e),r=!1},d(e){e&&m(o),V(l,e)}}}function Qe(e){let t,n,o,l=[],r=new Map,c=e[37];const i=e=>e[40].id;for(let t=0;t<c.length;t+=1){let n=Pe(e,c,t),o=i(n);r.set(o,l[t]=Ke(o,n))}return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=w(),n=p("br")},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);g(e,t,r),g(e,n,r),o=!0},p(e,n){262544&n[0]&&(c=e[37],S(),l=G(l,n,i,1,e,c,r,t.parentNode,D,Ke,t,Pe),L())},i(e){if(!o){for(let e=0;e<c.length;e+=1)q(l[e]);o=!0}},o(e){for(let e=0;e<l.length;e+=1)F(l[e]);o=!1},d(e){for(let t=0;t<l.length;t+=1)l[t].d(e);e&&m(t),e&&m(n)}}}function Ve(e){let t,n,o,l,r,c,i,s,u,a,d,h,$,b,C,k,y,I,x,M,_,E,z,O;const B=[Se,Ae],N=[];function P(e,t){return e[11]?1:0}return I=P(e),x=N[I]=B[I](e),_=new se({props:{mineCount:e[0],flagCount:e[3]}}),_.$on("open",e[19]),_.$on("flag",e[20]),_.$on("help",e[21]),_.$on("restart",e[24]),_.$on("next",We),{c(){t=p("div"),n=p("div"),o=p("div"),r=w(),c=p("div"),s=w(),u=p("div"),d=w(),h=p("div"),$=w(),b=p("div"),C=w(),k=p("div"),y=w(),x.c(),M=w(),K(_.$$.fragment),v(o,"class","chartlet top svelte-12ap1v0"),v(o,"style",l=`background-image: url(./images/chartlettop${fe(1,6)}.png);top: ${e[13].top};left: ${e[13].left}`),v(c,"class","chartlet middle svelte-12ap1v0"),v(c,"style",i=`background-image: url(./images/chartletmiddle${fe(1,6)}.png);top: ${e[14].top};left: ${e[14].left}`),v(u,"class","chartlet bottom svelte-12ap1v0"),v(u,"style",a=`background-image: url(./images/chartletbottom${fe(1,6)}.png);top: ${e[15].top};left: ${e[15].left}`),v(h,"class","layer number22 svelte-12ap1v0"),v(b,"class","layer infos svelte-12ap1v0"),v(k,"class","layer logo svelte-12ap1v0"),v(n,"class","board svelte-12ap1v0"),v(n,"style",E=`background-image: url(./images/bg${fe(1,6)}${e[1]?"s":""}.png);`),v(t,"class","container svelte-12ap1v0"),v(t,"style",z=""+(e[2]<1?"margin: 0 auto":""))},m(e,l){g(e,t,l),f(t,n),f(n,o),f(n,r),f(n,c),f(n,s),f(n,u),f(n,d),f(n,h),f(n,$),f(n,b),f(n,C),f(n,k),f(n,y),N[I].m(n,null),f(n,M),Q(_,n,null),O=!0},p(e,r){(!O||8192&r[0]&&l!==(l=`background-image: url(./images/chartlettop${fe(1,6)}.png);top: ${e[13].top};left: ${e[13].left}`))&&v(o,"style",l),(!O||16384&r[0]&&i!==(i=`background-image: url(./images/chartletmiddle${fe(1,6)}.png);top: ${e[14].top};left: ${e[14].left}`))&&v(c,"style",i),(!O||32768&r[0]&&a!==(a=`background-image: url(./images/chartletbottom${fe(1,6)}.png);top: ${e[15].top};left: ${e[15].left}`))&&v(u,"style",a);let s=I;I=P(e),I===s?N[I].p(e,r):(S(),F(N[s],1,1,(()=>{N[s]=null})),L(),x=N[I],x?x.p(e,r):(x=N[I]=B[I](e),x.c()),q(x,1),x.m(n,M));const f={};1&r[0]&&(f.mineCount=e[0]),8&r[0]&&(f.flagCount=e[3]),_.$set(f),(!O||2&r[0]&&E!==(E=`background-image: url(./images/bg${fe(1,6)}${e[1]?"s":""}.png);`))&&v(n,"style",E),(!O||4&r[0]&&z!==(z=""+(e[2]<1?"margin: 0 auto":"")))&&v(t,"style",z)},i(e){O||(q(x),q(_.$$.fragment,e),O=!0)},o(e){F(x),F(_.$$.fragment,e),O=!1},d(e){e&&m(t),N[I].d(),V(_)}}}function We(e){console.log("next")}function Xe(e,n,o){let l=1,{mineCount:r}=n,{bgs:c}=n,i=0,s=null,a=[],f=[],g=[],m=!0,d=!1,p=!1,h=!1,w=!1,$=!1,b={top:0,left:"-780px"},v={top:0,left:"-780px"},C={top:0,left:"-780px"};try{l=window.screen.width<1080?window.screen.width/1080:1}catch(e){}function k(){return[...a,...f,...g]}function x(){o(5,a),o(6,f),o(7,g)}function M(e){d||e.disabled||e.opened||(s&&s.id===e.id?o(4,s=null):o(4,s=e))}function _(){o(8,d=!0),setTimeout((()=>{o(9,p=!0)}),3e3)}function E(e){o(3,i+=e?1:-1)}function z(){const e=k(),t=[];for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++){const l=e[n][o];l.opened||t.push(l)}let n=!0;t.forEach((e=>{e.mined||e.disabled||(n=!1)}));let l=!0;return t.forEach((e=>{(e.flagged&&!e.mined||!e.flagged&&e.mined)&&(l=!1)})),(n||l)&&(o(8,d=!0),o(10,h=!0)),n||l}function O(){o(3,i=0),o(5,a=pe({...be,mineCount:0})),o(6,f=pe({...ve,mineCount:0})),o(7,g=pe({...Ce,mineCount:0})),m=!0,o(8,d=!1),o(9,p=!1),o(10,h=!1),o(12,$=!1),o(4,s=null),o(13,b={top:0,left:"-780px"}),o(14,v={top:0,left:"-780px"}),o(15,C={top:0,left:"-780px"}),function(e){for(let t=0;t<Ee.length;t++){const{row:n,column:o}=ge(Ee[t]);e[n][o]=ae({...e[n][o],disabled:!0})}}(k()),function(e){for(let t=0;t<ze.length;t++){const{row:n,column:o}=ge(ze[t]);e[n][o]=ae({...e[n][o],disabled:!0})}}(k()),function(e){for(let t=0;t<Oe.length;t++){const{row:n,column:o}=ge(Oe[t]);e[n][o]=ae({...e[n][o],disabled:!0})}}(k()),x()}var B;return I((()=>{console.log("app",k())})),B=()=>{console.log("onmount!!",n),O()},y().$$.on_mount.push(B),setTimeout((()=>{let e=new Image;e.src="./images/bg1.png";let t=new Image;t.src="./images/bg2.png";let n=new Image;n.src="./images/bg3.png";let o=new Image;o.src="./images/bg4.png";let l=new Image;l.src="./images/bg5.png";let r=new Image;r.src="./images/bg1s.png";let c=new Image;c.src="./images/bg2s.png";let i=new Image;i.src="./images/bg3s.png";let s=new Image;s.src="./images/bg4s.png";let u=new Image;u.src="./images/bg5s.png";let a=new Image;a.src="./images/chartletbottom1.png";let f=new Image;f.src="./images/chartletbottom2.png";let g=new Image;g.src="./images/chartletbottom3.png";let m=new Image;m.src="./images/chartletbottom4.png";let d=new Image;d.src="./images/chartletbottom5.png";let p=new Image;p.src="./images/chartlettop1.png";let h=new Image;h.src="./images/chartlettop2.png";let w=new Image;w.src="./images/chartlettop3.png";let $=new Image;$.src="./images/chartlettop4.png";let b=new Image;b.src="./images/chartlettop5.png";let v=new Image;v.src="./images/chartletmiddle1.png";let C=new Image;C.src="./images/chartletmiddle2.png";let k=new Image;k.src="./images/chartletmiddle3.png";let y=new Image;y.src="./images/chartletmiddle4.png";let I=new Image;I.src="./images/chartletmiddle5.png";let x=new Image;x.src="./images/helpped.png";let M=new Image;M.src="./images/wined.png";let _=new Image;_.src="./images/losed.png";let E=new Image;E.src="./images/helped.png";let z=new Image;z.src="./images/flagged.png";let O=new Image;O.src="./images/opened.png";let B=new Image;B.src="./images/nexted.png";let N=new Image;N.src="./images/restarted.png",setTimeout((()=>{x=null,M=null,_=null,E=null,z=null,O=null,B=null,N=null,e=null,t=null,n=null,o=null,l=null,r=null,c=null,i=null,s=null,u=null,a=null,f=null,g=null,m=null,d=null,p=null,h=null,w=null,$=null,b=null,v=null,C=null,k=null,y=null,I=null}),3e3)}),0),e.$$set=e=>{o(36,n=t(t({},n),u(e))),"mineCount"in e&&o(0,r=e.mineCount),"bgs"in e&&o(1,c=e.bgs)},n=u(n),[r,c,l,i,s,a,f,g,d,p,h,w,$,b,v,C,function(e){const{detail:t}=e;M(t)},function(e){const{detail:t}=e;M(t)},function(e){const{detail:t}=e;M(t)},function(e){!d&&w&&s&&(m&&(m=!1,ye(s,k(),{regionTopChartletPosition:b,regionMiddleChartletPosition:v,regionBottomChartletPosition:C}),o(13,b),o(14,v),o(15,C),function(e,t){const{rows:n,columns:o,mineCount:l,startRow:r}=t,c=[];for(let r=0;r<l;r++){let l=fe(0,n),r=fe(0,o),i=ue(l,r),s=e[l][r];for(;c.includes(i)||s.disabled||s.chartleted||de(s,e,t);)l=fe(0,n),r=fe(0,o),i=ue(l,r),s=e[l][r];c.push(i),e[l][r].mined=!0}}(k(),{...$e,mineCount:r}),function(e,t){const{rows:n,columns:o}=t;let l,r=0;for(let c=0;c<n;c++)for(let n=0;n<o;n++){const o=ue(c,n);if(l=e[c][n],l.neighborMineCount=0,!l.mined){const n=me(o,t);r=0;for(let t=0;t<n.length;t++)r+=ke(e,n[t]);l.neighborMineCount=r}}}(k(),$e),x()),Be(s,k(),{forceUpdateBoard:x,boardConfig:$e,lose:_}),z())},function(e){if(!d&&!m&&w&&s){if(!s.flagged&&i>=r)return;!function(e,t,{forceUpdateBoard:n,boardConfig:o,flagged:l}){e.opened||e.disabled||(t[e.row][e.column].flagged=e.flagged=!e.flagged,console.log("cell",e,t),l(e.flagged),n())}(s,k(),{forceUpdateBoard:x,boardConfig:$e,flagged:E}),z()}},function(e){w&&o(12,$=!$)},function(){w&&o(12,$=!1)},function(){o(11,w=!0)},function(e){w&&O()}]}class Ye extends Y{constructor(e){super(),X(this,e,Xe,Ve,c,{mineCount:0,bgs:1},null,[-1,-1])}}function Ze(t){let n,o,l,r,c,i,s,u,a;return o=new Ye({props:{mineCount:35,bgs:!0}}),r=new Ye({props:{mineCount:40,bgs:!0}}),i=new Ye({props:{mineCount:45}}),u=new Ye({props:{mineCount:50}}),{c(){n=p("div"),K(o.$$.fragment),l=w(),K(r.$$.fragment),c=w(),K(i.$$.fragment),s=w(),K(u.$$.fragment)},m(e,t){g(e,n,t),Q(o,n,null),f(n,l),Q(r,n,null),f(n,c),Q(i,n,null),f(n,s),Q(u,n,null),a=!0},p:e,i(e){a||(q(o.$$.fragment,e),q(r.$$.fragment,e),q(i.$$.fragment,e),q(u.$$.fragment,e),a=!0)},o(e){F(o.$$.fragment,e),F(r.$$.fragment,e),F(i.$$.fragment,e),F(u.$$.fragment,e),a=!1},d(e){e&&m(n),V(o),V(r),V(i),V(u)}}}return new class extends Y{constructor(e){super(),X(this,e,null,Ze,c,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
